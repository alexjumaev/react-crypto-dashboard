!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/react-crypto-dashboard/",r(r.s=68)}([function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.exports=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=function(r,o){var a,s,u,c=Object.assign(n,(a={},s=r,u=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).constructor=c,r.__proto__=c.prototype,r.message=e,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(t),s in a?Object.defineProperty(a,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[s]=u,a))[r];e(c,o,n)};var s=Object.entries(r);for(var u=0;u<s.length;u++){var c=s[u],d=o(c,2),l=d[0],h=d[1];a(l,h)}return n}(Error,{BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{}},NotSupported:{}},NetworkError:{DDoSProtection:{},ExchangeNotAvailable:{},InvalidNonce:{},RequestTimeout:{}}}})},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var u=r(30),c=r(98),d=u.isNode,l=(u.keys,u.values,u.deepExtend),h=u.extend,p=u.flatten,f=u.unique,v=u.indexBy,m=u.sortBy,b=u.groupBy,g=u.aggregate,k=(u.uuid,u.unCamelCase),w=(u.precisionFromString,u.throttle),x=u.capitalize,O=u.now,T=(u.sleep,u.timeout),_=u.TimedOut,C=u.buildOHLCVC,R=r(0),S=R.ExchangeError,P=R.InvalidAddress,E=R.NotSupported,B=R.AuthenticationError,I=R.DDoSProtection,F=R.RequestTimeout,A=R.ExchangeNotAvailable,j=u.precisionConstants.DECIMAL_PLACES,M="undefined"===typeof fetch?r(99)().fetch:fetch,D=void 0;e.exports=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,u,{encode:function(e){return e},decode:function(e){return e}}),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.iso8601=function(e){var t=parseInt(e,10);if(!(isNaN(t)||t<0)&&!(t<0))try{return new Date(t).toISOString()}catch(e){return}},this.parse8601=function(e){if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{var t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(isNaN(t))return;return t}catch(e){return}},this.parseDate=function(e){if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(e){return}return t.parse8601(e)}},this.microseconds=function(){return 1e3*O()},this.seconds=function(){return Math.floor(O()/1e3)},this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.fetchImplementation=M,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.journal="debug.json",this.userAgent=void 0,this.twofa=!1,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders={},this.trades={},this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0,this.arrayConcat=function(e,t){return e.concat(t)};!function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;if(null!==r){var n=!0,i=!1,o=void 0;try{for(var a,s=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;t[k(u)]=t[u]}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e(Object.getPrototypeOf(r))}}();for(var n=l(this.describe(),r),i=Object.entries(n),a=0;a<i.length;a++){var s=o(i[a],2),c=s[0],d=s[1];this[c]=l(this[c],d)}for(var h in this.has)this["has"+x(h)]=!!this.has[h];this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets),this.debug&&D&&D(function(){return t.journal},this,Object.keys(this.has))}var t,r,a,R,L,G,N,q,U;return s(e,[{key:"getMarket",value:function(e){this.marketClasses||(this.marketClasses={});var t=this.marketClasses[e];return t||(t=new c(this,e),this.marketClasses[e]=t,t)}},{key:"describe",value:function(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!1,rateLimit:2e3,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelOrders:!1,createDepositAddress:!1,createOrder:!0,createMarketOrder:!0,createLimitOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,fetchTradingFees:!1,fetchTradingLimits:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},parseJsonResponse:!0,skipJsonOnStatusCodes:[],exceptions:void 0,dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH"},precisionMode:j}}}]),s(e,[{key:"defaults",value:function(){return{}}},{key:"nonce",value:function(){return this.seconds()}},{key:"milliseconds",value:function(){return O()}},{key:"encodeURIComponent",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return encodeURIComponent.apply(void 0,arguments)})},{key:"checkRequiredCredentials",value:function(){var e=this;Object.keys(this.requiredCredentials).forEach(function(t){if(e.requiredCredentials[t]&&!e[t])throw new B(e.id+" requires `"+t+"`")})}},{key:"checkAddress",value:function(e){if("undefined"===typeof e)throw new P(this.id+" address is undefined");if(1===f(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new P(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+e.toString()+'"');return e}},{key:"initRestRateLimiter",value:function(){var e=this.fetchImplementation;if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({refillRate:1/this.rateLimit,delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=w(this.tokenBucket),this.executeRestRequest=function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=e(t,this.extend({method:n,headers:i,body:o,agent:this.agent||null,timeout:this.timeout},this.fetchOptions)).catch(function(e){if(d)throw new A([r.id,n,t,e.type,e.message].join(" "));throw e}).then(function(e){return r.handleRestResponse(e,t,n,i,o)});return T(this.timeout,a).catch(function(e){if(e instanceof _)throw new F(r.id+" "+n+" "+t+" request timed out ("+r.timeout+" ms)");throw e})}}},{key:"defineRestApi",value:function(e,t){for(var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var a=Object.keys(e[o]),s=0;s<a.length;s++)for(var u=a[s],c=e[o][u],d=function(e){var a=c[e].trim(),s=a.split(/[^a-zA-Z0-9]/),d=u.toUpperCase(),l=u.toLowerCase(),h=r.capitalize(l),p=s.map(r.capitalize).join(""),f=s.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return e.length>0}).join("_"),v=o+h+r.capitalize(p),m=o+"_"+l+"_"+f;"suffixes"in n&&("camelcase"in n.suffixes&&(v+=n.suffixes.camelcase),"underscore"in n.suffixes&&(m+=n.suffixes.underscore)),"underscore_suffix"in n&&(m+=n.underscoreSuffix),"camelcase_suffix"in n&&(v+=n.camelcaseSuffix);var y=function(){var e=i(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r[t](a,o,d,n||{}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r[v]=y,r[m]=y},l=0;l<c.length;l++)d(l)},a=Object.keys(e),s=0;s<a.length;s++){o(a[s])}}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return d&&this.userAgent&&("string"===typeof this.userAgent?r=h({"User-Agent":this.userAgent},r):"object"===n(this.userAgent)&&"User-Agent"in this.userAgent&&(r=h(this.userAgent,r))),"function"===typeof this.proxy?(e=this.proxy(e),d&&(r=h({Origin:this.origin},r))):"string"===typeof this.proxy&&(this.proxy.length&&d&&(r=h({Origin:this.origin},r)),e=this.proxy+e),r=h(this.headers,r),this.verbose&&console.log("fetch:\n",this.id,t,e,"\nRequest:\n",r,"\n",i,"\n"),this.executeRestRequest(e,t,r,i)}},{key:"fetch2",value:(U=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,!this.enableRateLimit){e.next=8;break}return e.next=8,this.throttle();case 8:return s=this.sign(t,r,n,i,o,a),e.abrupt("return",this.fetch(s.url,s.method,s.headers,s.body));case 10:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return this.fetch2(e,t,r,n,i,o)}},{key:"parseJson",value:function(e,t,r,n){try{return t.length>0?JSON.parse(t):{}}catch(d){this.verbose&&console.log("parseJson:\n",this.id,n,r,e.status,"error",d,"response body:\n'"+t+"'\n");var i=void 0,o=t.match(/<title>([^<]+)/i);o&&(i=o[1].trim());var a=t.match(/offline|busy|retry|wait|unavailable|maintain|maintenance|maintenancing/i),s=t.match(/cloudflare|incapsula|overload|ddos/i);if(d instanceof SyntaxError){var u=A,c="not accessible from this location at the moment";throw a&&(c="offline, on maintenance or unreachable from this location at the moment"),s&&(u=I),new u([this.id,n,r,e.status,i,c].join(" "))}throw d}}},{key:"handleErrors",value:function(e,t,r,n,i,o,a){}},{key:"defaultErrorHandler",value:function(e,t,r,n){var i=e.status,o=e.statusText;if(!(i>=200&&i<=299)){var a=void 0,s=t,u=t.match(/<title>([^<]+)/i);if(u&&(s=u[1].trim()),[418,429].includes(i))a=I;else if([404,409,500,501,502,520,521,522,525].includes(i))a=A;else if([400,403,405,503,530].includes(i)){t.match(/cloudflare|incapsula/i)?a=I:(a=A,s+=" (possible reasons: "+["invalid API keys","bad or old nonce","exchange is down or offline","on maintenance","DDoS protection","rate-limiting"].join(", ")+")")}else a=[408,504].includes(i)?F:[401,511].includes(i)?B:S;throw new a([this.id,n,r,i,o,s].join(" "))}}},{key:"handleRestResponse",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.text().then(function(i){var o=r.parseJsonResponse&&!r.skipJsonOnStatusCodes.includes(e.status),a=o?r.parseJson(e,i,t,n):void 0,s={};e.headers.forEach(function(e,t){t=t.split("-").map(function(e){return x(e)}).join("-"),s[t]=e}),r.last_response_headers=s,r.last_http_response=i,r.last_json_response=a,r.verbose&&console.log("handleRestResponse:\n",r.id,n,t,e.status,e.statusText,"\nResponse:\n",s,"\n",i,"\n");var u=[e.status,e.statusText,t,n,s,i,a];return r.handleErrors.apply(r,u),r.defaultErrorHandler(e,i,t,n),o?a:i})}},{key:"setMarkets",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object.values(e).map(function(e){return l({limits:t.limits,precision:t.precision},t.fees.trading,e)});if(this.markets=l(this.markets,v(n,"symbol")),this.marketsById=v(e,"id"),this.markets_by_id=this.marketsById,this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),r)this.currencies=l(r,this.currencies);else{var i=n.filter(function(e){return"base"in e}).map(function(e){return{id:e.baseId||e.base,numericId:"undefined"!==typeof e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8}}),o=n.filter(function(e){return"quote"in e}).map(function(e){return{id:e.quoteId||e.quote,numericId:"undefined"!==typeof e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}}),a=i.concat(o),s=b(a,"code"),u=Object.keys(s).map(function(e){return s[e].reduce(function(e,t){return e.precision>t.precision?e:t},s[e][0])}),c=m(p(u),"code");this.currencies=l(v(c,"code"),this.currencies)}return this.currencies_by_id=v(this.currencies,"id"),this.markets}},{key:"loadMarkets",value:(q=i(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]||!this.markets){e.next=5;break}if(this.markets_by_id){e.next=4;break}return e.abrupt("return",this.setMarkets(this.markets));case 4:return e.abrupt("return",this.markets);case 5:return e.next=7,this.fetchMarkets();case 7:if(t=e.sent,r=void 0,!this.has.fetchCurrencies){e.next=13;break}return e.next=12,this.fetchCurrencies();case 12:r=e.sent;case 13:return e.abrupt("return",this.setMarkets(t,r));case 14:case"end":return e.stop()}},e,this)})),function(){return q.apply(this,arguments)})},{key:"fetchBidsAsks",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new E(this.id+" fetchBidsAsks not supported yet")}},{key:"fetchOHLCVC",value:(N=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"1m",n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},this.has.fetchTrades){e.next=6;break}throw new E(this.id+" fetchOHLCV() not supported yet");case 6:return e.next=8,this.loadMarkets();case 8:return e.next=10,this.fetchTrades(t,n,i,o);case 10:return a=e.sent,s=C(a,r,n,i),e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"fetchOHLCV",value:(G=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"1m",n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},this.has.fetchTrades){e.next=6;break}throw new E(this.id+" fetchOHLCV() not supported yet");case 6:return e.next=8,this.loadMarkets();case 8:return e.next=10,this.fetchTrades(t,n,i,o);case 10:return a=e.sent,s=C(a,r,n,i),e.abrupt("return",s.map(function(e){return e.slice(0,-1)}));case 13:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"convertTradingViewToOHLCV",value:function(e){for(var t=[],r=0;r<e.t.length;r++)t.push([1e3*e.t[r],e.o[r],e.h[r],e.l[r],e.c[r],e.v[r]]);return t}},{key:"convertOHLCVToTradingView",value:function(e){for(var t={t:[],o:[],h:[],l:[],c:[],v:[]},r=0;r<e.length;r++)t.t.push(parseInt(e[r][0]/1e3)),t.o.push(e[r][1]),t.h.push(e[r][2]),t.l.push(e[r][3]),t.c.push(e[r][4]),t.v.push(e[r][5]);return t}},{key:"fetchTickers",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new E(this.id+" fetchTickers not supported yet")}},{key:"purgeCachedOrders",value:function(e){var t=Object.values(this.orders).filter(function(t){return"open"===t.status||t.timestamp>=e});return this.orders=v(t,"id"),this.orders}},{key:"fetchOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new E(this.id+" fetchOrder not supported yet")}},{key:"fetchOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new E(this.id+" fetchOrders not supported yet")}},{key:"fetchOpenOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new E(this.id+" fetchOpenOrders not supported yet")}},{key:"fetchClosedOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new E(this.id+" fetchClosedOrders not supported yet")}},{key:"fetchMyTrades",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new E(this.id+" fetchMyTrades not supported yet")}},{key:"fetchCurrencies",value:function(){throw new E(this.id+" fetchCurrencies not supported yet")}},{key:"fetchMarkets",value:function(){var e=this;return new Promise(function(t,r){return t(Object.values(e.markets))})}},{key:"fetchOrderStatus",value:(L=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,e.next=3,this.fetchOrder(t,r);case 3:return n=e.sent,e.abrupt("return",n.status);case 5:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"account",value:function(){return{free:0,used:0,total:0}}},{key:"commonCurrencyCode",value:function(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}},{key:"currencyId",value:function(e){for(var t={},r=Object.keys(this.commonCurrencies),n=0;n<r.length;n++){var i=r[n];t[this.commonCurrencies[i]]=i}return this.safeString(t,e,e)}},{key:"currency",value:function(e){if("undefined"===typeof this.currencies)throw new S(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new S(this.id+" does not have currency code "+e)}},{key:"findMarket",value:function(e){if("undefined"===typeof this.markets)throw new S(this.id+" markets not loaded");if("string"===typeof e){if(e in this.markets_by_id)return this.markets_by_id[e];if(e in this.markets)return this.markets[e]}return e}},{key:"findSymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"undefined"===typeof t&&(t=this.findMarket(e)),"object"===n(t)?t.symbol:e}},{key:"market",value:function(e){if("undefined"===typeof this.markets)throw new S(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new S(this.id+" does not have market symbol "+e)}},{key:"marketId",value:function(e){var t=this.market(e);return"undefined"!==typeof t?t.id:e}},{key:"marketIds",value:function(e){var t=this;return e.map(function(e){return t.marketId(e)})}},{key:"symbol",value:function(e){return this.market(e).symbol||e}},{key:"extractParams",value:function(e){for(var t=/{([\w-]+)}/g,r=[],n=t.exec(e);n;)r.push(n[1]),n=t.exec(e);return r}},{key:"implodeParams",value:function(e,t){for(var r in t)e=e.replace("{"+r+"}",t[r]);return e}},{key:"url",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.implodeParams(e,t),n=this.omit(t,this.extractParams(e));return Object.keys(n).length&&(r+="?"+this.urlencode(n)),r}},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return[parseFloat(e[t]),parseFloat(e[r])]}},{key:"parseBidsAsks",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object.values(e||[]).map(function(e){return t.parseBidAsk(e,r,n)})}},{key:"fetchL2OrderBook",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.fetchOrderBook(t,r,n);case 4:return i=e.sent,e.abrupt("return",h(i,{bids:m(g(i.bids),0,!0),asks:m(g(i.asks),0)}));case 6:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseOrderBook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bids",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asks",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{bids:m(r in e?this.parseBidsAsks(e[r],i,o):[],0,!0),asks:m(n in e?this.parseBidsAsks(e[n],i,o):[],0),timestamp:t,datetime:"undefined"!==typeof t?this.iso8601(t):void 0,nonce:void 0}}},{key:"getCurrencyUsedOnOpenOrders",value:function(e){var t=this;return Object.values(this.orders).filter(function(e){return"open"===e.status}).reduce(function(r,n){var i=n.symbol,o=t.markets[i],a=n.remaining;return e===o.base&&"sell"===n.side?r+a:e===o.quote&&"buy"===n.side?r+n.price*a:r},0)}},{key:"parseBalance",value:function(e){var t=this;return Object.keys(this.omit(e,"info")).forEach(function(r){if("undefined"===typeof e[r].used)if(t.dontGetUsedBalanceFromStaleCache&&"open_orders"in e.info){var n=e.info.open_orders;Object.values(t.orders).filter(function(e){return"open"===e.status}).length===n&&(e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=e[r].used+e[r].free)}else e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=e[r].used+e[r].free;["free","used","total"].forEach(function(t){e[t]=e[t]||{},e[t][r]=e[r][t]})}),e}},{key:"fetchPartialBalance",value:(a=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.fetchBalance(r);case 3:return n=e.sent,e.abrupt("return",n[t]);case 5:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"fetchFreeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("free",e)}},{key:"fetchUsedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("used",e)}},{key:"fetchTotalBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("total",e)}},{key:"loadTradingLimits",value:(r=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]&&u[1],u.length>2&&void 0!==u[2]?u[2]:{},!this.has.fetchTradingLimits){e.next=12;break}if(!r&&"limitsLoaded"in this.options){e.next=12;break}return e.next=7,this.fetchTradingLimits(t);case 7:for(n=e.sent,i=n.limits,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],this.markets[s]=this.deepExtend(this.markets[s],{limits:i[s]});this.options.limitsLoaded=this.milliseconds();case 12:return e.abrupt("return",this.markets);case 13:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"filterBySinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return"undefined"!==typeof t&&null!==t&&(e=e.filter(function(e){return e.timestamp>=t})),"undefined"!==typeof r&&null!==r&&(e=e.slice(0,r)),e}},{key:"filterBySymbolSinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i="undefined"!==typeof t&&null!==t,o="undefined"!==typeof r&&null!==r;return(i||o)&&(e=Object.values(e).filter(function(e){return(!i||e.symbol===t)&&(!o||e.timestamp>=r)})),"undefined"!==typeof n&&null!==n&&(e=Object.values(e).slice(0,n)),e}},{key:"filterByArray",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e=Object.values(e),"undefined"===typeof r||null===r)return n?v(e,t):e;for(var i=[],o=0;o<e.length;o++)r.includes(e[o][t])&&i.push(e[o]);return n?v(i,t):i}},{key:"parseTrades",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=Object.values(e||[]).map(function(e){return t.parseTrade(e,r)});o=m(o,"timestamp");var a="undefined"!==typeof r?r.symbol:void 0;return this.filterBySymbolSinceLimit(o,a,n,i)}},{key:"parseOrders",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=Object.values(e).map(function(e){return t.parseOrder(e,r)});o=m(o,"timestamp");var a="undefined"!==typeof r?r.symbol:void 0;return this.filterBySymbolSinceLimit(o,a,n,i)}},{key:"filterBySymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"undefined"!==typeof t?e.filter(function(e){return e.symbol===t}):e}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Array.isArray(e)?e.slice(0,6):e}},{key:"parseOHLCVs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;e=Object.values(e);for(var o=[],a=0;a<e.length&&!(i&&o.length>=i);a++){var s=this.parseOHLCV(e[a],t,r,n,i);n&&s[0]<n||o.push(s)}return o}},{key:"editLimitBuyOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editLimitOrder.apply(this,[e,t,"buy"].concat(n))}},{key:"editLimitSellOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editLimitOrder.apply(this,[e,t,"sell"].concat(n))}},{key:"editLimitOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editOrder.apply(this,[e,t,"limit"].concat(n))}},{key:"editOrder",value:(t=i(regeneratorRuntime.mark(function e(t,r){var n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enableRateLimit){e.next=2;break}throw new S(this.id+" editOrder() requires enableRateLimit = true");case 2:return e.next=4,this.cancelOrder(t,r);case 4:for(n=a.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=a[o];return e.abrupt("return",this.createOrder.apply(this,[r].concat(i)));case 6:case"end":return e.stop()}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"createLimitOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit"].concat(r))}},{key:"createMarketOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"market"].concat(r))}},{key:"createLimitBuyOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit","buy"].concat(r))}},{key:"createLimitSellOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit","sell"].concat(r))}},{key:"createMarketBuyOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","buy",t,void 0,r)}},{key:"createMarketSellOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","sell",t,void 0,r)}},{key:"costToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"priceToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"amountToPrecision",value:function(e,t){return this.truncate(t,this.markets[e].precision.amount)}},{key:"amountToString",value:function(e,t){return this.truncate_to_string(t,this.markets[e].precision.amount)}},{key:"amountToLots",value:function(e,t){var r=this.markets[e].lot;return this.amountToPrecision(e,Math.floor(t/r)*r)}},{key:"feeToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s=a[o],u=parseFloat(this.costToPrecision(e,n*i));return{type:o,currency:a.quote,rate:s,cost:parseFloat(this.feeToPrecision(e,s*u))}}},{key:"mdy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),n=(r.getUTCFullYear().toString(),r.getUTCMonth()+1),i=r.getUTCDate();return(n=n<10?"0"+n:n.toString())+t+(i=i<10?"0"+i:i.toString())+t+y}},{key:"ymd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),n=r.getUTCFullYear().toString(),i=r.getUTCMonth()+1,o=r.getUTCDate();return n+t+(i=i<10?"0"+i:i.toString())+t+(o=o<10?"0"+o:o.toString())}},{key:"ymdhms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=new Date(e),n=r.getUTCFullYear(),i=r.getUTCMonth()+1,o=r.getUTCDate(),a=r.getUTCHours(),s=r.getUTCMinutes(),u=r.getUTCSeconds();return n+"-"+(i=i<10?"0"+i:i)+"-"+(o=o<10?"0"+o:o)+t+(a=a<10?"0"+a:a)+":"+(s=s<10?"0"+s:s)+":"+(u=u<10?"0"+u:u)}}]),e}()},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(n,d);var l=n.splice(0,u);r.sigBytes-=c}return new a.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e},"object"===s(t)?e.exports=t=a():(i=[],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc,u=(s.Utf8,s.Base64),c=r.algo.EvpKDF,d=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?g:y}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),l=(n.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),h=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var e=h.extend();function r(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else o=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),e}(),f=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var u=o.create(a,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},v=(n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:p,padding:f}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return v.create({ciphertext:t,salt:n})}},y=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return v.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=o.random(8));var i=c.create({keySize:t+r}).compute(e,n),a=o.create(i.words.slice(t),4*r);return i.sigBytes=4*t,v.create({key:i,iv:a,salt:n})}},g=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,y.decrypt.call(this,e,t,i.key,n)}})}()},"object"===s(t)?e.exports=t=a(r(2),r(4)):(i=[r(2),r(4)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o,a,s;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),a=o.words,s=r.keySize,u=r.iterations;a.length<s;){c&&n.update(c);var c=n.update(e).finalize(t);n.reset();for(var d=1;d<u;d++)c=n.finalize(c),n.reset();o.concat(c)}return o.sigBytes=4*s,o}}),t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF},"object"===s(t)?e.exports=t=a(r(2),r(8),r(9)):(i=[r(2),r(8),r(9)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,u=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],u=e[t+1],p=e[t+2],f=e[t+3],v=e[t+4],m=e[t+5],y=e[t+6],b=e[t+7],g=e[t+8],k=e[t+9],w=e[t+10],x=e[t+11],O=e[t+12],T=e[t+13],_=e[t+14],C=e[t+15],R=o[0],S=o[1],P=o[2],E=o[3];S=h(S=h(S=h(S=h(S=l(S=l(S=l(S=l(S=d(S=d(S=d(S=d(S=c(S=c(S=c(S=c(S,P=c(P,E=c(E,R=c(R,S,P,E,a,7,s[0]),S,P,u,12,s[1]),R,S,p,17,s[2]),E,R,f,22,s[3]),P=c(P,E=c(E,R=c(R,S,P,E,v,7,s[4]),S,P,m,12,s[5]),R,S,y,17,s[6]),E,R,b,22,s[7]),P=c(P,E=c(E,R=c(R,S,P,E,g,7,s[8]),S,P,k,12,s[9]),R,S,w,17,s[10]),E,R,x,22,s[11]),P=c(P,E=c(E,R=c(R,S,P,E,O,7,s[12]),S,P,T,12,s[13]),R,S,_,17,s[14]),E,R,C,22,s[15]),P=d(P,E=d(E,R=d(R,S,P,E,u,5,s[16]),S,P,y,9,s[17]),R,S,x,14,s[18]),E,R,a,20,s[19]),P=d(P,E=d(E,R=d(R,S,P,E,m,5,s[20]),S,P,w,9,s[21]),R,S,C,14,s[22]),E,R,v,20,s[23]),P=d(P,E=d(E,R=d(R,S,P,E,k,5,s[24]),S,P,_,9,s[25]),R,S,f,14,s[26]),E,R,g,20,s[27]),P=d(P,E=d(E,R=d(R,S,P,E,T,5,s[28]),S,P,p,9,s[29]),R,S,b,14,s[30]),E,R,O,20,s[31]),P=l(P,E=l(E,R=l(R,S,P,E,m,4,s[32]),S,P,g,11,s[33]),R,S,x,16,s[34]),E,R,_,23,s[35]),P=l(P,E=l(E,R=l(R,S,P,E,u,4,s[36]),S,P,v,11,s[37]),R,S,b,16,s[38]),E,R,w,23,s[39]),P=l(P,E=l(E,R=l(R,S,P,E,T,4,s[40]),S,P,a,11,s[41]),R,S,f,16,s[42]),E,R,y,23,s[43]),P=l(P,E=l(E,R=l(R,S,P,E,k,4,s[44]),S,P,O,11,s[45]),R,S,C,16,s[46]),E,R,p,23,s[47]),P=h(P,E=h(E,R=h(R,S,P,E,a,6,s[48]),S,P,b,10,s[49]),R,S,_,15,s[50]),E,R,m,21,s[51]),P=h(P,E=h(E,R=h(R,S,P,E,O,6,s[52]),S,P,f,10,s[53]),R,S,w,15,s[54]),E,R,u,21,s[55]),P=h(P,E=h(E,R=h(R,S,P,E,g,6,s[56]),S,P,C,10,s[57]),R,S,y,15,s[58]),E,R,T,21,s[59]),P=h(P,E=h(E,R=h(R,S,P,E,v,6,s[60]),S,P,x,10,s[61]),R,S,p,15,s[62]),E,R,k,21,s[63]),o[0]=o[0]+R|0,o[1]=o[1]+S|0,o[2]=o[2]+P|0,o[3]=o[3]+E|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var d=u[c];u[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function h(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}r.MD5=o._createHelper(u),r.HmacMD5=o._createHmacHelper(u)}(Math),e.MD5},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o;return r=(t=e).lib,n=r.Base,i=r.WordArray,(o=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}}),e},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o,a;return r=(t=e).lib,n=r.WordArray,i=r.Hasher,o=[],a=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],u=r[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var d=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=d<<1|d>>>31}var l=(n<<5|n>>>27)+u+o[c];l+=c<20?1518500249+(i&a|~i&s):c<40?1859775393+(i^a^s):c<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,u=s,s=a,a=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a),e.SHA1},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){"use strict";e.exports=r(76)},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"foxbit",name:"FoxBit",countries:"BR",has:{CORS:!1,createMarketOrder:!1},rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/27991413-11b40d42-647f-11e7-91ee-78ced874dd09.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://foxbit.exchange",doc:"https://blinktrade.com/docs"},comment:"Blinktrade API",api:{public:{get:["{currency}/ticker","{currency}/orderbook","{currency}/trades"]},private:{post:["D","F","U2","U4","U6","U18","U24","U26","U30","U34","U70"]}},markets:{"BTC/VEF":{id:"BTCVEF",symbol:"BTC/VEF",base:"BTC",quote:"VEF",brokerId:1,broker:"SurBitcoin"},"BTC/VND":{id:"BTCVND",symbol:"BTC/VND",base:"BTC",quote:"VND",brokerId:3,broker:"VBTC"},"BTC/BRL":{id:"BTCBRL",symbol:"BTC/BRL",base:"BTC",quote:"BRL",brokerId:4,broker:"FoxBit"},"BTC/PKR":{id:"BTCPKR",symbol:"BTC/PKR",base:"BTC",quote:"PKR",brokerId:8,broker:"UrduBit"},"BTC/CLP":{id:"BTCCLP",symbol:"BTC/CLP",base:"BTC",quote:"CLP",brokerId:9,broker:"ChileBit"}},options:{brokerId:"4"}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostU2({BalanceReqID:this.nonce()});case 3:if(t=e.sent,r=this.safeValue(t.Responses,this.options.brokerId),n={info:t},"undefined"!==typeof r)for(i=Object.keys(this.currencies_by_id),o=0;o<i.length;o++)a=i[o],s=this.currencies_by_id[a],u=s.code,a in r&&((c=this.account()).used=1e-8*parseFloat(r[a+"_locked"]),c.total=1e-8*parseFloat(r[a]),c.free=c.total-c.used,n[u]=c);return e.abrupt("return",this.parseBalance(n));case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},n=this.market(t),e.next=5,this.publicGetCurrencyOrderbook(this.extend({currency:n.quote,crypto_currency:n.base},r));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 7:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},n=this.market(t),e.next=4,this.publicGetCurrencyTicker(this.extend({currency:n.quote,crypto_currency:n.base},r));case 4:return i=e.sent,o=this.milliseconds(),a=n.quote.toLowerCase(),s="vol_"+a,u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"buy"),bidVolume:void 0,ask:this.safeFloat(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"vol"),quoteVolume:parseFloat(i[s]),info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetCurrencyTrades(this.extend({currency:o.quote,crypto_currency:o.base},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:{},"market"!==r){e.next=4;break}throw new u(this.id+" allows limit orders only");case 4:return s=this.market(t),c="buy"===n?"1":"2",d={ClOrdID:this.nonce(),Symbol:s.id,Side:c,OrdType:"2",Price:o,OrderQty:i,BrokerID:s.brokerId},e.next=9,this.privatePostD(this.extend(d,a));case 9:return l=e.sent,h=this.indexBy(l.Responses,"MsgType"),p=h[8],e.abrupt("return",{info:l,id:p.OrderID});case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostF(this.extend({ClOrdID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=this.extend({MsgType:e},s);o=this.json(c),i={APIKey:this.apiKey,Nonce:u,Signature:this.hmac(this.encode(u),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("Status"in(s=e.sent))){e.next=11;break}if(200===s.Status){e.next=11;break}throw new u(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.ExchangeNotAvailable,h=c.InsufficientFunds,p=c.OrderNotFound,f=c.DDoSProtection,v=c.InvalidOrder,m=c.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"liqui",name:"Liqui",countries:"UA",rateLimit:3e3,version:"3",userAgent:this.userAgents.chrome,has:{CORS:!1,createMarketOrder:!1,fetchOrderBooks:!0,fetchOrder:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27982022-75aea828-63a0-11e7-9511-ca584a8edd74.jpg",api:{public:"https://api.liqui.io/api",private:"https://api.liqui.io/tapi"},www:"https://liqui.io",doc:"https://liqui.io/api",fees:"https://liqui.io/fee"},api:{public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{maker:.001,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{DSH:"DASH"},exceptions:{803:v,804:v,805:v,806:v,807:v,831:h,832:h,833:p}})}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s="quote",u=a[o],c=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?c*=i:s="base",{type:o,currency:a[s],rate:u,cost:c}}},{key:"getBaseQuoteFromMarketId",value:function(e){var t=o(e.toUpperCase().split("_"),2),r=t[0],n=t[1];return[r=this.commonCurrencyCode(r),n=this.commonCurrencyCode(n)]}},{key:"fetchMarkets",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i,a,s,u,c,d,l,h,p,f,v,m,y,b,g,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInfo();case 2:for(t=e.sent,r=t.pairs,n=Object.keys(r),i=[],a=0;a<n.length;a++)s=n[a],u=r[s],c=this.getBaseQuoteFromMarketId(s),d=o(c,2),l=d[0],h=d[1],p=l+"/"+h,f={amount:this.safeInteger(u,"decimal_places"),price:this.safeInteger(u,"decimal_places")},v={min:this.safeFloat(u,"min_amount"),max:this.safeFloat(u,"max_amount")},m={min:this.safeFloat(u,"min_price"),max:this.safeFloat(u,"max_price")},y={min:this.safeFloat(u,"min_total")},b={amount:v,price:m,cost:y},g=this.safeInteger(u,"hidden"),k=0===g,i.push({id:s,symbol:p,base:l,quote:h,active:k,taker:u.fee/100,precision:f,limits:b,info:u});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchBalance",value:(E=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,n={info:r},i=r.funds,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],u=s.toUpperCase(),u=this.commonCurrencyCode(u),c=void 0,d=void 0,0===r.open_orders&&(c=i[s],d=0),l={free:i[s],used:d,total:c},n[u]=l;return e.abrupt("return",this.parseBalance(n));case 12:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"fetchOrderBook",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={pair:i.id},"undefined"!==typeof r&&(o.limit=r),e.next=9,this.publicGetDepthPair(this.extend(o,n));case 9:if(a=e.sent,i.id in a){e.next=13;break}throw new d(this.id+" "+i.symbol+" order book is empty or not available");case 13:return s=a[i.id],e.abrupt("return",this.parseOrderBook(s));case 15:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"fetchOrderBooks",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,t){e.next=12;break}if(!((n=this.ids.join("-")).length>2048)){e.next=10;break}throw i=this.ids.length,new d(this.id+" has "+i.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join("-");case 14:return e.next=16,this.publicGetDepthPair(this.extend({pair:n},r));case 16:for(o=e.sent,a={},n=Object.keys(o),s=0;s<n.length;s++)u=n[s],c=u,u in this.markets_by_id&&(l=this.markets_by_id[u],c=l.symbol),a[c]=this.parseOrderBook(o[u]);return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTickers",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:void 0,r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,t){e.next=12;break}if(!((n=this.ids.join("-")).length>2048)){e.next=10;break}throw i=this.ids.length,new d(this.id+" has "+i.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join("-");case 14:return e.next=16,this.publicGetTickerPair(this.extend({pair:n},r));case 16:for(o=e.sent,a={},s=Object.keys(o),u=0;u<s.length;u++)c=s[u],l=o[c],h=c,p=void 0,c in this.markets_by_id&&(p=this.markets_by_id[c],h=p.symbol),a[h]=this.parseTicker(l,p);return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchTicker",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return n=e.sent,e.abrupt("return",n[t]);case 5:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.timestamp),n=e.type;"ask"===n&&(n="sell"),"bid"===n&&(n="buy");var i=this.safeFloat(e,"price");"rate"in e&&(i=this.safeFloat(e,"rate"));var o=this.safeString(e,"tid");"trade_id"in e&&(o=this.safeString(e,"trade_id"));var a=this.safeString(e,this.getOrderIdKey());if("pair"in e){var s=e.pair;t=this.markets_by_id[s]}var u=void 0;t&&(u=t.symbol);var c=e.amount,d=this.safeValue(e,"is_your_order"),l="taker";"undefined"!==typeof d&&d&&(l="maker");var h=this.calculateFee(u,"limit",n,c,i,l);return{id:o,order:a,timestamp:r,datetime:this.iso8601(r),symbol:u,type:"limit",side:n,price:i,amount:c,fee:h,info:e}}},{key:"fetchTrades",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={pair:o.id},"undefined"!==typeof n&&(a.limit=n),e.next=10,this.publicGetTradesPair(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s[o.id],o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"createOrder",value:(T=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p,f,v,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=y.length>4&&void 0!==y[4]?y[4]:void 0,a=y.length>5&&void 0!==y[5]?y[5]:{},"market"!==r){e.next=4;break}throw new d(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(t),u={pair:s.id,type:n,amount:this.amountToPrecision(t,i),rate:this.priceToPrecision(t,o)},o=parseFloat(o),i=parseFloat(i),e.next=12,this.privatePostTrade(this.extend(u,a));case 12:return c=e.sent,l=void 0,h="open",p=0,f=i,"return"in c&&("0"===(l=this.safeString(c.return,this.getOrderIdKey()))&&(l=this.safeString(c.return,"init_order_id"),h="closed"),p=this.safeFloat(c.return,"received",0),f=this.safeFloat(c.return,"remains",i)),v=this.milliseconds(),m={id:l,timestamp:v,datetime:this.iso8601(v),lastTradeTimestamp:void 0,status:h,symbol:t,type:r,side:n,price:o,cost:o*p,amount:i,remaining:f,filled:p,fee:void 0},this.orders[l]=m,e.abrupt("return",this.extend({info:c},m));case 22:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return T.apply(this,arguments)})},{key:"getOrderIdKey",value:function(){return"order_id"}},{key:"cancelOrder",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,i={},o=this.getOrderIdKey(),i[o]=t,e.next=10,this.privatePostCancelOrder(this.extend(i,r));case 10:return n=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.id.toString(),n=this.safeString(e,"status");"undefined"!==n&&(n=this.parseOrderStatus(n));var i=1e3*parseInt(e.timestamp_created),o=void 0;t||(t=this.markets_by_id[e.pair]),t&&(o=t.symbol);var a=void 0,s=void 0,u=this.safeFloat(e,"rate"),c=void 0,d=void 0;"start_amount"in e?(s=this.safeFloat(e,"start_amount"),a=this.safeFloat(e,"amount")):(a=this.safeFloat(e,"amount"),r in this.orders&&(s=this.orders[r].amount)),"undefined"!==typeof s&&"undefined"!==typeof a&&(d=u*(c=s-a));return{info:e,id:r,symbol:o,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,type:"limit",side:e.type,price:u,cost:d,amount:s,remaining:a,filled:c,status:n,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=Object.keys(e),o=[],a=0;a<i.length;a++){var s=i[a],u=e[s],c=this.extend(u,{id:s});o.push(this.parseOrder(c,t))}return this.filterBySinceLimit(o,r,n)}},{key:"fetchOrder",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderInfo(this.extend({order_id:parseInt(t)},r));case 6:return n=e.sent,t=t.toString(),i=this.parseOrder(this.extend({id:t},n.return[t])),o=t in this.orders?this.orders[t]:{},this.orders[t]=this.extend(o,i),e.abrupt("return",this.orders[t]);case 12:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r].id;this.orders[n]=e[r]}for(var i=this.indexBy(e,"id"),o=Object.keys(this.orders),a=0;a<o.length;a++){var s=o[a],u=this.orders[s];if(!(s in i)){if("undefined"!==typeof t&&t!==u.symbol)continue;"open"===u.status&&("undefined"===typeof(u=this.extend(u,{status:"closed",cost:void 0,filled:u.amount,remaining:0})).cost&&"undefined"!==typeof u.filled&&(u.cost=u.filled*u.price),this.orders[s]=u)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,n=p.length>2&&void 0!==p[2]?p[2]:void 0,i=p.length>3&&void 0!==p[3]?p[3]:{},!("fetchOrdersRequiresSymbol"in this.options)){e.next=8;break}if(!this.options.fetchOrdersRequiresSymbol){e.next=8;break}if("undefined"!==typeof t){e.next=8;break}throw new d(this.id+" fetchOrders requires a symbol argument");case 8:return e.next=10,this.loadMarkets();case 10:return o={},a=void 0,"undefined"!==typeof t&&(s=this.market(t),o.pair=s.id),e.next=15,this.privatePostActiveOrders(this.extend(o,i));case 15:return u=e.sent,c=[],"return"in u&&(c=this.parseOrders(u.return,a)),l=this.updateCachedOrders(c,t),h=this.filterBySymbol(l,t),e.abrupt("return",this.filterBySinceLimit(h,r,n));case 21:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","open"));case 8:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchClosedOrders",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchMyTrades",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},"undefined"!==typeof t&&(o=this.market(t),a.pair=o.id),"undefined"!==typeof n&&(a.count=parseInt(n)),"undefined"!==typeof r&&(a.since=parseInt(r/1e3)),e.next=13,this.privatePostTradeHistory(this.extend(a,i));case 13:return s=e.sent,u=[],"return"in s&&(u=s.return),e.abrupt("return",this.parseTrades(u,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"withdraw",value:(y=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return e.next=7,this.privatePostWithdrawCoin(this.extend({coinName:t,amount:parseFloat(r),address:n},i));case 7:return o=e.sent,e.abrupt("return",{info:o,id:o.return.tId});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return y.apply(this,arguments)})},{key:"signBodyWithSecret",value:function(e){return this.hmac(this.encode(e),this.encode(this.secret),"sha512")}},{key:"getVersionString",value:function(){return"/"+this.version}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce();o=this.urlencode(this.extend({nonce:u,method:e},s));var c=this.signBodyWithSecret(o);i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:c}}else"public"===t?(a+=this.getVersionString()+"/"+this.implodeParams(e,n),Object.keys(s).length&&(a+="?"+this.urlencode(s))):(a+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(s).length&&(a+="?"+this.urlencode(s)):Object.keys(s).length&&(o=this.json(s),i={"Content-Type":"application/json"}));return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("success"in a){var s=this.safeValue(a,"success",!1);if("string"===typeof s&&(s="true"===s||"1"===s),!s){var u=this.safeString(a,"code"),c=this.safeString(a,"error"),h=this.id+" "+this.json(a),p=this.exceptions;if(u in p)throw new p[u](h);throw"invalid api key"===c?new m(h):"invalid sign"===c?new m(h):"api key dont have trade permission"===c?new m(h):c.indexOf("invalid parameter")>=0?new v(h):"invalid order"===c?new v(h):"Requests too often"===c?new f(h):"not available"===c?new l(h):"data unavailable"===c?new l(h):"external service unavailable"===c?new l(h):new d(this.id+' unknown "error" value: '+this.json(a))}}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=r(20),a=o.isString,s=(o.isNumber,Math.max),u={ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1};function c(e){if(a(e))return e;if(Math.abs(e)<1){var t=e.toString(),r=parseInt(t.split("e-")[1]),n="-"===t[0];r&&(e*=Math.pow(10,r-1),e=(n?"-":"")+"0."+new Array(r).join("0")+e.toString().substring(n?3:2))}else{var i=parseInt(e.toString().split("+")[1]);i>20&&(i-=20,e/=Math.pow(10,i),e+=new Array(i+1).join("0"))}return e.toString()}var d=[],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=c(e),t>0){var r=d[t]||(d[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)"));return i(e.toString().match(r)||[null,e],2)[1].toString()}return parseInt(e).toString()};e.exports={numberToString:c,precisionFromString:function(e){var t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0},decimalToPrecision:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(r<0)throw new Error("negative precision is not yet supported");for(var a=c(e),u="-"===a[0],d=u?1:0,l=a.length,h=0;h<l&&"."!==a[h];h++);var p=h<a.length,f=new Uint8Array(l-d+(p?0:1));f[0]=48;for(var v=f.length,m=-1,y=-1,b=1,g=d;g<l;g++,b++){var k=a.charCodeAt(g);if(46===k)v=b--;else{if(k<48||k>57)throw new Error("".concat(a,": invalid number (contains an illegal character '").concat(a[b-1],"')"));f[b]=k,48!==k&&m<0&&(m=b)}}m<0&&(m=1);var w=0===i?v:m,x=w+r;y=-1;for(var O=!0,T=f.length-1,_=0;T>=0;T--){var C=f[T];0!==T?(C+=_,T>=w+r&&(C=0===t&&C>=53&&(53!==C||!_)?58:48),C>57?(C=48,_=1):_=0):_&&(C=49),f[T]=C,48!==C&&(O=!1,m=T,y=y<0?T+1:y)}1===i&&(x=(w=m)+r);var R=m>=v||O?v-1:m,S=y<v?v:y,P=u?1:0,E=P+(v-R),B=s(S-v,0),I=S-R,F=s((0===o?I:x-R)-I,0),A=E+1+B,j=A+F,M=B+F===0,D=new Uint8Array(E+(M?0:1)+B+F);for(u&&(D[0]=45),b=P,g=R;b<E;b++,g++)D[b]=f[g];for(M||(D[E]=46),b=E+1,g=v;b<A;b++,g++)D[b]=f[g];for(b=A;b<j;b++)D[b]=48;return String.fromCharCode.apply(String,n(D))},truncate_to_string:l,truncate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(l(e,t))},precisionConstants:u,ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1}},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var c=[],d=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],d=r[5],l=r[6],h=r[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],v=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=v+c[p-7]+y+c[p-16]}var b=n&i^n&o^i&o,g=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),k=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&l)+u[p]+c[p];h=l,l=d,d=s,s=a+k|0,a=o,o=i,i=n,n=k+(g+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+d|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(d),r.HmacSHA256=o._createHmacHelper(d)}(Math),e.SHA256},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var d=a.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],d=r[5],l=r[6],h=r[7],p=n.high,f=n.low,v=i.high,m=i.low,y=o.high,b=o.low,g=a.high,k=a.low,w=s.high,x=s.low,O=d.high,T=d.low,_=l.high,C=l.low,R=h.high,S=h.low,P=p,E=f,B=v,I=m,F=y,A=b,j=g,M=k,D=w,L=x,G=O,N=T,q=_,U=C,H=R,V=S,K=0;K<80;K++){var X=c[K];if(K<16)var z=X.high=0|e[t+2*K],W=X.low=0|e[t+2*K+1];else{var Y=c[K-15],Q=Y.high,J=Y.low,Z=(Q>>>1|J<<31)^(Q>>>8|J<<24)^Q>>>7,$=(J>>>1|Q<<31)^(J>>>8|Q<<24)^(J>>>7|Q<<25),ee=c[K-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=c[K-7],ae=oe.high,se=oe.low,ue=c[K-16],ce=ue.high,de=ue.low;z=(z=(z=Z+ae+((W=$+se)>>>0<$>>>0?1:0))+ne+((W=W+ie)>>>0<ie>>>0?1:0))+ce+((W=W+de)>>>0<de>>>0?1:0);X.high=z,X.low=W}var le,he=D&G^~D&q,pe=L&N^~L&U,fe=P&B^P&F^B&F,ve=E&I^E&A^I&A,me=(P>>>28|E<<4)^(P<<30|E>>>2)^(P<<25|E>>>7),ye=(E>>>28|P<<4)^(E<<30|P>>>2)^(E<<25|P>>>7),be=(D>>>14|L<<18)^(D>>>18|L<<14)^(D<<23|L>>>9),ge=(L>>>14|D<<18)^(L>>>18|D<<14)^(L<<23|D>>>9),ke=u[K],we=ke.high,xe=ke.low,Oe=H+be+((le=V+ge)>>>0<V>>>0?1:0),Te=ye+ve;H=q,V=U,q=G,U=N,G=D,N=L,D=j+(Oe=(Oe=(Oe=Oe+he+((le=le+pe)>>>0<pe>>>0?1:0))+we+((le=le+xe)>>>0<xe>>>0?1:0))+z+((le=le+W)>>>0<W>>>0?1:0))+((L=M+le|0)>>>0<M>>>0?1:0)|0,j=F,M=A,F=B,A=I,B=P,I=E,P=Oe+(me+fe+(Te>>>0<ye>>>0?1:0))+((E=le+Te|0)>>>0<le>>>0?1:0)|0}f=n.low=f+E,n.high=p+P+(f>>>0<E>>>0?1:0),m=i.low=m+I,i.high=v+B+(m>>>0<I>>>0?1:0),b=o.low=b+A,o.high=y+F+(b>>>0<A>>>0?1:0),k=a.low=k+M,a.high=g+j+(k>>>0<M>>>0?1:0),x=s.low=x+L,s.high=w+D+(x>>>0<L>>>0?1:0),T=d.low=T+N,d.high=O+G+(T>>>0<N>>>0?1:0),C=l.low=C+U,l.high=_+q+(C>>>0<U>>>0?1:0),S=h.low=S+V,h.high=R+H+(S>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(d),t.HmacSHA512=r._createHmacHelper(d)}(),e.SHA512},"object"===s(t)?e.exports=t=a(r(2),r(7)):(i=[r(2),r(7)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InsufficientFunds,h=c.InvalidOrder,p=c.OrderNotFound,f=c.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"okcoinusd",name:"OKCoin USD",countries:["CN","US"],version:"v1",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,futures:!1},extension:".do",timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},api:{web:{get:["spot/markets/currencies","spot/markets/products"]},public:{get:["depth","exchange_rate","future_depth","future_estimated_price","future_hold_amount","future_index","future_kline","future_price_limit","future_ticker","future_trades","kline","otcs","ticker","tickers","trades"]},private:{post:["account_records","batch_trade","borrow_money","borrow_order_info","borrows_info","cancel_borrow","cancel_order","cancel_otc_order","cancel_withdraw","funds_transfer","future_batch_trade","future_cancel","future_devolve","future_explosive","future_order_info","future_orders_info","future_position","future_position_4fix","future_trade","future_trades_history","future_userinfo","future_userinfo_4fix","lend_depth","order_fee","order_history","order_info","orders_info","otc_order_history","otc_order_info","repayment","submit_otc_order","trade","trade_history","trade_otc_order","wallet_info","withdraw","withdraw_info","unrepayments_info","userinfo"]}},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766791-89ffb502-5ee5-11e7-8a5b-c5950b68ac65.jpg",api:{web:"https://www.okcoin.com/v2",public:"https://www.okcoin.com/api",private:"https://www.okcoin.com/api"},www:"https://www.okcoin.com",doc:["https://www.okcoin.com/rest_getStarted.html","https://www.npmjs.com/package/okcoin.com"]},fees:{trading:{taker:.002,maker:.002}},exceptions:{1009:p,1051:p,1019:p,20015:p,1013:h,1027:h,1002:l,1050:h,10000:d,10005:f,10008:d},options:{warnOnFetchOHLCVLimitArgument:!0,fiats:["USD","CNY"],futures:{BCH:!0,BTC:!0,BTG:!0,EOS:!0,ETC:!0,ETH:!0,LTC:!0,NEO:!0,QTUM:!0,USDT:!0,XUC:!0}}})}},{key:"fetchMarkets",value:(R=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webGetSpotMarketsProducts();case 2:for(t=e.sent,r=t.data,n=[],o=0;o<r.length;o++)if(a=r[o].symbol,s=a.split("_"),u=i(s,2),c=u[0],d=u[1],l=c.toUpperCase(),h=d.toUpperCase(),p=this.commonCurrencyCode(l),f=this.commonCurrencyCode(h),v=p+"/"+f,m={amount:r[o].maxSizeDigit,price:r[o].maxPriceDigit},y=Math.pow(10,-m.amount),b=r[o].minTradeSize,g=Math.pow(10,-m.price),k=0!==r[o].online,w=r[o].baseCurrency,x=r[o].quoteCurrency,O=this.extend(this.fees.trading,{id:a,symbol:v,base:p,quote:f,baseId:c,quoteId:d,baseNumericId:w,quoteNumericId:x,info:r[o],type:"spot",spot:!0,future:!1,lot:y,active:k,precision:m,limits:{amount:{min:b,max:void 0},price:{min:g,max:void 0},cost:{min:b*g,max:void 0}}}),n.push(O),this.has.futures&&O.base in this.options.futures)for(T=this.options.fiats,_=0;_<T.length;_++)C=T[_],R=C.toLowerCase(),n.push(this.extend(O,{quote:C,symbol:O.base+"/"+C,id:O.base.toLowerCase()+"_"+R,quoteId:R,type:"future",spot:!1,future:!0}));return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchOrderBook",value:(C=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o="publicGet",a={symbol:i.id},"undefined"!==typeof r&&(a.size=r),i.future&&(o+="Future",a.contract_type="this_week"),o+="Depth",e.next=12,this[o](this.extend(a,n));case 12:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 14:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,n=void 0;if(!t&&"symbol"in e){var i=e.symbol;i in this.markets_by_id&&(t=this.markets_by_id[i])}t&&(n=t.symbol);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i="publicGet",o={symbol:n.id},n.future&&(i+="Future",o.contract_type="this_week"),i+="Ticker",e.next=10,this[i](this.extend(o,r));case 10:if(a=e.sent,"undefined"!==typeof(s=this.safeValue(a,"ticker"))){e.next=14;break}throw new d(this.id+" fetchTicker returned an empty response: "+this.json(a));case 14:return"undefined"!==typeof(u=this.safeInteger(a,"date"))&&(u*=1e3,s=this.extend(s,{timestamp:u})),e.abrupt("return",this.parseTicker(s,n));case 17:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;return t&&(r=t.symbol),{info:e,timestamp:e.date_ms,datetime:this.iso8601(e.date_ms),symbol:r,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a="publicGet",s={symbol:o.id},o.future&&(a+="Future",s.contract_type="this_week"),a+="Trades",e.next=12,this[a](this.extend(s,i));case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];var t=e.length>6?6:5;return[e[0],e[1],e[2],e[3],e[4],e[t]]}},{key:"fetchOHLCV",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"1m",n=l.length>2&&void 0!==l[2]?l[2]:void 0,i=l.length>3&&void 0!==l[3]?l[3]:void 0,o=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:if(a=this.market(t),s="publicGet",u={symbol:a.id,type:this.timeframes[r]},a.future&&(s+="Future",u.contract_type="this_week"),s+="Kline","undefined"===typeof i){e.next=15;break}if(!this.options.warnOnFetchOHLCVLimitArgument){e.next=14;break}throw new d(this.id+' fetchOHLCV counts "limit" candles from current time backwards, therefore the "limit" argument for '+this.id+" is disabled. Set "+this.id+'.options["warnOnFetchOHLCVLimitArgument"] = false to suppress this warning message.');case 14:u.size=parseInt(i);case 15:return u.since="undefined"!==typeof n?n:this.milliseconds()-864e5,e.next=18,this[s](this.extend(u,o));case 18:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c,a,r,n,i));case 20:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchBalance",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserinfo();case 5:for(t=e.sent,r=t.info.funds,n={info:t},i=Object.keys(this.currencies_by_id),o=0;o<i.length;o++)a=i[o],s=this.currencies_by_id[a].code,(u=this.account()).free=this.safeFloat(r.free,a,0),u.used=this.safeFloat(r.freezed,a,0),u.total=this.sum(u.free,u.used),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"createOrder",value:(w=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>4&&void 0!==p[4]?p[4]:void 0,a=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:if(s=this.market(t),u="privatePost",c={symbol:s.id,type:n},!s.future){e.next=12;break}u+="Future",c=this.extend(c,{contract_type:"this_week",match_price:0,lever_rate:10,price:o,amount:i}),e.next=25;break;case 12:if("limit"!==r){e.next=17;break}c.price=o,c.amount=i,e.next=25;break;case 17:if(c.type+="_market","buy"!==n){e.next=24;break}if(c.price=this.safeFloat(a,"cost"),c.price){e.next=22;break}throw new d(this.id+" market buy orders require an additional cost parameter, cost = price * amount");case 22:e.next=25;break;case 24:c.amount=i;case 25:return a=this.omit(a,"cost"),u+="Trade",e.next=29,this[u](this.extend(c,a));case 29:return l=e.sent,h=this.milliseconds(),e.abrupt("return",{info:l,id:l.order_id.toString(),timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:n,price:o,amount:i,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 32:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},r){e.next=4;break}throw new d(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),o={symbol:i.id,order_id:t},a="privatePost",i.future?(a+="FutureCancel",o.contract_type="this_week"):a+="CancelOrder",e.next=12,this[a](this.extend(o,n));case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return-1===e?"canceled":0===e?"open":1===e?"open":2===e?"closed":3===e?"open":4===e?"canceled":e}},{key:"parseOrderSide",value:function(e){return 1===e?"buy":2===e?"sell":3===e?"sell":4===e?"buy":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"type"in e&&("buy"===e.type||"sell"===e.type?(r=e.type,n="limit"):"buy_market"===e.type?(r="buy",n="market"):"sell_market"===e.type?(r="sell",n="market"):(r=this.parseOrderSide(e.type),("contract_name"in e||"lever_rate"in e)&&(n="margin")));var i=this.parseOrderStatus(e.status),o=void 0;t||"symbol"in e&&e.symbol in this.markets_by_id&&(t=this.markets_by_id[e.symbol]),t&&(o=t.symbol);var a=void 0,s=this.getCreateDateField();s in e&&(a=e[s]);var u=this.safeFloat(e,"amount"),c=this.safeFloat(e,"deal_amount"),d=u-c;"market"===n&&(d=0);var l=this.safeFloat(e,"avg_price"),h=(l=this.safeFloat(e,"price_avg",l))*c;return{info:e,id:e.order_id.toString(),timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:o,type:n,side:r,price:e.price,average:l,cost:h,amount:u,filled:c,remaining:d,status:i,fee:void 0}}},{key:"getCreateDateField",value:function(){return"create_date"}},{key:"getOrdersField",value:function(){return"orders"}},{key:"fetchOrder",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},r){e.next=4;break}throw new d(this.id+" fetchOrder requires a symbol parameter");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),o="privatePost",a={order_id:t,symbol:i.id},i.future&&(o+="Future",a.contract_type="this_week"),o+="OrderInfo",e.next=13,this[o](this.extend(a,n));case 13:if(s=e.sent,u=this.getOrdersField(),!(s[u].length>0)){e.next=18;break}return e.abrupt("return",this.parseOrder(s[u][0]));case 18:throw new p(this.id+" order "+t+" not found");case 19:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOrders",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:void 0,r=f.length>1&&void 0!==f[1]?f[1]:void 0,n=f.length>2&&void 0!==f[2]?f[2]:void 0,i=f.length>3&&void 0!==f[3]?f[3]:{},t){e.next=6;break}throw new d(this.id+" fetchOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:if(o=this.market(t),a="privatePost",s={symbol:o.id},u="order_id"in i,!o.future){e.next=19;break}if(a+="FutureOrdersInfo",s.contract_type="this_week",u){e.next=17;break}throw new d(this.id+" fetchOrders() requires order_id param for futures market "+t+" (a string of one or more order ids, comma-separated)");case 17:e.next=32;break;case 19:if(c=void 0,!("type"in i)){e.next=24;break}c=i.type,e.next=30;break;case 24:if(!("status"in i)){e.next=28;break}c=i.status,e.next=30;break;case 28:throw l=u?"type":"status",new d(this.id+" fetchOrders() requires "+l+" param for spot market "+t+" (0 - for unfilled orders, 1 - for filled/canceled orders)");case 30:u?(a+="OrdersInfo",s=this.extend(s,{type:c,order_id:i.order_id})):(a+="OrderHistory",s=this.extend(s,{status:c,current_page:1,page_length:200})),i=this.omit(i,["type","status"]);case 32:return e.next=34,this[a](this.extend(s,i));case 34:return h=e.sent,p=this.getOrdersField(),e.abrupt("return",this.parseOrders(h[p],o,r,n));case 37:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},o=0,e.next=7,this.fetchOrders(t,r,n,this.extend({status:o},i));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchClosedOrders",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=1,e.next=7,this.fetchOrders(t,r,n,this.extend({status:o},i));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"withdraw",value:(v=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:void 0,i=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),a=o.id+"_usd",s={symbol:a,withdraw_address:n,withdraw_amount:r,target:"address"},!("chargefee"in(u=i))){e.next=14;break}s.chargefee=u.chargefee,u=this.omit(u,"chargefee"),e.next=15;break;case 14:throw new d(this.id+" withdraw() requires a `chargefee` parameter");case 15:if(this.password?s.trade_pwd=this.password:"password"in u?(s.trade_pwd=u.password,u=this.omit(u,"password")):"trade_pwd"in u&&(s.trade_pwd=u.trade_pwd,u=this.omit(u,"trade_pwd")),"trade_pwd"in s){e.next=19;break}throw new d(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");case 19:return e.next=21,this.privatePostWithdraw(this.extend(s,u));case 21:return c=e.sent,e.abrupt("return",{info:c,id:this.safeString(c,"withdraw_id")});case 23:case"end":return e.stop()}},e,this)})),function(e,t,r){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/";if("web"!==t&&(a+=this.version+"/"),a+=e,"web"!==t&&(a+=this.extension),"private"===t){this.checkRequiredCredentials();var s=this.keysort(this.extend({api_key:this.apiKey},n)),u=this.rawencode(s)+"&secret_key="+this.secret;s.sign=this.hash(this.encode(u)).toUpperCase(),o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a=this.urls.api[t]+a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(o.length<2)&&"{"===o[0]){var a=JSON.parse(o);if("error_code"in a){var s=this.safeString(a,"error_code"),u=this.id+" "+this.json(a);if(s in this.exceptions)throw new(0,this.exceptions[s])(u);throw new d(u)}if("result"in a&&!a.result)throw new d(this.id+" "+this.json(a))}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.ExchangeNotAvailable,l=u.InvalidOrder,h=u.OrderNotFound,p=u.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"huobipro",name:"Huobi Pro",countries:"CN",rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",has:{CORS:!1,fetchDepositAddress:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!1,fetchTradingLimits:!0,withdraw:!0,fetchCurrencies:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"https://api.huobi.pro",www:"https://www.huobi.pro",referral:"https://www.huobi.br.com/en-us/topic/invited/?invite_code=rwrd3",doc:"https://github.com/huobiapi/API_Docs/wiki/REST_api_reference",fees:"https://www.huobi.pro/about/fee/"},api:{market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance"],post:["order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{"account-frozen-balance-insufficient-error":p,"order-limitorder-amount-min-error":l,"order-marketorder-amount-min-error":l,"order-limitorder-price-min-error":l,"order-orderstate-error":h,"order-queryorder-invalid":h,"order-update-error":d},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"}})}},{key:"fetchTradingLimits",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:r={},n={},"undefined"===typeof t&&(t=this.symbols),i=0;case 8:if(!(i<t.length)){e.next=20;break}return o=t[i],a=this.market(o),e.next=13,this.publicGetCommonExchange(this.extend({symbol:a.id}));case 13:s=e.sent,u=this.parseTradingLimits(s),r[o]=s,n[o]=u;case 17:i++,e.next=8;break;case 20:return e.abrupt("return",{limits:n,info:r});case 21:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"parseTradingLimits",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=e.data;if("undefined"!==typeof t)return{amount:{min:t["limit-order-must-greater-than"],max:t["limit-order-must-less-than"]}}}},{key:"fetchMarkets",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d,l,h,p,f,v,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options.fetchMarketsMethod,e.next=3,this[t]();case 3:if(r=e.sent,n=r.data,!(n.length<1)){e.next=8;break}throw new c(this.id+" publicGetCommonSymbols returned empty response: "+this.json(n));case 8:for(i=[],o=0;o<n.length;o++)a=n[o],s=a["base-currency"],u=a["quote-currency"],d=s.toUpperCase(),l=u.toUpperCase(),h=s+u,d=this.commonCurrencyCode(d),l=this.commonCurrencyCode(l),p=d+"/"+l,f={amount:a["amount-precision"],price:a["price-precision"]},v=Math.pow(10,-f.amount),m="OMG"===d?0:.002,y="OMG"===d?0:.002,i.push({id:h,symbol:p,base:d,quote:l,lot:v,active:!0,precision:f,taker:y,maker:m,limits:{amount:{min:v,max:Math.pow(10,f.amount)},price:{min:Math.pow(10,-f.price),max:void 0},cost:{min:0,max:void 0}},info:a});return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.milliseconds();"ts"in e&&(n=e.ts);var i=void 0,o=void 0,a=void 0,s=void 0;"bid"in e&&Array.isArray(e.bid)&&(i=this.safeFloat(e.bid,0),a=this.safeFloat(e.bid,1)),"ask"in e&&Array.isArray(e.ask)&&(o=this.safeFloat(e.ask,0),s=this.safeFloat(e.ask,1));var u=this.safeFloat(e,"open"),c=this.safeFloat(e,"close"),d=void 0,l=void 0,h=void 0;"undefined"!==typeof u&&"undefined"!==typeof c&&(d=c-u,h=this.sum(u,c)/2,"undefined"!==typeof c&&c>0&&(l=d/u*100));var p=this.safeFloat(e,"amount"),f=this.safeFloat(e,"vol"),v=void 0;return"undefined"!==typeof p&&"undefined"!==typeof f&&p>0&&(v=f/p),{symbol:r,timestamp:n,datetime:this.iso8601(n),high:e.high,low:e.low,bid:i,bidVolume:a,ask:o,askVolume:s,vwap:v,open:u,close:c,last:c,previousClose:void 0,change:d,percentage:l,average:h,baseVolume:p,quoteVolume:f,info:e}}},{key:"fetchOrderBook",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.marketGetDepth(this.extend({symbol:n.id,type:"step0"},r));case 7:if(!("tick"in(i=e.sent))){e.next=15;break}if(i.tick){e.next=11;break}throw new c(this.id+" fetchOrderBook() returned empty response: "+this.json(i));case 11:return o=i.tick,a=o.ts,o.nonce=o.version,e.abrupt("return",this.parseOrderBook(o,a));case 15:throw new c(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(i));case 16:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"fetchTicker",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.marketGetDetailMerged(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.tick,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=e.ts;return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.direction,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:void 0,n=f.length>2&&void 0!==f[2]?f[2]:1e3,i=f.length>3&&void 0!==f[3]?f[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof n&&(a.size=n),e.next=10,this.marketGetHistoryTrade(this.extend(a,i));case 10:for(s=e.sent,u=s.data,c=[],d=0;d<u.length;d++)for(l=u[d].data,h=0;h<l.length;h++)p=this.parseTrade(l[h],o),c.push(p);return c=this.sortBy(c,"timestamp"),e.abrupt("return",this.filterBySymbolSinceLimit(c,t,r,n));case 16:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.id,e.open,e.high,e.low,e.close,e.amount]}},{key:"fetchOHLCV",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:1e3,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,period:this.timeframes[r]},"undefined"!==typeof i&&(s.size=i),e.next=11,this.marketGetHistoryKline(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"loadAccounts",value:(C=i(regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0]&&t[0])){e.next=7;break}return e.next=4,this.fetchAccounts();case 4:this.accounts=e.sent,e.next=15;break;case 7:if(!this.accounts){e.next=11;break}return e.abrupt("return",this.accounts);case 11:return e.next=13,this.fetchAccounts();case 13:this.accounts=e.sent,this.accountsById=this.indexBy(this.accounts,"id");case 15:return e.abrupt("return",this.accounts);case 16:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchAccounts",value:(_=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccountAccounts();case 4:return t=e.sent,e.abrupt("return",t.data);case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchCurrencies",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetSettingsCurrencys(this.extend({language:this.options.language},t));case 3:for(r=e.sent,n=r.data,i={},o=0;o<n.length;o++)a=n[o],s=this.safeValue(a,"name"),u=this.safeInteger(a,"withdraw-precision"),c=this.commonCurrencyCode(s.toUpperCase()),d=a.visible&&a["deposit-enabled"]&&a["withdraw-enabled"],i[c]={id:s,code:c,type:"crypto",name:a["display-name"],active:d,fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(a,"deposit-min-amount"),max:Math.pow(10,u)},withdraw:{min:this.safeFloat(a,"withdraw-min-amount"),max:Math.pow(10,u)}},info:a};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchBalance",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.loadAccounts();case 5:return r=this.options.fetchBalanceMethod,e.next=8,this[r](this.extend({id:this.accounts[0].id},t));case 8:for(n=e.sent,i=n.data.list,o={info:n},a=0;a<i.length;a++)s=i[a],u=s.currency.toUpperCase(),c=this.commonCurrencyCode(u),d=void 0,d=c in o?o[c]:this.account(),"trade"===s.type&&(d.free=parseFloat(s.balance)),"frozen"===s.type&&(d.used=parseFloat(s.balance)),d.total=this.sum(d.free,d.used),o[c]=d;return e.abrupt("return",this.parseBalance(o));case 13:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOrdersByStates",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},r){e.next=6;break}throw new c(this.id+" fetchOrders() requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(r),e.next=11,this.privateGetOrderOrders(this.extend({symbol:a.id,states:t},o));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s.data,a,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchOrders",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",t,r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",t,r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchClosedOrders",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrdersByStates("filled,partial-canceled,canceled",t,r,n,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrder",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.data));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return"partial-filled"===e?"open":"partial-canceled"===e?"canceled":"filled"===e?"closed":"canceled"===e?"canceled":"submitted"===e?"open":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0;if("type"in e){var o=e.type.split("-");r=o[0],n=o[1],i=this.parseOrderStatus(e.state)}var a=void 0;if(!t&&"symbol"in e&&e.symbol in this.markets_by_id){var s=e.symbol;t=this.markets_by_id[s]}t&&(a=t.symbol);var u=e["created-at"],c=this.safeFloat(e,"amount"),d=parseFloat(e["field-amount"]),l=c-d,h=this.safeFloat(e,"price"),p=parseFloat(e["field-cash-amount"]),f=0;return d&&(f=parseFloat(p/d)),{info:e,id:e.id.toString(),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:a,type:n,side:r,price:h,average:f,cost:p,amount:c,filled:d,remaining:l,status:i,fee:void 0}}},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>4&&void 0!==p[4]?p[4]:void 0,a=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.loadAccounts();case 6:if(s=this.market(t),u={"account-id":this.accounts[0].id,amount:this.amountToPrecision(t,i),symbol:s.id,type:n+"-"+r},!this.options.createMarketBuyOrderRequiresPrice){e.next=15;break}if("market"!==r||"buy"!==n){e.next=15;break}if("undefined"!==typeof o){e.next=14;break}throw new l(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");case 14:u.amount=this.priceToPrecision(t,parseFloat(i)*parseFloat(o));case 15:return"limit"===r&&(u.price=this.priceToPrecision(t,o)),c=this.options.createOrderMethod,e.next=19,this[c](this.extend(u,a));case 19:return d=e.sent,h=this.milliseconds(),e.abrupt("return",{info:d,id:d.data,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:n,price:o,amount:i,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 22:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"cancelOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrderOrdersIdSubmitcancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchDepositAddress",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetDwDepositVirtualAddresses(this.extend({currency:n.id.toLowerCase()},r));case 6:return i=e.sent,o=this.safeString(i,"data"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"feeToPrecision",value:function(e,t){return parseFloat(this.decimalToPrecision(t,0,this.currencies[e].precision))}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s=a[o],u=n*s,c="quote";return"sell"===r?u*=i:c="base",{type:o,currency:a[c],rate:s,cost:parseFloat(this.feeToPrecision(a[c],u))}}},{key:"withdraw",value:(f=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return this.checkAddress(n),a=this.currency(t),s={address:n,amount:r,currency:a.id.toLowerCase()},"undefined"!==typeof i&&(s["addr-tag"]=i),e.next=10,this.privatePostDwWithdrawApiCreate(this.extend(s,o));case 10:return u=e.sent,c=void 0,"data"in u&&(c=u.data),e.abrupt("return",{info:u,id:c});case 14:case"end":return e.stop()}},e,this)})),function(e,t,r){return f.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/";a+="market"===t?t:this.version,a+="/"+this.implodeParams(e,n);var s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.ymdhms(this.milliseconds(),"T"),c=this.keysort(this.extend({SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:u},s)),d=this.urlencode(c),l=[r,this.hostname,a,d].join("\n"),h=this.hmac(this.encode(l),this.encode(this.secret),"sha256","base64");a+="?"+(d+="&"+this.urlencode({Signature:h})),"POST"===r?(o=this.json(s),i={"Content-Type":"application/json"}):i={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a=this.urls.api+a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("status"in a)if("error"===this.safeString(a,"status")){var s=this.safeString(a,"err-code"),u=this.id+" "+this.json(a),d=this.exceptions;if(s in d)throw new d[s](u);throw new c(u)}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(s[c]=r[c]);if(n){a=n(r);for(var d=0;d<a.length;d++)o.call(r,a[d])&&(s[a[d]]=r[a[d]])}}return s}},function(e,t,r){"use strict";e.exports={uuid:function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},unCamelCase:function(e){return e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,function(e){return e[0]+"_"+e[1]}).replace(/[A-Z0-9][A-Z0-9][a-z]/g,function(e){return e[0]+"_"+e[1]+e[2]}).toLowerCase()},capitalize:function(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e}}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=Number.isFinite,o=Array.isArray,a=function(e){return"string"===typeof e},s=function(e){return null!==e&&"object"===n(e)},u=function(e){return c(e)&&e.toString||i(e)},c=function(e){return void 0!==e&&null!==e},d=function(e,t){return s(e)?e[t]:void 0},l=function(e){return i(e)||a(e)?parseFloat(e):NaN},h=function(e){return i(e)||a(e)?parseInt(e,10):NaN};e.exports={isNumber:i,isArray:o,isObject:s,isString:a,isStringCoercible:u,isDictionary:function(e){return s(e)&&!o(e)},hasProps:c,prop:d,asFloat:l,asInteger:h,safeFloat:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l(d(e,t));return i(n)?n:r},safeInteger:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h(d(e,t));return i(n)?n:r},safeValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d(e,t);return c(n)?n:r},safeString:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d(e,t);return u(n)?String(n):r}}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.InsufficientFunds,l=c.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,h,p,f,v,m,y,b,g,k,w,x;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"acx",name:"ACX",countries:"AU",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0,fetchOrder:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/30247614-1fe61c74-9621-11e7-9e8c-f1a627afa279.jpg",extension:".json",api:"https://acx.io/api",www:"https://acx.io",doc:"https://acx.io/documents/api_v2"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:d,2003:l}})}},{key:"fetchMarkets",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)o=t[n],a=o.id,s=o.name,u=s.split("/"),c=i(u,2),d=c[0],l=c[1],d=this.commonCurrencyCode(d),l=this.commonCurrencyCode(l),r.push({id:a,symbol:s,base:d,quote:l,info:o});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchBalance",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetMembersMe();case 5:for(t=e.sent,r=t.accounts,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency,s=a.toUpperCase(),(u={free:parseFloat(o.balance),used:parseFloat(o.locked),total:0}).total=this.sum(u.free,u.used),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOrderBook",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={market:i.id},"undefined"!==typeof r&&(o.limit=r),e.next=9,this.publicGetDepth(this.extend(o,n));case 9:return a=e.sent,s=1e3*a.timestamp,e.abrupt("return",this.parseOrderBook(a,s));case 12:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=void 0,u=a,a in this.markets_by_id?(s=this.markets_by_id[a],u=s.symbol):(c=a.slice(0,3),d=a.slice(3,6),c=c.toUpperCase(),d=d.toUpperCase(),c=this.commonCurrencyCode(c),d=this.commonCurrencyCode(d),u=c+"/"+d),l=r[a],i[u]=this.parseTicker(l,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchTicker",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickersMarket(this.extend({market:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({market:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),i||(i=500),s={market:a.id,period:this.timeframes[r],limit:i},"undefined"!==typeof n&&(s.timestamp=n),e.next=12,this.publicGetK(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else{var n=e.market;r=this.markets_by_id[n].symbol}var i=this.parse8601(e.created_at),o=e.state,a=void 0;return"done"===o?a="closed":"wait"===o?a="open":"cancel"===o&&(a="canceled"),{id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrder(this.extend({id:parseInt(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createOrder",value:(f=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s={market:this.marketId(t),side:n,volume:i.toString(),ord_type:r},"limit"===r&&(s.price=o.toString()),e.next=8,this.privatePostOrders(this.extend(s,a));case 8:return u=e.sent,c=this.markets_by_id[u.market],e.abrupt("return",this.parseOrder(u,c));case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderDelete({id:t});case 6:if(r=e.sent,n=this.parseOrder(r),"closed"!==(i=n.status)&&"canceled"!==i){e.next=11;break}throw new l(this.id+" "+this.json(n));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"withdraw",value:(h=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return e.next=7,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),sum:r,address:n},i));case 7:return o=e.sent,e.abrupt("return",{info:o,id:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){if("orders"in e){for(var t=e.orders,r=this.urlencode(this.keysort(this.omit(e,"orders"))),n=0;n<t.length;n++)for(var i=t[n],o=Object.keys(i),a=0;a<o.length;a++){var s=o[a];r+="&orders%5B%5D%5B"+s+"%5D="+i[s].toString()}return r}return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+this.implodeParams(e,n);"extension"in this.urls&&(a+=this.urls.extension);var s=this.omit(n,this.extractParams(e)),u=this.urls.api+a;if("public"===t)Object.keys(s).length&&(u+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.nonce().toString(),d=this.encodeParams(this.extend({access_key:this.apiKey,tonce:c},n)),l=r+"|"+a+"|"+d,h=d+"&signature="+this.hmac(this.encode(l),this.encode(this.secret));"GET"===r?u+="?"+h:(o=h,i={"Content-Type":"application/x-www-form-urlencoded"})}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(400===e){var a=JSON.parse(o),s=this.safeValue(a,"error"),u=this.safeString(s,"code"),c=this.id+" "+this.json(a),d=this.exceptions;if(u in d)throw new d[u](c)}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.NotSupported,d=u.DDoSProtection,l=u.AuthenticationError,h=u.ExchangeError,p=u.ExchangeNotAvailable,f=u.InsufficientFunds,v=u.InvalidOrder,m=u.OrderNotFound,y=u.InvalidNonce,b=r(13),g=b.ROUND,k=b.TRUNCATE,w=b.SIGNIFICANT_DIGITS;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,b,x,O,T,_,C,R,S,P,E,B,I,F,A,j,M,D,L;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitfinex",name:"Bitfinex",countries:"VG",version:"v1",rateLimit:1500,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","today","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504}}},commonCurrencies:{BCC:"CST_BCC",BCU:"CST_BCU",DAT:"DATA",DSH:"DASH",IOS:"IOST",IOT:"IOTA",MNA:"MANA",QSH:"QASH",QTM:"QTUM",SNG:"SNGLS",SPK:"SPANK",STJ:"STORJ",YYW:"YOYOW",USD:"USDT"},exceptions:{exact:{temporarily_unavailable:p,"Order could not be cancelled.":m,"No such order found.":m,"Order price must be positive.":v,"Could not find a key matching the given X-BFX-APIKEY.":l,"This API key does not have permission for this action":l,'Key price should be a decimal number, e.g. "123.456"':v,'Key amount should be a decimal number, e.g. "123.456"':v,ERR_RATE_LIMIT:d,"Nonce is too small.":y,"No summary found.":h},broad:{"Invalid order: not enough exchange balance for ":f,"Invalid order: minimum size for ":v,"Invalid order":v,"The available balance is only":f}},precisionMode:w})}},{key:"fetchFundingFees",value:(L=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAccountFees(t);case 5:for(r=e.sent,n=r.withdraw,i={},o=Object.keys(n),a=0;a<o.length;a++)s=o[a],u=s,s in this.currencies_by_id&&(c=this.currencies_by_id[s],u=c.code),i[u]=this.safeFloat(n,s);return e.abrupt("return",{info:r,withdraw:i,deposit:i});case 11:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"fetchTradingFees",value:(D=i(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostSummary(t);case 5:return r=e.sent,e.abrupt("return",{info:r,maker:this.safeFloat(r,"maker_fee"),taker:this.safeFloat(r,"taker_fee")});case 7:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})},{key:"fetchMarkets",value:(M=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbolsDetails();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.pair.toUpperCase(),a=o.slice(0,3),s=o.slice(3,6),u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,l={price:i.price_precision,amount:i.price_precision},(h={amount:{min:this.safeFloat(i,"minimum_order_size"),max:this.safeFloat(i,"maximum_order_size")},price:{min:Math.pow(10,-l.price),max:Math.pow(10,l.price)}}).cost={min:h.amount.min*h.price.min,max:void 0},r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:!0,precision:l,limits:h,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return M.apply(this,arguments)})},{key:"costToPrecision",value:function(e,t){return this.decimalToPrecision(t,g,this.markets[e].precision.price,this.precisionMode)}},{key:"priceToPrecision",value:function(e,t){return this.decimalToPrecision(t,g,this.markets[e].precision.price,this.precisionMode)}},{key:"amountToPrecision",value:function(e,t){return this.decimalToPrecision(t,k,this.markets[e].precision.amount,this.precisionMode)}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,g,this.currencies[e].precision,this.precisionMode)}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s=a[o],u=n*s,c="quote";return"sell"===r?u*=i:c="base",{type:o,currency:a[c],rate:s,cost:parseFloat(this.feeToPrecision(a[c],u))}}},{key:"fetchBalance",value:(j=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","exchange"),e.next=6,this.privatePostBalances();case 6:for(n=e.sent,i={info:n},o=0;o<n.length;o++)(a=n[o]).type===r&&(s=a.currency,u=s.toUpperCase(),u=this.commonCurrencyCode(u),(c=this.account()).free=parseFloat(a.available),c.total=parseFloat(a.amount),c.used=c.total-c.free,i[u]=c);return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})},{key:"fetchOrderBook",value:(A=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={symbol:this.marketId(t)},"undefined"!==typeof r&&(i.limit_bids=r,i.limit_asks=r),e.next=8,this.publicGetBookSymbol(this.extend(i,n));case 8:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price","amount"));case 10:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"fetchTickers",value:(F=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=this.parseTicker(o),s=a.symbol,n[s]=a;return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchTicker",value:(I=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPubtickerSymbol(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeFloat(e,"timestamp"),n=void 0;if("undefined"!==typeof t)n=t.symbol;else if("pair"in e){var i=e.pair;if(i in this.markets_by_id&&(t=this.markets_by_id[i]),"undefined"!==typeof t)n=t.symbol;else{var o=i.slice(0,3),a=i.slice(3,6);n=this.commonCurrencyCode(o)+"/"+this.commonCurrencyCode(a)}}var s=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"mid"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(parseFloat(e.timestamp)),n=e.type.toLowerCase(),i=this.safeString(e,"order_id"),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),s=o*a,u=void 0;if("fee_amount"in e){var c=-this.safeFloat(e,"fee_amount"),d=this.safeString(e,"fee_currency");d in this.currencies_by_id&&(d=this.currencies_by_id[d].code),u={cost:c,currency:d}}return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,order:i,side:n,price:o,amount:a,cost:s,fee:u}}},{key:"fetchTrades",value:(B=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:50,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id,limit_trades:n},"undefined"!==typeof r&&(a.timestamp=parseInt(r/1e3)),e.next=10,this.publicGetTradesSymbol(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"fetchMyTrades",value:(E=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof n&&(a.limit_trades=n),"undefined"!==typeof r&&(a.timestamp=parseInt(r/1e3)),e.next=12,this.privatePostMytrades(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"createOrder",value:(P=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s=r,"limit"!==r&&"market"!==r||(s="exchange "+r),i=this.amountToPrecision(t,i),(u={symbol:this.marketId(t),amount:i,side:n,type:s,ocoorder:!1,buy_price_oco:0,sell_price_oco:0}).price="market"===r?this.nonce().toString():this.priceToPrecision(t,o),e.next=11,this.privatePostOrderNew(this.extend(u,a));case 11:return c=e.sent,e.abrupt("return",this.parseOrder(c));case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return P.apply(this,arguments)})},{key:"cancelOrder",value:(S=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:parseInt(t)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,n=e.is_live,i=e.is_cancelled,o=void 0;o=n?"open":i?"canceled":"closed";var a=void 0;if(!t){var s=e.symbol.toUpperCase();s in this.markets_by_id&&(t=this.markets_by_id[s])}t&&(a=t.symbol);var u=e.type;u.indexOf("exchange ")>=0&&(u=e.type.split(" ")[1]);var c=parseInt(1e3*parseFloat(e.timestamp));return{info:e,id:e.id.toString(),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:a,type:u,side:r,price:this.safeFloat(e,"price"),average:this.safeFloat(e,"avg_execution_price"),amount:this.safeFloat(e,"original_amount"),remaining:this.safeFloat(e,"remaining_amount"),filled:this.safeFloat(e,"executed_amount"),status:o,fee:void 0}}},{key:"fetchOpenOrders",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:if("undefined"===typeof t){e.next=9;break}if(t in this.markets){e.next=9;break}throw new h(this.id+" has no symbol "+t);case 9:return e.next=11,this.privatePostOrders(i);case 11:return o=e.sent,a=this.parseOrders(o,void 0,r,n),t&&(a=this.filterBy(a,"symbol",t)),e.abrupt("return",a);case 15:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchClosedOrders",value:(C=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},"undefined"!==typeof n&&(o.limit=n),e.next=10,this.privatePostOrdersHist(this.extend(o,i));case 10:return a=e.sent,s=this.parseOrders(a,void 0,r,n),"undefined"!==typeof t&&(s=this.filterBy(s,"symbol",t)),s=this.filterBy(s,"status","closed"),e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrder",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:parseInt(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[1],e[3],e[4],e[2],e[5]]}},{key:"fetchOHLCV",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return"undefined"===typeof i&&(i=100),a=this.market(t),s="t"+a.id,u={symbol:s,timeframe:this.timeframes[r],sort:1,limit:i},"undefined"!==typeof n&&(u.start=n),e.next=13,this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(u,o));case 13:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c,a,r,n,i));case 15:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"getCurrencyName",value:function(e){var t={AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bcash",BCI:"bci",BFT:"bft",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STJ:"stj",TNB:"tnb",TRX:"trx",USD:"wire",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx"};if(e in t)return t[e];throw new c(this.id+" "+e+" not supported for withdrawal")}},{key:"createDepositAddress",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.fetchDepositAddress(t,this.extend({renew:1},r));case 3:return n=e.sent,i=this.safeString(n,"address"),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,info:n.info});case 7:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchDepositAddress",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=this.getCurrencyName(t),i={method:n,wallet_name:"exchange",renew:0},e.next=5,this.privatePostDepositNew(this.extend(i,r));case 5:return o=e.sent,a=o.address,s=void 0,"address_pool"in o&&(s=a,a=o.address_pool),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:s,info:o});case 11:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"withdraw",value:(b=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d,l,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>3&&void 0!==f[3]?f[3]:void 0,o=f.length>4&&void 0!==f[4]?f[4]:{},this.checkAddress(n),a=this.getCurrencyName(t),s={withdraw_type:a,walletselected:"exchange",amount:r.toString(),address:n},i&&(s.payment_id=i),e.next=8,this.privatePostWithdraw(this.extend(s,o));case 8:if(u=e.sent,c=u[0],d=c.withdrawal_id,l=c.message,p=this.findBroadlyMatchedKey(this.exceptions.broad,l),0!==d){e.next=18;break}if("undefined"===typeof p){e.next=17;break}throw new(0,this.exceptions.broad[p])(this.id+" "+l);case 17:throw new h(this.id+" withdraw returned an id of zero: "+this.json(c));case 18:return e.abrupt("return",{info:c,id:d});case 19:case"end":return e.stop()}},e,this)})),function(e,t,r){return b.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n);a="v2"===t?"/"+t+a:"/"+this.version+a;var s=this.omit(n,this.extractParams(e)),u=this.urls.api+a;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(s).length){var c="?"+this.urlencode(s);u+=c,a+=c}if("private"===t){this.checkRequiredCredentials();var d=this.nonce();s=this.extend({nonce:d.toString(),request:a},s),s=this.json(s),s=this.encode(s);var l=this.stringToBase64(s),h=this.encode(this.secret),p=this.hmac(l,h,"sha384");i={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(l),"X-BFX-SIGNATURE":p}}return{url:u,method:r,body:o,headers:i}}},{key:"findBroadlyMatchedKey",value:function(e,t){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t.indexOf(i)>=0)return i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(o.length<2)&&e>=400&&"{"===o[0]){var a=JSON.parse(o),s=this.id+" "+this.json(a),u=void 0;if("message"in a)u=a.message;else{if(!("error"in a))throw new h(s);u=a.error}var c=this.exceptions.exact;if(u in c)throw new c[u](s);var d=this.exceptions.broad,l=this.findBroadlyMatchedKey(d,u);if("undefined"!==typeof l)throw new d[l](s);throw new h(s)}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError,h=c.InsufficientFunds,p=c.OrderNotFound,f=c.ExchangeNotAvailable,v=c.DDoSProtection,m=c.InvalidOrder;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"zb",name:"ZB",countries:"CN",rateLimit:1e3,version:"v1",has:{CORS:!1,createMarketOrder:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{1001:d,1002:d,1003:l,1004:l,1005:l,1006:l,1009:f,2001:h,2002:h,2003:h,2005:h,2006:h,2007:h,2009:h,3001:p,3002:m,3003:m,3004:l,3005:d,3006:l,3007:l,3008:p,4001:f,4002:v},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"http://api.zb.com/data",private:"https://trade.zb.com/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate"},api:{public:{get:["markets","ticker","depth","trades","kline"]},private:{get:["order","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getAccountInfo","getUserAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","repay","getRepayments"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ENT:"ENTCash"}})}},{key:"fetchMarkets",value:(R=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=Object.keys(t),n=[],o=0;o<r.length;o++)a=r[o],s=t[a],u=a.split("_"),c=i(u,2),d=c[0],l=c[1],h=this.commonCurrencyCode(d.toUpperCase()),p=this.commonCurrencyCode(l.toUpperCase()),f=h+"/"+p,v={amount:s.amountScale,price:s.priceScale},m=Math.pow(10,-v.amount),n.push({id:a,symbol:f,baseId:d,quoteId:l,base:h,quote:p,lot:m,active:!0,precision:v,limits:{amount:{min:m,max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:0,max:void 0}},info:s});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchBalance",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetAccountInfo(t);case 5:for(r=e.sent,n=r.result.coins,i={info:r},o=0;o<n.length;o++)a=n[o],s=this.account(),u=(u=a.key)in this.currencies_by_id?this.currencies_by_id[u].code:this.commonCurrencyCode(a.enName),s.free=parseFloat(a.available),s.used=parseFloat(a.freez),s.total=this.sum(s.free,s.used),i[u]=s;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"getMarketFieldName",value:function(){return"market"}},{key:"fetchOrderBook",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),i=this.getMarketFieldName(),(o={})[i]=n.id,e.next=10,this.publicGetDepth(this.extend(o,r));case 10:return a=e.sent,e.abrupt("return",this.parseOrderBook(a));case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchTicker",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i=this.getMarketFieldName(),(o={})[i]=n.id,e.next=9,this.publicGetTicker(this.extend(o,r));case 9:return a=e.sent,s=a.ticker,u=this.milliseconds(),c=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:u,datetime:this.iso8601(u),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:void 0,info:s});case 14:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchOHLCV",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),"undefined"===typeof i&&(i=1e3),s={market:a.id,type:this.timeframes[r],limit:i},"undefined"!==typeof n&&(s.since=n),e.next=12,this.publicGetKline(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n="bid"===e.trade_type?"buy":"sell";return{info:e,id:e.tid.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a=this.getMarketFieldName(),(s={})[a]=o.id,e.next=11,this.publicGetTrades(this.extend(s,i));case 11:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"createOrder",value:(w=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},"limit"===r){e.next=4;break}throw new m(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s={price:this.priceToPrecision(t,o),amount:this.amountToString(t,i),tradeType:"buy"===n?"1":"0",currency:this.marketId(t)},e.next=9,this.privateGetOrder(this.extend(s,a));case 9:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i={id:t.toString(),currency:this.marketId(r)},i=this.extend(i,n),e.next=8,this.privateGetCancelOrder(i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchOrder",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},"undefined"!==typeof r){e.next=4;break}throw new d(this.id+" fetchOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i={id:t.toString(),currency:this.marketId(r)},i=this.extend(i,n),e.next=10,this.privateGetGetOrder(i);case 10:return o=e.sent,e.abrupt("return",this.parseOrder(o,void 0));case 12:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOrders",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:50,i=c.length>3&&void 0!==c[3]?c[3]:{},t){e.next=6;break}throw new d(this.id+"fetchOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={currency:o.id,pageIndex:1,pageSize:n},s="privateGetGetOrdersIgnoreTradeType","tradeType"in i&&(s="privateGetGetOrdersNew"),u=void 0,e.prev=13,e.next=16,this[s](this.extend(a,i));case 16:u=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),!(e.t0 instanceof p)){e.next=23;break}return e.abrupt("return",[]);case 23:throw e.t0;case 24:return e.abrupt("return",this.parseOrders(u,o,r,n));case 25:case"end":return e.stop()}},e,this,[[13,19]])})),function(){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:10,i=c.length>3&&void 0!==c[3]?c[3]:{},t){e.next=6;break}throw new d(this.id+"fetchOpenOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={currency:o.id,pageIndex:1,pageSize:n},s="privateGetGetUnfinishedOrdersIgnoreTradeType","tradeType"in i&&(s="privateGetGetOrdersNew"),u=void 0,e.prev=13,e.next=16,this[s](this.extend(a,i));case 16:u=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),!(e.t0 instanceof p)){e.next=23;break}return e.abrupt("return",[]);case 23:throw e.t0;case 24:return e.abrupt("return",this.parseOrders(u,o,r,n));case 25:case"end":return e.stop()}},e,this,[[13,19]])})),function(){return y.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1===e.type?"buy":"sell",n=void 0,i=this.getCreateDateField();i in e&&(n=e[i]);var o=void 0;"currency"in e&&(t=this.marketsById[e.currency]),t&&(o=t.symbol);var a=e.price,s=e.trade_amount,u=e.total_amount,c=u-s,d=e.trade_money,l=this.safeString(e,"status");return"undefined"!==typeof l&&(l=this.parseOrderStatus(l)),{info:e,id:e.id,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:o,type:"limit",side:r,price:a,average:void 0,cost:d,amount:u,filled:s,remaining:c,status:l,fee:void 0}}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"canceled",2:"closed",3:"open"};return e in t?t[e]:e}},{key:"getCreateDateField",value:function(){return"trade_date"}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t)a+="/"+this.version+"/"+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{var s=this.keysort(this.extend({method:e,accesskey:this.apiKey},n)),u=this.nonce();s=this.keysort(s);var c=this.rawencode(s),d=this.hash(this.encode(this.secret),"sha1");a+="/"+e+"?"+c+"&"+("sign="+this.hmac(this.encode(c),this.encode(d),"md5")+"&reqTime="+u.toString())}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&"{"===o[0]){var a=JSON.parse(o);if("code"in a){var s=this.safeString(a,"code"),u=this.id+" "+this.json(a);if(s in this.exceptions)throw new(0,this.exceptions[s])(u);if("1000"!==s)throw new d(u)}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.ExchangeNotAvailable,h=c.AuthenticationError,p=c.InvalidNonce,f=c.InsufficientFunds,v=c.InvalidOrder,m=c.OrderNotFound,y=c.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,b,g,k,w,x,O,T,_,C,R,S;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:"emulated",fetchMyTrades:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://www.coinegg.com/coin",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html"},api:{web:{get:["{quote}/allcoin","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:h,104:h,105:h,106:p,200:f,201:v,202:v,203:m,402:y},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]}})}},{key:"fetchMarkets",value:(S=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.options.quoteIds,r=[],n=0;case 3:if(!(n<t.length)){e.next=18;break}return i=t[n],e.next=7,this.webGetQuoteAllcoin({quote:i});case 7:if("undefined"!==typeof(o=e.sent)){e.next=10;break}throw new l(this.id+' fetchMarkets() for "'+i+'" returned: "'+this.json(o)+'"');case 10:if(a=Object.keys(o),!(a.length<1)){e.next=14;break}throw new l(this.id+' fetchMarkets() for "'+i+'" returned: "'+this.json(o)+'"');case 14:for(s=0;s<a.length;s++)u=a[s],c=o[u],d=u.toUpperCase(),h=i.toUpperCase(),d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),p=u+i,f=d+"/"+h,v={amount:8,price:8},m=Math.pow(10,-v.amount),r.push({id:p,symbol:f,base:d,quote:h,baseId:u,quoteId:i,active:!0,lot:m,precision:v,limits:{amount:{min:m,max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:Math.pow(10,v.price)},cost:{min:void 0,max:void 0}},info:c});case 15:n++,e.next=3;break;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.milliseconds(),n=this.safeFloat(e,"last"),i=this.safeFloat(e,"change"),o=void 0,a=void 0,s=void 0;if("undefined"!==typeof i){var u=i/100;a=n-(o=n/this.sum(1,u)),s=this.sum(n,o)/2}return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:o,close:n,last:n,previousClose:void 0,change:a,percentage:i,average:s,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"quoteVol"),info:e}}},{key:"fetchTicker",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerRegionQuote(this.extend({coin:n.baseId,quote:n.quoteId},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"fetchTickers",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:void 0,f.length>1&&void 0!==f[1]?f[1]:{},e.next=4,this.loadMarkets();case 4:t=this.options.quoteIds,r={},n=0;case 7:if(!(n<t.length)){e.next=19;break}return i=t[n],e.next=11,this.webGetQuoteAllcoin({quote:i});case 11:if(o=e.sent,(a=Object.keys(o)).length){e.next=15;break}throw new d("fetchTickers failed");case 15:for(s=0;s<a.length;s++)u=a[s],c=o[u],(l=u+i)in this.markets_by_id&&(h=this.marketsById[l],p=h.symbol,r[p]=this.parseTicker({high:c[4],low:c[5],buy:c[2],sell:c[3],last:c[1],change:c[8],vol:c[6],quoteVol:c[7]},h));case 16:n++,e.next=7;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetDepthRegionQuote(this.extend({coin:n.baseId,quote:n.quoteId},r));case 7:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 9:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=this.costToPrecision(o,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetOrdersRegionQuote(this.extend({coin:o.baseId,quote:o.quoteId},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchBalance",value:(O=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance(t);case 5:for(r=e.sent,n={},o=this.omit(r.data,"uid"),a=Object.keys(o),s=0;s<a.length;s++)u=a[s],c=u.split("_"),d=i(c,2),l=d[0],h=d[1],p=l,l in this.currencies_by_id&&(p=this.currencies_by_id[l].code),p in n||(n[p]={free:void 0,used:void 0,total:void 0}),h="lock"===h?"used":"free",n[p][h]=parseFloat(o[u]);for(f=Object.keys(n),v=0;v<f.length;v++)m=f[v],n[m].total=this.sum(n[m].free,n[m].used);return e.abrupt("return",this.parseBalance(this.extend({info:r},n)));case 13:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.parse8601(e.datetime),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount_original"),o=this.safeFloat(e,"amount_outstanding"),a=i-o,s=this.safeString(e,"status");s="cancelled"===s?"canceled":o?"open":"closed";var u=this.safeValue(e,"info",e);return{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:s,symbol:t,type:"limit",side:e.type,price:n,cost:void 0,amount:i,filled:a,remaining:o,trades:void 0,fee:void 0,info:u}}},{key:"createOrder",value:(x=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.privatePostTradeAddRegionQuote(this.extend({coin:s.baseId,quote:s.quoteId,type:n,amount:i,price:o},a));case 7:return u=e.sent,c=u.id.toString(),d=this.parseOrder({id:c,datetime:this.ymdhms(this.milliseconds()),amount_original:i,amount_outstanding:i,price:o,type:n,info:u},s),this.orders[c]=d,e.abrupt("return",d);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return x.apply(this,arguments)})},{key:"cancelOrder",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostTradeCancelRegionQuote(this.extend({id:t,coin:i.baseId,quote:i.quoteId},n));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOrder",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostTradeViewRegionQuote(this.extend({id:t,coin:i.baseId,quote:i.quoteId},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o.data,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchOrders",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={coin:o.baseId,quote:o.quoteId},"undefined"!==typeof r&&(a.since=r/1e3),e.next=11,this.privatePostTradeListRegionQuote(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s.data,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOpenOrders",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({type:"open"},i));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="rest";"web"===t&&(a=t);var s=this.urls.api[a]+"/"+this.implodeParams(e,n),u=this.omit(n,this.extractParams(e));if("public"===t||"web"===t)"web"===t&&(u.t=this.nonce()),Object.keys(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),u=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},u));var c=this.hash(this.encode(this.secret));u+="&signature="+this.hmac(this.encode(u),this.encode(c)),"GET"===r?s+="?"+u:(i={"Content-type":"application/x-www-form-urlencoded"},o=u)}return{url:s,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&0!==o.length&&"{"===o[0]){var a=JSON.parse(o),s=this.safeValue(a,"result");if("undefined"!==typeof s&&!0!==s){var u=this.safeString(a,"code"),c=this.errorMessages,l=this.safeString(c,u,"Unknown Error");throw u in this.exceptions?new this.exceptions[u](this.id+" "+l):new d(this.id+" "+l)}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(71);function o(){}var a=null,s={};function u(e){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&f(e,this)}function c(e,t){for(;3===e._83;)e=e._18;if(u._47&&u._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){i(function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return a=e,s}}(r,e._18);n===s?l(t.promise,a):d(t.promise,n)}else 1===e._83?d(t.promise,e._18):l(t.promise,e._18)})}(e,t)}function d(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===n(t)||"function"===typeof t)){var r=function(e){try{return e.then}catch(e){return a=e,s}}(t);if(r===s)return l(e,a);if(r===e.then&&t instanceof u)return e._83=3,e._18=t,void h(e);if("function"===typeof r)return void f(r.bind(t),e)}e._83=1,e._18=t,h(e)}function l(e,t){e._83=2,e._18=t,u._71&&u._71(e,t),h(e)}function h(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function p(e,t,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=r}function f(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return a=e,s}}(e,function(e){r||(r=!0,d(t,e))},function(e){r||(r=!0,l(t,e))});r||n!==s||(r=!0,l(t,a))}e.exports=u,u._47=null,u._71=null,u._44=o,u.prototype.then=function(e,t){if(this.constructor!==u)return function(e,t,r){return new e.constructor(function(n,i){var a=new u(o);a.then(n,i),c(e,new p(t,r,a))})}(this,e,t);var r=new u(o);return c(this,new p(e,t,r)),r}},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,i,o,a,s,u){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,o,a,s,u],l=0;(c=new Error(t.replace(/%s/g,function(){return d[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(30),o=r(0);n.ccxtVersion="1.14.274";var a={_1broker:r(100),_1btcxe:r(59),acx:r(21),allcoin:r(101),anxpro:r(102),anybits:r(103),bibox:r(104),binance:r(105),bit2c:r(106),bitbank:r(107),bitbay:r(108),bitfinex:r(22),bitfinex2:r(109),bitflyer:r(110),bithumb:r(111),bitkk:r(112),bitlish:r(113),bitmarket:r(114),bitmex:r(115),bitsane:r(60),bitso:r(116),bitstamp:r(117),bitstamp1:r(118),bittrex:r(61),bitz:r(119),bl3p:r(120),bleutrade:r(121),braziliex:r(122),btcbox:r(62),btcchina:r(123),btcexchange:r(124),btcmarkets:r(125),btctradeim:r(126),btctradeua:r(127),btcturk:r(63),btcx:r(128),bxinth:r(129),ccex:r(130),cex:r(131),chbtc:r(132),chilebit:r(133),cobinhood:r(134),coinbase:r(135),coinbasepro:r(136),coincheck:r(137),coinegg:r(24),coinex:r(138),coinexchange:r(139),coinfalcon:r(140),coinfloor:r(141),coingi:r(142),coinmarketcap:r(143),coinmate:r(144),coinnest:r(145),coinone:r(146),coinsecure:r(147),coinspot:r(148),cointiger:r(149),coolcoin:r(150),crypton:r(151),cryptopia:r(152),dsx:r(153),ethfinex:r(154),exmo:r(155),exx:r(156),flowbtc:r(157),foxbit:r(11),fybse:r(65),fybsg:r(158),gatecoin:r(159),gateio:r(160),gdax:r(64),gemini:r(161),getbtc:r(162),hadax:r(163),hitbtc:r(66),hitbtc2:r(164),huobi:r(165),huobicny:r(166),huobipro:r(17),ice3x:r(167),independentreserve:r(168),indodax:r(169),itbit:r(170),jubi:r(171),kraken:r(172),kucoin:r(173),kuna:r(174),lakebtc:r(175),lbank:r(176),liqui:r(12),livecoin:r(177),luno:r(178),lykke:r(179),mercado:r(180),mixcoins:r(181),negociecoins:r(182),nova:r(183),okcoincny:r(184),okcoinusd:r(16),okex:r(185),paymium:r(186),poloniex:r(187),qryptos:r(67),quadrigacx:r(188),quoinex:r(189),southxchange:r(190),surbitcoin:r(191),therock:r(192),tidebit:r(193),tidex:r(194),urdubit:r(195),vaultoro:r(196),vbtc:r(197),virwox:r(198),wex:r(199),xbtce:r(200),yobit:r(201),yunbi:r(202),zaif:r(203),zb:r(23)};e.exports=Object.assign({version:"1.14.274",Exchange:n,exchanges:Object.keys(a)},a,i,o)},function(e,t,r){"use strict";var n=r(19).unCamelCase;e.exports=function(e){for(var t in e)e[n(t)]=e[t];return e}(Object.assign({},r(89),r(91),r(19),r(20),r(13),r(31),r(95),r(58),r(96),r(97)))},function(e,t,r){"use strict";var n=r(32),i=r(92);e.exports={json:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return JSON.stringify(e)},unjson:JSON.parse,stringToBinary:function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return n.lib.WordArray.create(t)},stringToBase64:function(e){return n.enc.Latin1.parse(e).toString(n.enc.Base64)},utf16ToBase64:function(e){return n.enc.Utf16.parse(e).toString(n.enc.Base64)},base64ToBinary:function(e){return n.enc.Base64.parse(e)},base64ToString:function(e){return n.enc.Base64.parse(e).toString(n.enc.Utf8)},binaryToString:function(e){return e},binaryConcat:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return e.concat(t)})},urlencode:function(e){return i.stringify(e)},rawencode:function(e){return i.stringify(e,{encode:!1})},urlencodeBase64:function(e){return e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}}},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e},"object"===s(t)?e.exports=t=a(r(2),r(7),r(33),r(34),r(5),r(6),r(8),r(14),r(35),r(15),r(36),r(37),r(38),r(9),r(39),r(4),r(3),r(40),r(41),r(42),r(43),r(44),r(45),r(46),r(47),r(48),r(49),r(50),r(51),r(52),r(53),r(54),r(55)):(i=[r(2),r(7),r(33),r(34),r(5),r(6),r(8),r(14),r(35),r(15),r(36),r(37),r(38),r(9),r(39),r(4),r(3),r(40),r(41),r(42),r(43),r(44),r(45),r(46),r(47),r(48),r(49),r(50),r(51),r(52),r(53),r(54),r(55)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}};function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o;return r=(t=e).lib.WordArray,n=t.algo,i=n.SHA256,o=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o),e.SHA224},"object"===s(t)?e.exports=t=a(r(2),r(14)):(i=[r(2),r(14)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o,a,s;return r=(t=e).x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,s=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=a._createHelper(s),t.HmacSHA384=a._createHmacHelper(s),e.SHA384},"object"===s(t)?e.exports=t=a(r(2),r(7),r(15)):(i=[r(2),r(7),r(15)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64.Word,s=r.algo,u=[],c=[],d=[];!function(){for(var e=1,t=0,r=0;r<24;r++){u[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,l=0,h=0;h<7;h++){if(1&i){var p=(1<<h)-1;p<32?l^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}d[o]=a.create(s,l)}}();var l=[];!function(){for(var e=0;e<25;e++)l[e]=a.create()}();var h=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(S=r[i]).high^=a,S.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var p=0,f=0,v=0;v<5;v++){p^=(S=r[h+5*v]).high,f^=S.low}var m=l[h];m.high=p,m.low=f}for(h=0;h<5;h++){var y=l[(h+4)%5],b=l[(h+1)%5],g=b.high,k=b.low;for(p=y.high^(g<<1|k>>>31),f=y.low^(k<<1|g>>>31),v=0;v<5;v++){(S=r[h+5*v]).high^=p,S.low^=f}}for(var w=1;w<25;w++){var x=(S=r[w]).high,O=S.low,T=u[w];if(T<32)p=x<<T|O>>>32-T,f=O<<T|x>>>32-T;else p=O<<T-32|x>>>64-T,f=x<<T-32|O>>>64-T;var _=l[c[w]];_.high=p,_.low=f}var C=l[0],R=r[0];C.high=R.high,C.low=R.low;for(h=0;h<5;h++)for(v=0;v<5;v++){var S=r[w=h+5*v],P=l[w],E=l[(h+1)%5+5*v],B=l[(h+2)%5+5*v];S.high=P.high^~E.high&B.high,S.low=P.low^~E.low&B.low}S=r[0];var I=d[s];S.high^=I.high,S.low^=I.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],d=0;d<u;d++){var l=a[d],h=l.high,p=l.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(h)}return new i.init(c,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=o._createHelper(h),r.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3},"object"===s(t)?e.exports=t=a(r(2),r(7)):(i=[r(2),r(7)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,p,k,w,x,O,T,_,C,R,S=this._hash.words,P=l.words,E=h.words,B=s.words,I=u.words,F=c.words,A=d.words;x=o=S[0],O=a=S[1],T=p=S[2],_=k=S[3],C=w=S[4];for(r=0;r<80;r+=1)R=o+e[t+B[r]]|0,R+=r<16?f(a,p,k)+P[0]:r<32?v(a,p,k)+P[1]:r<48?m(a,p,k)+P[2]:r<64?y(a,p,k)+P[3]:b(a,p,k)+P[4],R=(R=g(R|=0,F[r]))+w|0,o=w,w=k,k=g(p,10),p=a,a=R,R=x+e[t+I[r]]|0,R+=r<16?b(O,T,_)+E[0]:r<32?y(O,T,_)+E[1]:r<48?m(O,T,_)+E[2]:r<64?v(O,T,_)+E[3]:f(O,T,_)+E[4],R=(R=g(R|=0,A[r]))+C|0,x=C,C=_,_=g(T,10),T=O,O=R;R=S[1]+p+_|0,S[1]=S[2]+k+C|0,S[2]=S[3]+w+x|0,S[3]=S[4]+o+O|0,S[4]=S[0]+a+T|0,S[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function b(e,t,r){return e^(t|~r)}function g(e,t){return e<<t|e>>>32-t}r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160},"object"===s(t)?e.exports=t=a(r(2)):(i=[r(2)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n,i,o,a,s,u;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,u=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=s.create(r.hasher,e),o=i.create(),a=i.create([1]),u=o.words,c=a.words,d=r.keySize,l=r.iterations;u.length<d;){var h=n.update(t).finalize(a);n.reset();for(var p=h.words,f=p.length,v=h,m=1;m<l;m++){v=n.finalize(v),n.reset();for(var y=v.words,b=0;b<f;b++)p[b]^=y[b]}o.concat(h),c[0]++}return o.sigBytes=4*d,o}}),t.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)},e.PBKDF2},"object"===s(t)?e.exports=t=a(r(2),r(8),r(9)):(i=[r(2),r(8),r(9)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=o}}),t}(),e.mode.CFB},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=a[s]}}),t.Decryptor=r,t),e.mode.CTR},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255===(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(a);var s=a.slice(0);n.encryptBlock(s,0);for(var u=0;u<i;u++)e[t+u]^=s[u]}});return t.Decryptor=n,t}(),e.mode.CTRGladman},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}}),t.Decryptor=r,t),e.mode.OFB},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){var t,r,n;return r=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}},e.format.Hex},"object"===s(t)?e.exports=t=a(r(2),r(3)):(i=[r(2),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],u=[],c=[],d=[],l=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,i[r]=f,o[f]=r;var v=e[r],m=e[v],y=e[m],b=257*e[f]^16843008*f;a[r]=b<<24|b>>>8,s[r]=b<<16|b>>>16,u[r]=b<<8|b>>>24,c[r]=b;b=16843009*y^65537*m^257*v^16843008*r;d[f]=b<<24|b>>>8,l[f]=b<<16|b>>>16,h[f]=b<<8|b>>>24,p[f]=b,r?(r=v^e[e[e[y^v]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)if(a<r)o[a]=t[a];else{var s=o[a-1];a%r?r>6&&a%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[a/r|0]<<24),o[a]=o[a-r]^s}for(var u=this._invKeySchedule=[],c=0;c<n;c++){a=n-c;if(c%4)s=o[a];else s=o[a-4];u[c]=c<4||a<=4?s:d[i[s>>>24]]^l[i[s>>>16&255]]^h[i[s>>>8&255]]^p[i[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,u,c,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,d,l,h,p,o);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var u=this._nRounds,c=e[t]^r[0],d=e[t+1]^r[1],l=e[t+2]^r[2],h=e[t+3]^r[3],p=4,f=1;f<u;f++){var v=n[c>>>24]^i[d>>>16&255]^o[l>>>8&255]^a[255&h]^r[p++],m=n[d>>>24]^i[l>>>16&255]^o[h>>>8&255]^a[255&c]^r[p++],y=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^a[255&d]^r[p++],b=n[h>>>24]^i[c>>>16&255]^o[d>>>8&255]^a[255&l]^r[p++];c=v,d=m,l=y,h=b}v=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^r[p++],m=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^r[p++],y=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^r[p++],b=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^r[p++];e[t]=v,e[t+1]=m,e[t+2]=y,e[t+3]=b},keySize:8});t.AES=r._createHelper(v)}(),e.AES},"object"===s(t)?e.exports=t=a(r(2),r(5),r(6),r(4),r(3)):(i=[r(2),r(5),r(6),r(4),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],d=u[o];for(r=0;r<24;r++)c[r/6|0]|=t[(s[r]-1+d)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(s[r+24]-1+d)%28]<<31-r%6;c[0]=c[0]<<1|c[0]>>>31;for(r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var l=this._invSubKeys=[];for(r=0;r<16;r++)l[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((a^i[u])&d[u])>>>0];this._lBlock=a,this._rBlock=o^s}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=i._createHelper(l);var f=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=l.createEncryptor(n.create(e.slice(0,2))),this._des2=l.createEncryptor(n.create(e.slice(2,4))),this._des3=l.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(f)}(),e.TripleDES},"object"===s(t)?e.exports=t=a(r(2),r(5),r(6),r(4),r(3)):(i=[r(2),r(5),r(6),r(4),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}t.RC4=r._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=r._createHelper(a)}(),e.RC4},"object"===s(t)?e.exports=t=a(r(2),r(5),r(6),r(4),r(3)):(i=[r(2),r(5),r(6),r(4),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(r=0;r<4;r++)s.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,a=o[0],u=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=c>>>16|4294901760&d,h=d<<16|65535&c;i[0]^=c,i[1]^=l,i[2]^=d,i[3]^=h,i[4]^=c,i[5]^=l,i[6]^=d,i[7]^=h;for(r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,u=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=r._createHelper(a)}(),e.Rabbit},"object"===s(t)?e.exports=t=a(r(2),r(5),r(6),r(4),r(3)):(i=[r(2),r(5),r(6),r(4),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){var n,i,o,a;function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,a=o[0],u=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=c>>>16|4294901760&d,h=d<<16|65535&c;n[0]^=c,n[1]^=l,n[2]^=d,n[3]^=h,n[4]^=c,n[5]^=l,n[6]^=d,n[7]^=h;for(i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,u=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=r._createHelper(a)}(),e.RabbitLegacy},"object"===s(t)?e.exports=t=a(r(2),r(5),r(6),r(4),r(3)):(i=[r(2),r(5),r(6),r(4),r(3)],void 0===(o="function"===typeof(n=a)?n.apply(t,i):n)||(e.exports=o))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,o){if(!r)return e;if("object"!==n(r)){if(Array.isArray(e))e.push(r);else{if("object"!==n(e))return[e,r];(o.plainObjects||o.allowPrototypes||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!==n(e))return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){i.call(e,a)?e[a]&&"object"===n(e[a])?e[a]=t.merge(e[a],r,o):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,n){var a=r[n];return i.call(e,n)?e[n]=t.merge(e[n],a,o):e[n]=a,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(n):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var o=t[i],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],d=a[c];"object"===n(d)&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:a,prop:c}),r.push(d))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)"undefined"!==typeof t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,r){return(s="object"===("undefined"===typeof Reflect?"undefined":n(Reflect))&&Reflect.construct||function(e,t,r){var n=[null];return n.push.apply(n,t),a(new(e.bind.apply(e,n)),r.prototype)})(e,t,r)}function u(e){var t="function"===typeof Map?new Map:void 0;return(u=function(e){if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,a(function(){return s(e,arguments,o(this).constructor)},e))})(e)}var c,d,l=Date.now,h=setTimeout,p=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l()+r,o=function(){},a=!0,s=n(function(){a=!0;var r=i-l();r>0?o=e(t,r,n,i):t()},r);return function(){a&&(a=!1,clearTimeout(s)),o()}},f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);return(e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"timed out"))).constructor=t,e.__proto__=t.prototype,e.message="timed out",e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u(Error)),t}();e.exports={now:l,setTimeout_safe:p,sleep:function(e){return new Promise(function(t){return p(t,e)})},TimedOut:f,timeout:(c=regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){},i=new Promise(function(e){return n=p(e,t)}),e.prev=2,e.next=5,Promise.race([r,i.then(function(){throw new f})]);case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,n(),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[2,,6,9]])}),d=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=c.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(e,t){return d.apply(this,arguments)})}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"_1btcxe",name:"1BTCXE",countries:"PA",comment:"Crypto Capital API",has:{CORS:!0,withdraw:!0},timeframes:{"1d":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766049-2b294408-5ecc-11e7-85cc-adaff013dc1a.jpg",api:"https://1btcxe.com/api",www:"https://1btcxe.com",doc:"https://1btcxe.com/api-docs.php"},api:{public:{get:["stats","historical-prices","order-book","transactions"]},private:{post:["balances-and-info","open-orders","user-transactions","btc-deposit-address/get","btc-deposit-address/new","deposits/get","withdrawals/get","orders/new","orders/edit","orders/cancel","orders/status","withdrawals/new"]}}})}},{key:"fetchMarkets",value:(g=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:"USD",symbol:"BTC/USD",base:"BTC",quote:"USD"},{id:"EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},{id:"CNY",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},{id:"RUB",symbol:"BTC/RUB",base:"BTC",quote:"RUB"},{id:"CHF",symbol:"BTC/CHF",base:"BTC",quote:"CHF"},{id:"JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY"},{id:"GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP"},{id:"CAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD"},{id:"AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},{id:"AED",symbol:"BTC/AED",base:"BTC",quote:"AED"},{id:"BGN",symbol:"BTC/BGN",base:"BTC",quote:"BGN"},{id:"CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK"},{id:"DKK",symbol:"BTC/DKK",base:"BTC",quote:"DKK"},{id:"HKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD"},{id:"HRK",symbol:"BTC/HRK",base:"BTC",quote:"HRK"},{id:"HUF",symbol:"BTC/HUF",base:"BTC",quote:"HUF"},{id:"ILS",symbol:"BTC/ILS",base:"BTC",quote:"ILS"},{id:"INR",symbol:"BTC/INR",base:"BTC",quote:"INR"},{id:"MUR",symbol:"BTC/MUR",base:"BTC",quote:"MUR"},{id:"MXN",symbol:"BTC/MXN",base:"BTC",quote:"MXN"},{id:"NOK",symbol:"BTC/NOK",base:"BTC",quote:"NOK"},{id:"NZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD"},{id:"PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},{id:"RON",symbol:"BTC/RON",base:"BTC",quote:"RON"},{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"},{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},{id:"THB",symbol:"BTC/THB",base:"BTC",quote:"THB"},{id:"TRY",symbol:"BTC/TRY",base:"BTC",quote:"TRY"},{id:"ZAR",symbol:"BTC/ZAR",base:"BTC",quote:"ZAR"}]);case 1:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalancesAndInfo();case 3:for(t=e.sent,r=t["balances-and-info"],n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],(s=this.account()).free=this.safeFloat(r.available,a,0),s.used=this.safeFloat(r.on_hold,a,0),s.total=this.sum(s.free,s.used),n[a]=s;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetOrderBook(this.extend({currency:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n["order-book"],void 0,"bid","ask","price","order_amount"));case 6:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.publicGetStats(this.extend({currency:this.marketId(t)},r));case 3:return n=e.sent,i=n.stats,o=this.safeFloat(i,"last_price"),e.abrupt("return",{symbol:t,timestamp:void 0,datetime:void 0,high:this.safeFloat(i,"max"),low:this.safeFloat(i,"min"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(i,"open"),close:o,last:o,previousClose:void 0,change:this.safeFloat(i,"daily_change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(i,"total_btc_traded"),info:i});case 7:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.date+" 00:00:00"),void 0,void 0,void 0,parseFloat(e.price),void 0]}},{key:"fetchOHLCV",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1d",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},a=this.market(t),e.next=7,this.publicGetHistoricalPrices(this.extend({currency:a.id,timeframe:this.timeframes[r]},o));case 7:return s=e.sent,u=this.omit(s["historical-prices"],"request_currency"),e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.timestamp);return{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:e.maker_type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},o=this.market(t),e.next=6,this.publicGetTransactions(this.extend({currency:o.id},i));case 6:return a=e.sent,s=this.omit(a.transactions,"request_currency"),e.abrupt("return",this.parseTrades(s,o,r,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},s={side:n,type:r,currency:this.marketId(t),amount:i},"limit"===r&&(s.limit_price=o),e.next=6,this.privatePostOrdersNew(this.extend(s,a));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrdersCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"withdraw",value:(l=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return e.next=7,this.privatePostWithdrawalsNew(this.extend({currency:t,amount:parseFloat(r),address:n},i));case 7:return o=e.sent,e.abrupt("return",{info:o,id:o.result.uuid});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("cryptocapital"===this.id)throw new u(this.id+" is an abstract base API for _1btcxe");var a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.extend({api_key:this.apiKey,nonce:this.nonce()},n),c=this.json(s);s.signature=this.hmac(this.encode(c),this.encode(this.secret)),o=this.json(s),i={"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"public",n=h.length>2&&void 0!==h[2]?h[2]:"GET",i=h.length>3&&void 0!==h[3]?h[3]:{},o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("errors"in(s=e.sent))){e.next=13;break}for(c=[],d=0;d<s.errors.length;d++)l=s.errors[d],c.push(l.code+": "+l.message);throw c=c.join(" "),new u(this.id+" "+c);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.InvalidNonce;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v,m,y,b,g,k,w,x,O,T;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitsane",name:"Bitsane",countries:"IE",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41387105-d86bf4c6-6f8d-11e8-95ea-2fa943872955.jpg",api:"https://bitsane.com/api",www:"https://bitsane.com",doc:"https://bitsane.com/info-api",fees:"https://bitsane.com/fees"},api:{public:{get:["assets/currencies","assets/pairs","ticker","orderbook","trades"]},private:{post:["balances","order/cancel","order/new","order/status","orders","orders/history","deposit/address","withdraw","withdrawal/status","transactions/history","vouchers","vouchers/create","vouchers/redeem"]}},fees:{trading:{maker:.0015,taker:.0025}},exceptions:{3:d,4:d,5:d,6:l,7:d,8:l,9:d,10:d,11:d},options:{defaultCurrencyPrecision:2}})}},{key:"fetchCurrencies",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetAssetsCurrencies(t);case 3:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=r[a],u=this.safeInteger(s,"precision",this.options.defaultCurrencyPrecision),c=this.commonCurrencyCode(a),d=this.safeValue(s,"withdrawal",!0),l=this.safeValue(s,"deposit",!0),h=!0,d&&l||(h=!1),i[c]={id:a,code:c,name:this.safeString(s,"full_name",c),active:h,precision:u,funding:{withdraw:{active:d,fee:this.safeValue(s,"withdrawal_fee")},deposit:{active:l,fee:this.safeValue(s,"deposit_fee")}},limits:{amount:{min:this.safeFloat(s,"minAmountTrade"),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0}},info:s};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchMarkets",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssetsPairs();case 2:for(t=e.sent,r=[],n=Object.keys(t),i=0;i<n.length;i++)o=n[i],a=t[o],s=this.commonCurrencyCode(a.base),u=this.commonCurrencyCode(a.quote),c=s+"/"+u,d=this.safeValue(a,"limits"),l=void 0,h=void 0,d&&(l=this.safeFloat(d,"minimum"),h=this.safeFloat(d,"maximum")),p={amount:parseInt(a.precision),price:8},f=Math.pow(10,-p.amount),r.push({id:o,symbol:c,base:s,quote:u,baseId:a.base,quoteId:a.quote,active:!0,lot:f,precision:p,limits:{amount:{min:l,max:h},price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)},cost:{min:void 0,max:void 0}},info:o});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.milliseconds(),n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return n=e.sent,e.abrupt("return",n[t]);case 5:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchTickers",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return n={},t&&(i=this.marketIds(t),n.pairs=i.join(",")),e.next=8,this.publicGetTicker(this.extend(n,r));case 8:o=e.sent,a=Object.keys(o),s={},u=0;case 12:if(!(u<a.length)){e.next=23;break}if(c=a[u],d=this.safeValue(this.marketsById,c)){e.next=17;break}return e.abrupt("continue",20);case 17:l=d.symbol,h=o[c],s[l]=this.parseTicker(h,d);case 20:u++,e.next=12;break;case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOrderBook",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetOrderbook(this.extend({pair:this.marketId(t)},r));case 5:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.result,void 0,"bids","asks","price","amount"));case 7:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=1e3*parseInt(e.timestamp),n=parseFloat(e.price),i=parseFloat(e.amount),o=this.costToPrecision(t,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:t,id:this.safeString(e,"tid"),order:void 0,type:void 0,side:void 0,price:n,amount:i,cost:parseFloat(o),fee:void 0,info:e}}},{key:"fetchTrades",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={pair:o.id},r&&(a.since=parseInt(r/1e3)),n&&(a.limit=n),e.next=11,this.publicGetTrades(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s.result,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances(t);case 5:for(r=e.sent,n={info:r},i=r.result,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],u=i[s],c=s,c=s in this.currencies_by_id?this.currencies_by_id[s].code:this.commonCurrencyCode(c),d={free:parseFloat(u.amount),used:parseFloat(u.locked),total:parseFloat(u.total)},n[c]=d;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair)),t&&(r=t.symbol);var n=1e3*this.safeInteger(e,"timestamp"),i=parseFloat(e.price),o=this.safeFloat(e,"original_amount"),a=this.safeFloat(e,"executed_amount"),s=this.safeFloat(e,"remaining_amount"),u="closed";return e.is_cancelled?u="canceled":e.is_live&&(u="open"),{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,status:u,symbol:r,type:this.safeString(e,"type"),side:this.safeString(e,"side"),price:i,cost:void 0,amount:o,filled:a,remaining:s,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={pair:s.id,amount:i,type:r,side:n},"market"!==r&&(u.price=o),e.next=9,this.privatePostOrderNew(this.extend(u,a));case 9:return c=e.sent,u.id=c.result.order_id,u.timestamp=this.seconds(),u.original_amount=u.amount,u.info=c,u=this.parseOrder(u,s),d=u.id,this.orders[d]=u,e.abrupt("return",u);case 18:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"cancelOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostOrderCancel(this.extend({order_id:t},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrder(n.result));case 6:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.result));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOpenOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:void 0,t=i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:void 0,i.length>3&&void 0!==i[3]?i[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostOrders();case 8:return n=e.sent,e.abrupt("return",this.parseOrders(n.result,void 0,t,r));case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchDepositAddress",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostDepositAddress(this.extend({currency:n.id},r));case 6:return i=e.sent,o=this.safeString(i.result,"address"),e.abrupt("return",{currency:t,address:o,info:i});case 9:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"withdraw",value:(h=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=4,this.loadMarkets();case 4:return a=this.currency(t),s={currency:a.id,amount:r,address:n},i&&(s.additional=i),e.next=9,this.privatePostWithdraw(this.extend(s,o));case 9:return u=e.sent,e.abrupt("return",{id:u.result.withdrawal_id,info:u});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+t+"/"+e;return"public"===t?Object.keys(n).length&&(a+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),o=this.extend({nonce:this.nonce()},n),o=this.stringToBase64(this.json(o)),i={"X-BS-APIKEY":this.apiKey,"X-BS-PAYLOAD":o,"X-BS-SIGNATURE":this.hmac(this.encode(o),this.encode(this.secret),"sha384")}),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o),s=this.safeString(a,"statusCode");if("undefined"!==typeof s&&"0"!==s){var u=this.id+" "+this.json(a),d=this.exceptions;throw s in d?new d[s](u):new c(this.id+" "+this.json(a))}return a}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.ExchangeNotAvailable,h=c.AuthenticationError,p=c.InvalidOrder,f=c.InsufficientFunds,v=c.OrderNotFound,m=c.DDoSProtection,y=c.PermissionDenied,b=c.AddressPending;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F,A;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bittrex",name:"Bittrex",countries:"US",version:"v1.1",rateLimit:1500,has:{CORS:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"oneMin","5m":"fiveMin","30m":"thirtyMin","1h":"hour","1d":"day"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766352-cf0b3c26-5ed5-11e7-82b7-f3826b7a97d8.jpg",api:{public:"https://bittrex.com/api",account:"https://bittrex.com/api",market:"https://bittrex.com/api",v2:"https://bittrex.com/api/v2.0/pub"},www:"https://bittrex.com",doc:["https://bittrex.com/Home/Api","https://www.npmjs.org/package/node.bittrex.api"],fees:["https://bittrex.com/Fees","https://support.bittrex.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"]},api:{v2:{get:["currencies/GetBTCPrice","market/GetTicks","market/GetLatestTick","Markets/GetMarketSummaries","market/GetLatestTick"]},public:{get:["currencies","markethistory","markets","marketsummaries","marketsummary","orderbook","ticker"]},account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawalhistory","withdraw"]},market:{get:["buylimit","buymarket","cancel","openorders","selllimit","sellmarket"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,VTC:.02,PPC:.02,FTC:.2,RDD:2,NXT:2,DASH:.002,POT:.002},deposit:{BTC:0,LTC:0,DOGE:0,VTC:0,PPC:0,FTC:0,RDD:0,NXT:0,DASH:0,POT:0}}},exceptions:{APISIGN_NOT_PROVIDED:h,INVALID_SIGNATURE:h,INVALID_CURRENCY:d,INVALID_PERMISSION:h,INSUFFICIENT_FUNDS:f,QUANTITY_NOT_PROVIDED:p,MIN_TRADE_REQUIREMENT_NOT_MET:p,ORDER_NOT_OPEN:p,INVALID_ORDER:p,UUID_INVALID:v,RATE_NOT_PROVIDED:p,WHITELIST_VIOLATION_IP:y},options:{parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1},commonCurrencies:{BITS:"SWIFT",CPC:"CapriCoin"}})}},{key:"costToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"feeToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"fetchMarkets",value:(A=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.v2GetMarketsGetMarketSummaries();case 2:for(t=e.sent,r=[],n=0;n<t.result.length;n++)i=t.result[n].Market,o=i.MarketName,a=i.MarketCurrency,s=i.BaseCurrency,u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,l={amount:8,price:8},h=i.IsActive||"true"===i.IsActive,r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:h,info:i,precision:l,limits:{amount:{min:i.MinTradeSize,max:void 0},price:{min:Math.pow(10,-l.price),max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"fetchBalance",value:(F=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.accountGetBalances(t);case 5:for(r=e.sent,n=r.result,i={info:n},o=this.indexBy(n,"Currency"),a=Object.keys(o),s=0;s<a.length;s++)u=a[s],c=this.commonCurrencyCode(u),d=this.account(),l=o[u],h=parseFloat(l.Available),p=parseFloat(l.Balance),f=p-h,d.free=h,d.used=f,d.total=p,i[c]=d;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchOrderBook",value:(I=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({market:this.marketId(t),type:"both"},r));case 6:return n=e.sent,i=n.result,"type"in r&&("buy"===r.type?i={buy:n.result,sell:[]}:"sell"===r.type&&(i={buy:[],sell:n.result})),e.abrupt("return",this.parseOrderBook(i,void 0,"buy","sell","Rate","Quantity"));case 10:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"TimeStamp"),n=void 0;"string"===typeof r&&r.length>0&&(r=this.parse8601(r),n=this.iso8601(r));var i=void 0;t&&(i=t.symbol);var o=this.safeFloat(e,"PrevDay"),a=this.safeFloat(e,"Last"),s=void 0,u=void 0;return"undefined"!==typeof a&&"undefined"!==typeof o&&(s=a-o,o>0&&(u=s/o*100)),{symbol:i,timestamp:r,datetime:n,high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:o,close:a,last:a,previousClose:void 0,change:s,percentage:u,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}},{key:"fetchCurrencies",value:(B=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=r.result,i={},o=0;o<n.length;o++)a=n[o],s=a.Currency,u=this.commonCurrencyCode(s),c=8,d=this.safeValue(a,"BaseAddress"),i[u]={id:s,code:u,address:d,info:a,type:a.CoinType,name:a.CurrencyLong,active:a.IsActive,fee:this.safeFloat(a,"TxFee"),precision:c,limits:{amount:{min:Math.pow(10,-c),max:Math.pow(10,c)},price:{min:Math.pow(10,-c),max:Math.pow(10,c)},cost:{min:void 0,max:void 0},withdraw:{min:a.TxFee,max:Math.pow(10,c)}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchTickers",value:(E=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsummaries(t);case 6:for(r=e.sent,n=r.result,i={},o=0;o<n.length;o++)a=n[o],s=a.MarketName,u=void 0,c=s,s in this.markets_by_id?(u=this.markets_by_id[s],c=u.symbol):c=this.parseSymbol(s),i[c]=this.parseTicker(a,u);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"fetchTicker",value:(P=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketsummary(this.extend({market:n.id},r));case 6:return i=e.sent,o=i.result[0],e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TimeStamp+"+00:00"),n=void 0;"BUY"===e.OrderType?n="buy":"SELL"===e.OrderType&&(n="sell");var i=void 0;return"Id"in e&&(i=e.Id.toString()),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:"limit",side:n,price:this.safeFloat(e,"Price"),amount:this.safeFloat(e,"Quantity")}}},{key:"fetchTrades",value:(S=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarkethistory(this.extend({market:o.id},i));case 8:if(!("result"in(a=e.sent))){e.next=12;break}if("undefined"===typeof a.result){e.next=12;break}return e.abrupt("return",this.parseTrades(a.result,o,r,n));case 12:throw new d(this.id+" fetchTrades() returned undefined response");case 13:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.T+"+00:00"),e.O,e.H,e.L,e.C,e.V]}},{key:"fetchOHLCV",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={tickInterval:this.timeframes[r],marketName:a.id},e.next=10,this.v2GetMarketGetTicks(this.extend(s,o));case 10:if(!("result"in(u=e.sent))){e.next=14;break}if(!u.result){e.next=14;break}return e.abrupt("return",this.parseOHLCVs(u.result,a,r,n,i));case 14:throw new d(this.id+" returned an empty or unrecognized response: "+this.json(u));case 15:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"fetchOpenOrders",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(a=this.market(t),o.market=a.id),e.next=11,this.marketGetOpenorders(this.extend(o,i));case 11:return s=e.sent,u=this.parseOrders(s.result,a,r,n),e.abrupt("return",this.filterBySymbol(u,t));case 14:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"createOrder",value:(_=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:{},"limit"===r){e.next=4;break}throw new d(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(t),u="marketGet"+this.capitalize(n)+r,c={market:s.id,quantity:this.amountToPrecision(t,i),rate:this.priceToPrecision(t,o)},e.next=11,this[u](this.extend(c,a));case 11:return l=e.sent,h=this.getOrderIdField(),p={info:l,id:l.result[h],symbol:t,type:r,side:n,status:"open"},e.abrupt("return",p);case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return _.apply(this,arguments)})},{key:"getOrderIdField",value:function(){return"uuid"}},{key:"cancelOrder",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.getOrderIdField(),(i={})[n]=t,e.next=9,this.marketGetCancel(this.extend(i,r));case 9:return o=e.sent,e.abrupt("return",this.parseOrder(o));case 11:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseSymbol",value:function(e){var t=i(e.split("-"),2),r=t[0],n=t[1];return(n=this.commonCurrencyCode(n))+"/"+(r=this.commonCurrencyCode(r))}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"OrderType");"undefined"===typeof r&&(r=this.safeString(e,"Type"));var n="LIMIT_SELL"===r||"SELL"===r;("LIMIT_BUY"===r||"BUY"===r)&&(r="buy"),n&&(r="sell");var i=void 0;"Opened"in e&&e.Opened&&(i="open"),"Closed"in e&&e.Closed&&(i="closed"),"CancelInitiated"in e&&e.CancelInitiated&&(i="canceled"),"Status"in e&&this.options.parseOrderStatus&&(i=this.parseOrderStatus(e.Status));var o=void 0;if("Exchange"in e){var a=e.Exchange;o=a in this.markets_by_id?(t=this.markets_by_id[a]).symbol:this.parseSymbol(a)}else"undefined"!==typeof t&&(o=t.symbol);var s=void 0;"Opened"in e&&(s=this.parse8601(e.Opened+"+00:00")),"Created"in e&&(s=this.parse8601(e.Created+"+00:00"));var u=void 0;"TimeStamp"in e&&"undefined"!==typeof e.TimeStamp&&(u=this.parse8601(e.TimeStamp+"+00:00")),"Closed"in e&&"undefined"!==typeof e.Closed&&(u=this.parse8601(e.Closed+"+00:00")),"undefined"===typeof s&&(s=u);var c="undefined"!==typeof s?this.iso8601(s):void 0,d=void 0,l=void 0;if("Commission"in e?l="Commission":"CommissionPaid"in e&&(l="CommissionPaid"),l)if(d={cost:parseFloat(e[l])},"undefined"!==typeof t)d.currency=t.quote;else if(o){var h=o.split("/")[1];h in this.currencies_by_id?d.currency=this.currencies_by_id[h].code:d.currency=this.commonCurrencyCode(h)}var p=this.safeFloat(e,"Limit"),f=this.safeFloat(e,"Price"),v=this.safeFloat(e,"Quantity"),m=this.safeFloat(e,"QuantityRemaining"),y=void 0;"undefined"!==typeof v&&"undefined"!==typeof m&&(y=v-m),f||p&&y&&(f=p*y),p||f&&y&&(p=f/y);var b=this.safeFloat(e,"PricePerUnit"),g=this.safeString(e,"OrderUuid");return"undefined"===typeof g&&(g=this.safeString(e,"OrderId")),{info:e,id:g,timestamp:s,datetime:c,lastTradeTimestamp:u,symbol:o,type:"limit",side:r,price:p,cost:f,average:b,amount:v,filled:y,remaining:m,status:i,fee:d}}},{key:"fetchOrder",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,i=this.getOrderIdField(),(o={})[i]=t,e.next=11,this.accountGetOrder(this.extend(o,r));case 11:n=e.sent,e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(5),!this.last_json_response){e.next=20;break}if("UUID_INVALID"!==this.safeString(this.last_json_response,"message")){e.next=20;break}throw new v(this.id+" fetchOrder() error: "+this.last_http_response);case 20:throw e.t0;case 21:if(n.result){e.next=23;break}throw new v(this.id+" order "+t+" not found");case 23:return e.abrupt("return",this.parseOrder(n.result));case 24:case"end":return e.stop()}},e,this,[[5,14]])})),function(e){return O.apply(this,arguments)})},{key:"fetchClosedOrders",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(a=this.market(t),o.market=a.id),e.next=11,this.accountGetOrderhistory(this.extend(o,i));case 11:if(s=e.sent,u=this.parseOrders(s.result,a,r,n),!t){e.next=15;break}return e.abrupt("return",this.filterBySymbol(u,t));case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchDepositAddress",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.accountGetDepositaddress(this.extend({currency:n.id},r));case 6:if(i=e.sent,o=this.safeString(i.result,"Address"),a=this.safeString(i,"message"),o&&"ADDRESS_GENERATING"!==a){e.next=11;break}throw new b(this.id+" the address for "+t+" is being generated (pending, not ready yet, retry again later)");case 11:return s=void 0,"XRP"!==t&&"XLM"!==t||(s=o,o=n.address),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:s,info:i});case 15:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"withdraw",value:(k=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),s={currency:a.id,quantity:r,address:n},i&&(s.paymentid=i),e.next=10,this.accountGetWithdraw(this.extend(s,o));case 10:return u=e.sent,c=void 0,"result"in u&&"uuid"in u.result&&(c=u.result.uuid),e.abrupt("return",{info:u,id:c});case 14:case"end":return e.stop()}},e,this)})),function(e,t,r){return k.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/";if("v2"!==t&&(a+=this.version+"/"),"public"===t)a+=t+"/"+r.toLowerCase()+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else if("v2"===t)a+=e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce();a+=t+"/",("account"===t&&"withdraw"!==e||"openorders"===e)&&(a+=r.toLowerCase()),a+=e+"?"+this.urlencode(this.extend({nonce:s,apikey:this.apiKey},n)),i={apisign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("{"===o[0]){var a=JSON.parse(o),s=this.safeValue(a,"success");if("undefined"===typeof s)throw new d(this.id+": malformed response: "+this.json(a));if("string"===typeof s&&(s="true"===s),!s){var u=this.safeString(a,"message"),c=this.id+" "+this.json(a),f=this.exceptions;if("APIKEY_INVALID"===u)throw this.options.hasAlreadyAuthenticatedSuccessfully?new m(c):new h(c);if("DUST_TRADE_DISALLOWED_MIN_VALUE_50K_SAT"===u)throw new p(this.id+" order cost should be over 50k satoshi "+this.json(a));if("INVALID_ORDER"===u){if(r.indexOf("cancel")>=0){for(var y=r.split("&"),b=void 0,g=0;g<y.length;g++){var k=y[g].split("=");if("uuid"===k[0]){b=k[1];break}}throw new v("undefined"!==typeof b?this.id+" cancelOrder "+b+" "+this.json(a):this.id+" cancelOrder "+this.json(a))}}if(u in f)throw new f[u](c);if("undefined"!==typeof u){if(u.indexOf("throttled. Try again")>=0)throw new m(c);if(u.indexOf("problem")>=0)throw new l(c)}throw new d(c)}}}},{key:"request",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:return s=e.sent,"account"!==r&&"market"!==r||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.InsufficientFunds,l=u.InvalidOrder,h=u.AuthenticationError,p=u.PermissionDenied,f=u.InvalidNonce,v=u.OrderNotFound,m=u.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,y,b,g,k,w,x,O,T,_,C;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcbox",name:"BtcBox",countries:"JP",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/31275803-4df755a8-aaa1-11e7-9abb-11ec2fad9f2d.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://www.btcbox.co.jp/help/asm"},api:{public:{get:["depth","orders","ticker","allticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"BTC/JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY"}},exceptions:{104:h,105:p,106:f,107:l,200:d,201:l,202:l,203:v,401:v,402:m}})}},{key:"fetchBalance",value:(C=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],"dash"===(a=o.toLowerCase())&&(a="drk"),s=this.account(),c=a+"_lock",(u=a+"_balance")in t&&(s.free=parseFloat(t[u])),c in t&&(s.used=parseFloat(t[c])),s.total=this.sum(s.free,s.used),r[o]=s;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),i={},this.symbols.length>1&&(i.coin=n.id),e.next=10,this.publicGetDepth(this.extend(i,r));case 10:return o=e.sent,e.abrupt("return",this.parseOrderBook(o));case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTickers",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetAllticker(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=this.markets_by_id[a],u=s.symbol,c=r[a],i[u]=this.parseTicker(c,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchTicker",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i={},this.symbols.length>1&&(i.coin=n.id),e.next=9,this.publicGetTicker(this.extend(i,r));case 9:return o=e.sent,e.abrupt("return",this.parseTicker(o,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={},this.symbols.length>1&&(a.coin=o.id),e.next=11,this.publicGetOrders(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"createOrder",value:(w=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={amount:i,price:o,type:n},this.symbols.length>1&&(u.coin=s.id),e.next=10,this.privatePostTradeAdd(this.extend(u,a));case 10:return c=e.sent,e.abrupt("return",{info:c,id:c.id});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostTradeCancel(this.extend({id:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=this.safeString(e,"id"),r=this.parse8601(e.datetime+"+09:00"),n=this.safeFloat(e,"amount_original"),i=this.safeFloat(e,"amount_outstanding"),o=void 0;"undefined"!==typeof n&&"undefined"!==typeof i&&(o=n-i);var a=this.safeFloat(e,"price"),s=void 0;"undefined"!==typeof a&&"undefined"!==typeof o&&(s=o*a);var u={part:"open",all:"closed",cancelled:"canceled",closed:"closed"},c=void 0;e.status in u&&(c=u[e.status]),"undefined"===typeof c&&"undefined"!==typeof i&&0===i&&(c="closed");return{id:t,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:n,remaining:i,filled:o,side:e.type,type:void 0,status:c,symbol:"BTC/JPY",price:a,cost:s,trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostTradeView(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOrders",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:void 0,n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:void 0,t=n.length>3&&void 0!==n[3]?n[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostTradeList(this.extend({type:"all"},t));case 8:return r=e.sent,e.abrupt("return",this.parseOrders(r));case 10:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:void 0,t=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostTradeList(this.extend({type:"open"},t));case 8:for(r=e.sent,n=this.parseOrders(r),i=0;i<n.length;i++)n[i].status="open";return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce().toString(),u=this.extend({key:this.apiKey,nonce:s},n),c=this.urlencode(u),d=this.hash(this.encode(this.secret));u.signature=this.hmac(this.encode(c),this.encode(d)),o=this.urlencode(u),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(e>=400)&&"{"===o[0]){var a=JSON.parse(o),s=this.safeValue(a,"result");if("undefined"!==typeof s&&!0!==s){var u=this.safeValue(a,"code"),d=this.id+" "+this.json(a),l=this.exceptions;if(u in l)throw new l[u](d);throw new c(d)}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcturk",name:"BTCTurk",countries:"TR",rateLimit:1e3,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27992709-18e15646-64a3-11e7-9fa2-b0950ec7712f.jpg",api:"https://www.btcturk.com/api",www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["ohlcdata","orderbook","ticker","trades"]},private:{get:["balance","openOrders","userTransactions"],post:["exchange","cancelOrder"]}},fees:{trading:{maker:.00236,taker:.00413}}})}},{key:"fetchMarkets",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.pair,a=o.slice(0,3),s=o.slice(3,6),u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),a=a.toLowerCase(),s=s.toLowerCase(),d=u+"/"+c,l={amount:8,price:8},h=!0,r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:h,info:i,precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.privateGetBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=this.currencies[o],s=this.account(),u=a.id+"_available",c=a.id+"_balance",d=a.id+"_reserved",u in t&&(s.free=this.safeFloat(t,u),s.total=this.safeFloat(t,c),s.used=this.safeFloat(t,d)),r[o]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},n=this.market(t),e.next=5,this.publicGetOrderbook(this.extend({pairSymbol:n.id},r));case 5:return i=e.sent,o=parseInt(1e3*i.timestamp),e.abrupt("return",this.parseOrderBook(i,o));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=1e3*parseInt(e.timestamp),i=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"average"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.pair,s=void 0,a in this.markets_by_id&&(s=this.markets_by_id[a],a=s.symbol),n[a]=this.parseTicker(o,s);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchTickers();case 5:return r=e.sent,n=void 0,t in r&&(n=r[t]),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTrades(this.extend({pairSymbol:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.Time),e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1d",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={},"undefined"!==typeof i&&(s.last=i),e.next=11,this.publicGetOhlcdata(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"createOrder",value:(l=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:if(s={PairSymbol:this.marketId(t),OrderType:"buy"===n?0:1,OrderMethod:"market"===r?1:0},"market"!==r){e.next=10;break}if("Total"in a){e.next=8;break}throw new u(this.id+' createOrder requires the "Total" extra parameter for market orders (amount and price are both ignored)');case 8:e.next=12;break;case 10:s.Price=o,s.Amount=i;case 12:return e.next=14,this.privatePostExchange(this.extend(s,a));case 14:return c=e.sent,e.abrupt("return",{info:c,id:c.id});case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return l.apply(this,arguments)})},{key:"cancelOrder",value:(d=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("btctrader"===this.id)throw new u(this.id+" is an abstract base API for BTCExchange, BTCTurk");var a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce().toString();o=this.urlencode(n);var c=this.base64ToBinary(this.secret),d=this.apiKey+s;i={"X-PCK":this.apiKey,"X-Stamp":s,"X-Signature":this.stringToBase64(this.hmac(this.encode(d),c,"sha256","binary")),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.InsufficientFunds,d=u.ExchangeError,l=u.InvalidOrder,h=u.AuthenticationError,p=u.NotSupported,f=u.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"gdax",name:"GDAX",countries:"US",rateLimit:1e3,userAgent:this.userAgents.chrome,has:{CORS:!0,fetchOHLCV:!0,deposit:!0,withdraw:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},urls:{test:"https://api-public.sandbox.gdax.com",logo:"https://user-images.githubusercontent.com/1294454/27766527-b1be41c6-5edb-11e7-95f6-5b496c469e2c.jpg",api:"https://api.gdax.com",www:"https://www.gdax.com",doc:"https://docs.gdax.com",fees:["https://www.gdax.com/fees","https://support.gdax.com/customer/en/portal/topics/939402-depositing-and-withdrawing-funds/articles"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","orders","orders/{id}","payment-methods","position","reports/{id}","users/self/trailing-volume"],post:["deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","reports","withdrawals/coinbase","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/{id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:0,taker:.003},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}}})}},{key:"fetchMarkets",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetProducts();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.id,a=i.base_currency,s=i.quote_currency,u=a+"/"+s,c={min:this.safeFloat(i,"quote_increment"),max:void 0},d={amount:8,price:this.precisionFromString(this.safeString(i,"quote_increment"))},l=this.fees.trading.taker,"ETH"!==a&&"LTC"!==a||(l=.003),h="online"===i.status,r.push(this.extend(this.fees.trading,{id:o,symbol:u,base:a,quote:s,precision:d,limits:{amount:{min:this.safeFloat(i,"base_min_size"),max:this.safeFloat(i,"base_max_size")},price:c,cost:{min:this.safeFloat(i,"min_market_funds"),max:this.safeFloat(i,"max_market_funds")}},taker:l,active:h,info:i}));return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchBalance",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccounts();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.currency,a={free:this.safeFloat(i,"available"),used:this.safeFloat(i,"hold"),total:this.safeFloat(i,"balance")},r[o]=a;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchOrderBook",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProductsIdBook(this.extend({id:this.marketId(t),level:2},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"fetchTicker",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i=this.extend({id:n.id},r),e.next=7,this.publicGetProductsIdTicker(i);case 7:return o=e.sent,a=this.parse8601(o.time),s=void 0,u=void 0,"bid"in o&&(s=this.safeFloat(o,"bid")),"ask"in o&&(u=this.safeFloat(o,"ask")),c=this.safeFloat(o,"price"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:s,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(o,"volume"),quoteVolume:void 0,info:o});case 15:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"time"in e?r=this.parse8601(e.time):"created_at"in e&&(r=this.parse8601(e.created_at));var n=void 0;"undefined"!==typeof r&&(n=this.iso8601(r));var i=void 0;if(!t&&"product_id"in e){var o=e.product_id;o in this.markets_by_id&&(t=this.markets_by_id[o])}t&&(i=t.symbol);var a=void 0,s=void 0;t&&(s=t.quote,"liquidity"in e&&(a=t["T"===e.liquidity?"taker":"maker"]));var u=this.safeFloat(e,"fill_fees");"undefined"===typeof u&&(u=this.safeFloat(e,"fee"));var c={cost:u,currency:s,rate:a},d=this.safeString(e,"trade_id"),l="buy"===e.side?"sell":"buy",h=this.safeString(e,"order_id");return"undefined"!==typeof h&&(l="buy"===e.side?"buy":"sell"),{id:d,order:h,info:e,timestamp:r,datetime:n,symbol:i,type:void 0,side:l,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"size"),fee:c}}},{key:"fetchMyTrades",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},"undefined"!==typeof t&&(o=this.market(t),a.product_id=o.id),"undefined"!==typeof n&&(a.limit=n),e.next=12,this.privateGetFills(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchTrades",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetProductsIdTrades(this.extend({id:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[3],e[2],e[1],e[4],e[5]]}},{key:"fetchOHLCV",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s=this.timeframes[r],u={id:a.id,granularity:s},"undefined"!==typeof n&&(u.start=this.ymdhms(n),"undefined"===typeof i&&(i=300),u.end=this.ymdhms(this.sum(i*s*1e3,n))),e.next=12,this.publicGetProductsIdCandles(this.extend(u,o));case 12:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchTime",value:(_=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,e.abrupt("return",this.parse8601(t.iso));case 4:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return this.safeString({pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;t||e.product_id in this.markets_by_id&&(t=this.markets_by_id[e.product_id]);var i=this.parseOrderStatus(e.status),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"size");"undefined"===typeof a&&(a=this.safeFloat(e,"funds")),"undefined"===typeof a&&(a=this.safeFloat(e,"specified_funds"));var s=this.safeFloat(e,"filled_size"),u=void 0;"undefined"!==typeof a&&"undefined"!==typeof s&&(u=a-s);var c=this.safeFloat(e,"executed_value"),d={cost:this.safeFloat(e,"fill_fees"),currency:void 0,rate:void 0};return t&&(n=t.symbol),{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:i,symbol:n,type:e.type,side:e.side,price:o,cost:c,amount:a,filled:s,remaining:u,fee:d}}},{key:"fetchOrder",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchOrders",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={status:"all"},a=void 0,t&&(a=this.market(t),o.product_id=a.id),e.next=11,this.privateGetOrders(this.extend(o,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s,a,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOpenOrders",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(a=this.market(t),o.product_id=a.id),e.next=11,this.privateGetOrders(this.extend(o,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s,a,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchClosedOrders",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={status:"done"},a=void 0,t&&(a=this.market(t),o.product_id=a.id),e.next=11,this.privateGetOrders(this.extend(o,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s,a,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"createOrder",value:(k=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={product_id:this.marketId(t),side:n,size:i,type:r},"limit"===r&&(s.price=o),e.next=8,this.privatePostOrders(this.extend(s,a));case 8:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return k.apply(this,arguments)})},{key:"cancelOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrdersId({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"feeToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.currencies[e].precision)}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s=a[o],u=n*i,c=a.quote;return{type:o,currency:c,rate:s,cost:parseFloat(this.feeToPrecision(c,s*u))}}},{key:"getPaymentMethods",value:(b=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetPaymentMethods();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"deposit",value:(y=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=3,this.loadMarkets();case 3:if(o={currency:t,amount:r},a="privatePostDeposits",!("payment_method_id"in i)){e.next=9;break}a+="PaymentMethod",e.next=14;break;case 9:if(!("coinbase_account_id"in i)){e.next=13;break}a+="CoinbaseAccount",e.next=14;break;case 13:throw new p(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");case 14:return e.next=16,this[a](this.extend(o,i));case 16:if(s=e.sent){e.next=19;break}throw new d(this.id+" deposit() error: "+this.json(s));case 19:return e.abrupt("return",{info:s,id:s.id});case 20:case"end":return e.stop()}},e,this)})),function(e,t,r){return y.apply(this,arguments)})},{key:"withdraw",value:(m=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,i=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o={currency:t,amount:r},a="privatePostWithdrawals","payment_method_id"in i?a+="PaymentMethod":"coinbase_account_id"in i?a+="CoinbaseAccount":(a+="Crypto",o.crypto_address=n),e.next=10,this[a](this.extend(o,i));case 10:if(s=e.sent){e.next=13;break}throw new d(this.id+" withdraw() error: "+this.json(s));case 13:return e.abrupt("return",{info:s,id:s.id});case 14:case"end":return e.stop()}},e,this)})),function(e,t,r){return m.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s));var u=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),d="";"GET"!==r&&Object.keys(s).length&&(d=o=this.json(s));var l=c+r+a+d,h=this.base64ToBinary(this.secret),p=this.hmac(this.encode(l),h,"sha256","base64");i={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":this.decode(p),"CB-ACCESS-TIMESTAMP":c,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(400===e||404===e){if("{"===o[0]){var a=JSON.parse(o).message,s=this.id+" "+a;if(a.indexOf("price too small")>=0)throw new l(s);if(a.indexOf("price too precise")>=0)throw new l(s);if("Insufficient funds"===a)throw new c(s);if("NotFound"===a)throw new f(s);if("Invalid API Key"===a)throw new h(s);throw new d(this.id+" "+a)}throw new d(this.id+" "+o)}}},{key:"request",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("message"in(s=e.sent))){e.next=10;break}throw new d(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"fybse",name:"FYB-SE",countries:"SE",has:{CORS:!1},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766512-31019772-5edb-11e7-8241-2e675e6797f1.jpg",api:"https://www.fybse.se/api/SEK",www:"https://www.fybse.se",doc:"http://docs.fyb.apiary.io"},api:{public:{get:["ticker","tickerdetailed","orderbook","trades"]},private:{post:["test","getaccinfo","getpendingorders","getorderhistory","cancelpendingorder","placeorder","withdraw"]}},markets:{"BTC/SEK":{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostGetaccinfo();case 3:return t=e.sent,r=parseFloat(t.btcBal),n=this.symbols[0],i=this.markets[n].quote,o=i.toLowerCase()+"Bal",a=parseFloat(t[o]),(s={BTC:{free:r,used:0,total:r}})[i]={free:a,used:0,total:a},s.info=t,e.abrupt("return",this.parseBalance(s));case 14:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetOrderbook(r);case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.publicGetTickerdetailed(r);case 3:return n=e.sent,i=this.milliseconds(),o=void 0,a=void 0,"last"in n&&(o=this.safeFloat(n,"last")),"vol"in n&&(a=this.safeFloat(n,"vol")),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:void 0,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTrades(i);case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.privatePostPlaceorder(this.extend({qty:i,price:o,type:n[0].toUpperCase()},a));case 4:return s=e.sent,e.abrupt("return",{info:s,id:s.pending_oid});case 6:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelpendingorder({orderNo:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;if("public"===t)a+=".json";else{this.checkRequiredCredentials();var s=this.nonce();o=this.urlencode(this.extend({timestamp:s},n)),i={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sig:this.hmac(this.encode(o),this.encode(this.secret),"sha1")}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"private"!==r){e.next=12;break}if(!("error"in s)){e.next=12;break}if(!s.error){e.next=12;break}throw new u(this.id+" "+this.json(s));case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.InsufficientFunds,l=u.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v,m,y,b,g,k,w,x,O,T,_;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"hitbtc",name:"HitBTC",countries:"HK",rateLimit:1500,version:"1",has:{CORS:!1,fetchTrades:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"http://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv1.md",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["{symbol}/orderbook","{symbol}/ticker","{symbol}/trades","{symbol}/trades/recent","symbols","ticker","time"]},trading:{get:["balance","orders/active","orders/recent","order","trades/by/order","trades"],post:["new_order","cancel_order","cancel_orders"]},payment:{get:["balance","address/{currency}","transactions","transactions/{transaction}"],post:["transfer_to_trading","transfer_to_main","address/{currency}","payout"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00215,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMP:9,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,"DAO.Casino":124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTM:40,BTX:.04,BUS:.004,CCT:115,CDT:100,CDX:30,CFI:61,CLD:.88,CND:574,CNX:.04,COSS:65,CSNO:16,CTR:15,CTX:146,CVC:8.46,DBIX:.0168,DCN:12e4,DCT:.02,DDF:342,DENT:6240,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,ELE:.00172,ELM:.004,EMC:.03,EMGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GNO:.0034,GUP:4,GVT:1.2,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:5913,ITS:15.0012,IXT:11,KBR:143,KICK:112,LA:41,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RVT:14,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STEEM:.01,STRAT:.01,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TKR:84,TNT:90,TRST:1.6,TRX:1395,UET:480,UGT:15,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,"DAO.Casino":0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},commonCurrencies:{BCC:"BCC",BET:"DAO.Casino",CAT:"BitClave",DRK:"DASH",EMGO:"MGO",GET:"Themis",LNC:"LinkerCoin",UNC:"Unigame",USD:"USDT",XBT:"BTC"},options:{defaultTimeInForce:"FOK"}})}},{key:"fetchMarkets",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbols();case 2:for(t=e.sent,r=[],n=0;n<t.symbols.length;n++)i=t.symbols[n],o=i.symbol,a=i.commodity,s=i.currency,u=this.safeFloat(i,"lot"),c=this.safeFloat(i,"step"),d=this.commonCurrencyCode(a),l=this.commonCurrencyCode(s),h=d+"/"+l,r.push({info:i,id:o,symbol:h,base:d,quote:l,baseId:a,quoteId:s,lot:u,step:c,active:!0,maker:this.safeFloat(i,"provideLiquidityRate"),taker:this.safeFloat(i,"takeLiquidityRate"),precision:{amount:this.precisionFromString(i.lot),price:this.precisionFromString(i.step)},limits:{amount:{min:u,max:void 0},price:{min:c,max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchBalance",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","trading"),r+="GetBalance",n=this.omit(t,"type"),e.next=8,this[r](n);case 8:for(i=e.sent,o=i.balance,a={info:o},s=0;s<o.length;s++)u=o[s],c=u.currency_code,d=this.commonCurrencyCode(c),l=this.safeFloat(u,"cash",0),l=this.safeFloat(u,"balance",l),h=this.safeFloat(u,"reserved",0),p={free:l,used:h,total:this.sum(l,h)},a[d]=p;return e.abrupt("return",this.parseBalance(a));case 13:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchOrderBook",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetSymbolOrderbook(this.extend({symbol:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volume_quote"),info:e}}},{key:"fetchTickers",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=this.markets_by_id[a],u=s.symbol,c=r[a],i[u]=this.parseTicker(c,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchTicker",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetSymbolTicker(this.extend({symbol:n.id},r));case 6:if(!("message"in(i=e.sent))){e.next=9;break}throw new c(this.id+" "+i.message);case 9:return e.abrupt("return",this.parseTicker(i,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Array.isArray(e)?this.parsePublicTrade(e,t):this.parseOrderTrade(e,t)}},{key:"parsePublicTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;return t&&(r=t.symbol),{info:e,id:e[0].toString(),timestamp:e[3],datetime:this.iso8601(e[3]),symbol:r,type:void 0,side:e[4],price:parseFloat(e[1]),amount:parseFloat(e[2])}}},{key:"parseOrderTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeFloat(e,"execQuantity");t&&(n*=t.lot);var i=this.safeFloat(e,"execPrice"),o=i*n,a={cost:this.safeFloat(e,"fee"),currency:void 0,rate:void 0},s=e.timestamp;return{info:e,id:e.tradeId,order:e.clientOrderId,timestamp:s,datetime:this.iso8601(s),symbol:r,type:void 0,side:e.side,price:i,amount:n,cost:o,fee:a}}},{key:"fetchTrades",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetSymbolTrades(this.extend({symbol:o.id,side:"true"},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.trades,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"createOrder",value:(g=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:if(s=this.market(t),u=parseFloat(i)/s.lot,d=Math.round(u),l=u-d,!(Math.abs(l)>s.step)){e.next=10;break}throw new c(this.id+" order amount should be evenly divisible by lot unit size of "+s.lot.toString());case 10:return h=this.milliseconds(),p={clientOrderId:h.toString(),symbol:s.id,side:n,quantity:d.toString(),type:r},"limit"===r?p.price=this.priceToPrecision(t,o):p.timeInForce=this.options.defaultTimeInForce,e.next=15,this.tradingPostNewOrder(this.extend(p,a));case 15:return f=e.sent,e.abrupt("return",this.parseOrder(f.ExecutionReport,s));case 17:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return g.apply(this,arguments)})},{key:"cancelOrder",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradingPostCancelOrder(this.extend({clientOrderId:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return this.safeString({new:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"},e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"lastTimestamp");"undefined"===typeof r&&(r=this.safeInteger(e,"timestamp"));var n=void 0;t||(t=this.markets_by_id[e.symbol]);var i=this.safeString(e,"orderStatus");i&&(i=this.parseOrderStatus(i));var o=this.safeFloat(e,"avgPrice",0),a=this.safeFloat(e,"orderPrice");"undefined"===typeof a&&(a=this.safeFloat(e,"price"));var s=this.safeFloat(e,"orderQuantity");"undefined"===typeof s&&(s=this.safeFloat(e,"quantity"));var u=this.safeFloat(e,"quantityLeaves");"undefined"===typeof u&&(u=this.safeFloat(e,"leavesQuantity"));var c=void 0,d=void 0,l="undefined"!==typeof s,h="undefined"!==typeof u;if("undefined"!==typeof t)n=t.symbol,l&&(s*=t.lot),h&&(u*=t.lot);else{var p=this.safeString(e,"symbol");p in this.markets_by_id&&(t=this.markets_by_id[p])}l&&h&&(d=o*(c=s-u));var f=this.safeFloat(e,"fee"),v=void 0;"undefined"!==typeof t&&(n=t.symbol,v=t.quote);var m={cost:f,currency:v,rate:void 0};return{id:e.clientOrderId.toString(),info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:i,symbol:n,type:e.type,side:e.side,price:a,cost:d,amount:s,filled:c,remaining:u,fee:m}}},{key:"fetchOrder",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradingGetOrder(this.extend({clientOrderId:t},r));case 6:if(!(n=e.sent).orders[0]){e.next=9;break}return e.abrupt("return",this.parseOrder(n.orders[0]));case 9:throw new l(this.id+" fetchOrder() error: "+this.response);case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchOpenOrders",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={sort:"desc",statuses:["new","partiallyFiiled"].join(",")},t&&(o=this.market(t),a.symbols=o.id),e.next=12,this.tradingGetOrdersActive(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s.orders,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchClosedOrders",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={sort:"desc",statuses:["filled","canceled","rejected","expired"].join(","),max_results:1e3},t&&(o=this.market(t),a.symbols=o.id),e.next=12,this.tradingGetOrdersRecent(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s.orders,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchOrderTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,"undefined"!==typeof r&&(a=this.market(r)),e.next=10,this.tradingGetTradesByOrder(this.extend({clientOrderId:t},o));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.trades,a,n,i));case 12:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"withdraw",value:(p=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),s={currency_code:a.id,amount:r,address:n},i&&(s.paymentId=i),e.next=10,this.paymentPostPayout(this.extend(s,o));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.transaction});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return p.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+t+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u={nonce:this.nonce(),apikey:this.apiKey};s=this.extend(u,s);var c=a+="GET"===r?"?"+this.urlencode(s):"?"+this.urlencode(u);"POST"===r&&Object.keys(s).length&&(c+=o=this.urlencode(s)),i={"Content-Type":"application/x-www-form-urlencoded","X-Signature":this.hmac(this.encode(c),this.encode(this.secret),"sha512").toLowerCase()}}return{url:a=this.urls.api+a,method:r,body:o,headers:i}}},{key:"request",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("code"in(s=e.sent))){e.next=13;break}if(!("ExecutionReport"in s)){e.next=12;break}if("orderExceedsLimit"!==s.ExecutionReport.orderRejectReason){e.next=12;break}throw new d(this.id+" "+this.json(s));case 12:throw new c(this.id+" "+this.json(s));case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.InvalidNonce,d=u.OrderNotFound,l=u.InvalidOrder,h=u.InsufficientFunds,p=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"qryptos",name:"QRYPTOS",countries:["CN","TW"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30953915-b1611dc0-a436-11e7-8947-c95bd5a42086.jpg",api:"https://api.qryptos.com",www:"https://www.qryptos.com",doc:["https://developers.quoine.com","https://developers.quoine.com/v2"],fees:"https://qryptos.zendesk.com/hc/en-us/articles/115007858167-Fees"},api:{public:{get:["products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}"]},private:{get:["accounts/balance","accounts/main_asset","crypto_accounts","executions/me","fiat_accounts","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","orders/{id}/executions","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}"],post:["fiat_accounts","loan_bids","orders"],put:["loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/close","trades/close_all","trading_accounts/{id}"]}},skipJsonOnStatusCodes:[401],exceptions:{messages:{"API Authentication failed":p,"Nonce is too small":c,"Order not found":d,user:{not_enough_free_balance:h},price:{must_be_positive:l},quantity:{less_than_order_size:l}}},commonCurrencies:{WIN:"WCOIN"}})}},{key:"fetchMarkets",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetProducts();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.id.toString(),a=i.base_currency,s=i.quoted_currency,u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,l=this.safeFloat(i,"maker_fee"),h=this.safeFloat(i,"taker_fee"),p=!i.disabled,f=void 0,v=void 0,"BTC"===u?f=.001:"ETH"===u&&(f=.01),"BTC"===c?v=1e-8:"ETH"!==c&&"USD"!==c&&"JPY"!==c||(v=1e-5),m={amount:{min:f},price:{min:v},cost:{min:void 0}},"undefined"!==typeof v&&"undefined"!==typeof f&&(m.cost.min=v*f),y={amount:void 0,price:void 0},"undefined"!==typeof f&&(y.amount=-Math.log10(f)),"undefined"!==typeof v&&(y.price=-Math.log10(v)),r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,maker:l,taker:h,limits:m,precision:y,active:p,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchBalance",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountsBalance(t);case 5:for(r=e.sent,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency,s=a,a in this.currencies_by_id&&(s=this.currencies_by_id[a].code),u=parseFloat(o.balance),c={free:u,used:0,total:u},n[s]=c;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOrderBook",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProductsIdPriceLevels(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"buy_price_levels","sell_price_levels"));case 8:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;"last_traded_price"in e&&(e.last_traded_price&&e.last_traded_price.length>0&&(n=this.safeFloat(e,"last_traded_price")));var i=void 0;if("undefined"===typeof t){var o=this.safeString(e,"id");if(o in this.markets_by_id)t=this.markets_by_id[o];else{var a=this.safeString(e,"base_currency"),s=this.safeString(e,"quoted_currency"),u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s);i in this.markets?t=this.markets[i]:i=u+"/"+c}}"undefined"!==typeof t&&(i=t.symbol);var d=void 0,l=void 0,h=void 0,p=this.safeFloat(e,"last_price_24h");return"undefined"!==typeof p&&"undefined"!==typeof n&&(d=n-p,h=this.sum(n,p)/2,p>0&&(l=d/p*100)),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_market_ask"),low:this.safeFloat(e,"low_market_bid"),bid:this.safeFloat(e,"market_bid"),bidVolume:void 0,ask:this.safeFloat(e,"market_ask"),askVolume:void 0,vwap:void 0,open:p,close:n,last:n,previousClose:void 0,change:d,percentage:l,average:h,baseVolume:this.safeFloat(e,"volume_24h"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProducts(t);case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.base_currency,s=o.quoted_currency,u=a+"/"+s,c=this.markets[u],n[u]=this.parseTicker(o,c);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchTicker",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetProductsId(this.extend({id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.created_at,n=this.safeString(e,"taker_side"),i=this.safeString(e,"my_side"),o="undefined"!==typeof i?i:n,a=void 0;return"undefined"!==typeof i&&(a=n===i?"taker":"maker"),{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:o,takerOrMaker:a,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"quantity")}}},{key:"fetchTrades",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={product_id:o.id},"undefined"!==typeof n&&(a.limit=n),e.next=10,this.publicGetExecutions(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.models,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchMyTrades",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={product_id:o.id},"undefined"!==typeof n&&(a.limit=n),e.next=11,this.privateGetExecutionsMe(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s.models,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={order_type:r,product_id:this.marketId(t),side:n,quantity:i},"limit"===r&&(s.price=o),e.next=8,this.privatePostOrders(this.extend(s,a));case 8:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"cancelOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePutOrdersIdCancel(this.extend({id:t},r));case 6:if(n=e.sent,"closed"!==(i=this.parseOrder(n)).status){e.next=10;break}throw new d(this.id+" "+this.json(i));case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.created_at,n=this.safeString(e,"product_id");"undefined"!==typeof n&&n in this.markets_by_id&&(t=this.markets_by_id[n]);var i=void 0;"status"in e&&("live"===e.status?i="open":"filled"===e.status?i="closed":"cancelled"===e.status&&(i="canceled"));var o=this.safeFloat(e,"quantity"),a=this.safeFloat(e,"filled_quantity"),s=this.safeFloat(e,"price"),u=void 0;return t&&(u=t.symbol),{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,type:e.order_type,status:i,symbol:u,side:e.side,price:s,amount:o,filled:a,remaining:o-a,trades:void 0,fee:{currency:void 0,cost:this.safeFloat(e,"order_fee")},info:e}}},{key:"fetchOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.product_id=o.id),(s=this.safeValue(i,"status"))&&(i=this.omit(i,"status"),"open"===s?a.status="live":"closed"===s?a.status="filled":"canceled"===s&&(a.status="cancelled")),"undefined"!==typeof n&&(a.limit=n),e.next=14,this.privateGetOrders(this.extend(a,i));case 14:return u=e.sent,c=u.models,e.abrupt("return",this.parseOrders(c,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchOpenOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"open"},n))}},{key:"fetchClosedOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"closed"},n))}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if(i={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),"GET"===r?Object.keys(s).length&&(a+="?"+this.urlencode(s)):Object.keys(s).length&&(o=this.json(s));var u=this.nonce(),c={path:a,nonce:u,token_id:this.apiKey,iat:Math.floor(u/1e3)};i["X-Quoine-Auth"]=this.jwt(c,this.secret)}return{url:a=this.urls.api+a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(!(e>=200&&e<=299)){var s=this.exceptions.messages;if(401!==e){if("undefined"===typeof a){if("{"!==o[0]&&"["!==o[0])return;a=JSON.parse(o)}var u=this.id+" "+this.json(a);if(404===e){var c=this.safeString(a,"message");if(c in s)throw new s[c](u)}else if(422===e&&"errors"in a)for(var d=a.errors,l=["user","quantity","price"],h=0;h<l.length;h++){var p=l[h];if(p in d)for(var f=d[p],v=0;v<f.length;v++){var m=f[v];if(m in s[p])throw new s[p][m](u)}}}else if(o in s)throw new s[o](this.id+" "+o)}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){r(69),e.exports=r(75)},function(e,t,r){"use strict";"undefined"===typeof Promise&&(r(70).enable(),window.Promise=r(73)),r(74),Object.assign=r(18)},function(e,t,r){"use strict";var n=r(25),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,n._47=null,n._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,r=0,u={};function c(t){(e.allRejections||s(u[t].error,e.whitelist||i))&&(u[t].displayId=r++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(u[t].displayId,u[t].error)))}n._47=function(t){var r;2===t._83&&u[t._56]&&(u[t._56].logged?(r=t._56,u[r].logged&&(e.onHandled?e.onHandled(u[r].displayId,u[r].error):u[r].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[r].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[r].displayId+".")))):clearTimeout(u[t._56].timeout),delete u[t._56])},n._71=function(e,r){0===e._75&&(e._56=t++,u[e._56]={displayId:null,error:r,timeout:setTimeout(c.bind(null,e._56),s(r,i)?100:2e3),logged:!1})}}},function(e,t,r){"use strict";(function(t){function r(e){i.length||(n(),!0),i[i.length]=e}e.exports=r;var n,i=[],o=0,a=1024;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,r=i.length-o;t<r;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u,c,d,l="undefined"!==typeof t?t:self,h=l.MutationObserver||l.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}"function"===typeof h?(u=1,c=new h(s),d=document.createTextNode(""),c.observe(d,{characterData:!0}),n=function(){u=-u,d.data=u}):n=p(s),r.requestFlush=n,r.makeRequestCallFromTimer=p}).call(t,r(72))},function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"===typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(25);e.exports=i;var o=l(!0),a=l(!1),s=l(null),u=l(void 0),c=l(0),d=l("");function l(e){var t=new i(i._44);return t._83=1,t._18=e,t}i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return d;if("object"===n(e)||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,r){r(e)})}return l(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,r){if(0===t.length)return e([]);var o=t.length;function a(s,u){if(u&&("object"===n(u)||"function"===typeof u)){if(u instanceof i&&u.then===i.prototype.then){for(;3===u._83;)u=u._18;return 1===u._83?a(s,u._18):(2===u._83&&r(u._18),void u.then(function(e){a(s,e)},r))}var c=u.then;if("function"===typeof c)return void new i(c.bind(u)).then(function(e){a(s,e)},r)}t[s]=u,0===--o&&e(t)}for(var s=0;s<t.length;s++)a(s,t[s])})},i.reject=function(e){return new i(function(t,r){r(e)})},i.race=function(e){return new i(function(t,r){e.forEach(function(e){i.resolve(e).then(t,r)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=u(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=m,e.Response=b,e.fetch=function(e,r){return new Promise(function(n,i){var o=new m(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new b(i,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var r,n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),o.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r.n(n),o=r(77),a=r.n(o),s=r(85),u=(r.n(s),r(86)),c=r(210);a.a.render(i.a.createElement(u.a,null),document.getElementById("root")),Object(c.a)()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(18),o=r(26),a=r(27),s=r(28),u="function"===typeof Symbol&&Symbol.for,c=u?Symbol.for("react.element"):60103,d=u?Symbol.for("react.portal"):60106,l=u?Symbol.for("react.fragment"):60107,h=u?Symbol.for("react.strict_mode"):60108,p=u?Symbol.for("react.profiler"):60114,f=u?Symbol.for("react.provider"):60109,v=u?Symbol.for("react.context"):60110,m=u?Symbol.for("react.async_mode"):60111,y=u?Symbol.for("react.forward_ref"):60112;u&&Symbol.for("react.timeout");var b="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function w(e,t,r){this.props=e,this.context=t,this.refs=a,this.updater=r||k}function x(){}function O(e,t,r){this.props=e,this.context=t,this.refs=a,this.updater=r||k}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==n(e)&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var T=O.prototype=new x;T.constructor=O,i(T,w.prototype),T.isPureReactComponent=!0;var _={current:null},C=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var n=void 0,i={},o=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,n)&&!R.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:c,type:e,key:o,ref:a,props:i,_owner:_.current}}function P(e){return"object"===n(e)&&null!==e&&e.$$typeof===c}var E=/\/+/g,B=[];function I(e,t,r,n){if(B.length){var i=B.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>B.length&&B.push(e)}function A(e,t,r,i){var o=n(e);"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case c:case d:a=!0}}if(a)return r(i,e,""===t?"."+j(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var u=t+j(o=e[s],s);a+=A(o,u,r,i)}else if(null===e||"undefined"===typeof e?u=null:u="function"===typeof(u=b&&e[b]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)a+=A(o=o.value,u=t+j(o,s++),r,i);else"object"===o&&g("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return a}function j(e,t){return"object"===n(e)&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,n,r,s.thatReturnsArgument):null!=e&&(P(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+r,e={$$typeof:c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),n.push(e))}function L(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(E,"$&/")+"/"),t=I(t,o,n,i),null==e||A(e,"",D,t),F(t)}var G={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return L(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;t=I(null,null,t,r),null==e||A(e,"",M,t),F(t)},count:function(e){return null==e?0:A(e,"",s.thatReturnsNull,null)},toArray:function(e){var t=[];return L(e,t,null,s.thatReturnsArgument),t},only:function(e){return P(e)||g("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:O,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:v,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:y,render:e}},Fragment:l,StrictMode:h,unstable_AsyncMode:m,unstable_Profiler:p,createElement:S,cloneElement:function(e,t,r){(null===e||void 0===e)&&g("267",e);var n=void 0,o=i({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key);var d=void 0;for(n in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),t)C.call(t,n)&&!R.hasOwnProperty(n)&&(o[n]=void 0===t[n]&&void 0!==d?d[n]:t[n])}if(1===(n=arguments.length-2))o.children=r;else if(1<n){d=Array(n);for(var l=0;l<n;l++)d[l]=arguments[l+2];o.children=d}return{$$typeof:c,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=S.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:_,assign:i}},N={default:G},q=N&&G||N;e.exports=q.default?q.default:q},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(78)},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(26),o=r(10),a=r(79),s=r(18),u=r(28),c=r(80),d=r(81),l=r(82),h=r(27);function p(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}o||p("227");var f={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,r,n,i,o,a,s,u){(function(e,t,r,n,i,o,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(f,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,r,n,i,o,a,s,u){if(f.invokeGuardedCallback.apply(this,arguments),f.hasCaughtError()){var c=f.clearCaughtError();f._hasRethrowError||(f._hasRethrowError=!0,f._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(f._hasRethrowError){var e=f._rethrowError;throw f._rethrowError=null,f._hasRethrowError=!1,e}}.apply(f,arguments)},hasCaughtError:function(){return f._hasCaughtError},clearCaughtError:function(){if(f._hasCaughtError){var e=f._caughtError;return f._caughtError=null,f._hasCaughtError=!1,e}p("198")}};var v=null,m={};function y(){if(v)for(var e in m){var t=m[e],r=v.indexOf(e);if(-1<r||p("96",e),!g[r])for(var n in t.extractEvents||p("97",e),g[r]=t,r=t.eventTypes){var i=void 0,o=r[n],a=t,s=n;k.hasOwnProperty(s)&&p("99",s),k[s]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&b(u[i],a,s);i=!0}else o.registrationName?(b(o.registrationName,a,s),i=!0):i=!1;i||p("98",n,e)}}}function b(e,t,r){w[e]&&p("100",e),w[e]=t,x[e]=t.eventTypes[r].dependencies}var g=[],k={},w={},x={};function O(e){v&&p("101"),v=Array.prototype.slice.call(e),y()}function T(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];m.hasOwnProperty(t)&&m[t]===n||(m[t]&&p("102",t),m[t]=n,r=!0)}r&&y()}var _={plugins:g,eventNameDispatchConfigs:k,registrationNameModules:w,registrationNameDependencies:x,possibleRegistrationNames:null,injectEventPluginOrder:O,injectEventPluginsByName:T},C=null,R=null,S=null;function P(e,t,r,n){t=e.type||"unknown-event",e.currentTarget=S(n),f.invokeGuardedCallbackAndCatchFirstError(t,r,void 0,e),e.currentTarget=null}function E(e,t){return null==t&&p("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function B(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var I=null;function F(e,t){if(e){var r=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(r))for(var i=0;i<r.length&&!e.isPropagationStopped();i++)P(e,t,r[i],n[i]);else r&&P(e,t,r,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){return F(e,!0)}function j(e){return F(e,!1)}var M={injectEventPluginOrder:O,injectEventPluginsByName:T};function D(e,t){var r=e.stateNode;if(!r)return null;var i=C(r);if(!i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&p("231",t,n(r)),r)}function L(e,t){null!==e&&(I=E(I,e)),e=I,I=null,e&&(B(e,t?A:j),I&&p("95"),f.rethrowCaughtError())}function G(e,t,r,n){for(var i=null,o=0;o<g.length;o++){var a=g[o];a&&(a=a.extractEvents(e,t,r,n))&&(i=E(i,a))}L(i,!1)}var N={injection:M,getListener:D,runEventsInBatch:L,runExtractedEventsInBatch:G},q=Math.random().toString(36).slice(2),U="__reactInternalInstance$"+q,H="__reactEventHandlers$"+q;function V(e){if(e[U])return e[U];for(;!e[U];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[U]).tag||6===e.tag?e:null}function K(e){if(5===e.tag||6===e.tag)return e.stateNode;p("33")}function X(e){return e[H]||null}var z={precacheFiberNode:function(e,t){t[U]=e},getClosestInstanceFromNode:V,getInstanceFromNode:function(e){return!(e=e[U])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:K,getFiberCurrentPropsFromNode:X,updateFiberProps:function(e,t){e[H]=t}};function W(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Y(e,t,r){for(var n=[];e;)n.push(e),e=W(e);for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)}function Q(e,t,r){(t=D(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=E(r._dispatchListeners,t),r._dispatchInstances=E(r._dispatchInstances,e))}function J(e){e&&e.dispatchConfig.phasedRegistrationNames&&Y(e._targetInst,Q,e)}function Z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;Y(t=t?W(t):null,Q,e)}}function $(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=D(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=E(r._dispatchListeners,t),r._dispatchInstances=E(r._dispatchInstances,e))}function ee(e){e&&e.dispatchConfig.registrationName&&$(e._targetInst,null,e)}function te(e){B(e,J)}function re(e,t,r,n){if(r&&n)e:{for(var i=r,o=n,a=0,s=i;s;s=W(s))a++;s=0;for(var u=o;u;u=W(u))s++;for(;0<a-s;)i=W(i),a--;for(;0<s-a;)o=W(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=W(i),o=W(o)}i=null}else i=null;for(o=i,i=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)i.push(r),r=W(r);for(r=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)r.push(n),n=W(n);for(n=0;n<i.length;n++)$(i[n],"bubbled",e);for(e=r.length;0<e--;)$(r[e],"captured",t)}var ne={accumulateTwoPhaseDispatches:te,accumulateTwoPhaseDispatchesSkipTarget:function(e){B(e,Z)},accumulateEnterLeaveDispatches:re,accumulateDirectDispatches:function(e){B(e,ee)}};function ie(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}var oe={animationend:ie("Animation","AnimationEnd"),animationiteration:ie("Animation","AnimationIteration"),animationstart:ie("Animation","AnimationStart"),transitionend:ie("Transition","TransitionEnd")},ae={},se={};function ue(e){if(ae[e])return ae[e];if(!oe[e])return e;var t,r=oe[e];for(t in r)if(r.hasOwnProperty(t)&&t in se)return ae[e]=r[t];return e}a.canUseDOM&&(se=document.createElement("div").style,"AnimationEvent"in window||(delete oe.animationend.animation,delete oe.animationiteration.animation,delete oe.animationstart.animation),"TransitionEvent"in window||delete oe.transitionend.transition);var ce=ue("animationend"),de=ue("animationiteration"),le=ue("animationstart"),he=ue("transitionend"),pe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fe=null;function ve(){return!fe&&a.canUseDOM&&(fe="textContent"in document.documentElement?"textContent":"innerText"),fe}var me={_root:null,_startText:null,_fallbackText:null};function ye(){if(me._fallbackText)return me._fallbackText;var e,t,r=me._startText,n=r.length,i=be(),o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return me._fallbackText=i.slice(e,1<t?1-t:void 0),me._fallbackText}function be(){return"value"in me._root?me._root.value:me._root[ve()]}var ge="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ke={type:null,target:null,currentTarget:u.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function we(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?u.thatReturnsTrue:u.thatReturnsFalse,this.isPropagationStopped=u.thatReturnsFalse,this}function xe(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Oe(e){e instanceof this||p("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Te(e){e.eventPool=[],e.getPooled=xe,e.release=Oe}s(we.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=u.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=u.thatReturnsTrue)},persist:function(){this.isPersistent=u.thatReturnsTrue},isPersistent:u.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ge.length;t++)this[ge[t]]=null}}),we.Interface=ke,we.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;return s(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=s({},n.Interface,e),r.extend=n.extend,Te(r),r},Te(we);var _e=we.extend({data:null}),Ce=we.extend({data:null}),Re=[9,13,27,32],Se=a.canUseDOM&&"CompositionEvent"in window,Pe=null;a.canUseDOM&&"documentMode"in document&&(Pe=document.documentMode);var Ee=a.canUseDOM&&"TextEvent"in window&&!Pe,Be=a.canUseDOM&&(!Se||Pe&&8<Pe&&11>=Pe),Ie=String.fromCharCode(32),Fe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ae=!1;function je(e,t){switch(e){case"keyup":return-1!==Re.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Me(e){return"object"===n(e=e.detail)&&"data"in e?e.data:null}var De=!1;var Le={eventTypes:Fe,extractEvents:function(e,t,r,n){var i=void 0,o=void 0;if(Se)e:{switch(e){case"compositionstart":i=Fe.compositionStart;break e;case"compositionend":i=Fe.compositionEnd;break e;case"compositionupdate":i=Fe.compositionUpdate;break e}i=void 0}else De?je(e,r)&&(i=Fe.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=Fe.compositionStart);return i?(Be&&(De||i!==Fe.compositionStart?i===Fe.compositionEnd&&De&&(o=ye()):(me._root=n,me._startText=be(),De=!0)),i=_e.getPooled(i,t,r,n),o?i.data=o:null!==(o=Me(r))&&(i.data=o),te(i),o=i):o=null,(e=Ee?function(e,t){switch(e){case"compositionend":return Me(t);case"keypress":return 32!==t.which?null:(Ae=!0,Ie);case"textInput":return(e=t.data)===Ie&&Ae?null:e;default:return null}}(e,r):function(e,t){if(De)return"compositionend"===e||!Se&&je(e,t)?(e=ye(),me._root=null,me._startText=null,me._fallbackText=null,De=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Be?null:t.data;default:return null}}(e,r))?((t=Ce.getPooled(Fe.beforeInput,t,r,n)).data=e,te(t)):t=null,null===o?t:null===t?o:[o,t]}},Ge=null,Ne={injectFiberControlledHostComponent:function(e){Ge=e}},qe=null,Ue=null;function He(e){if(e=R(e)){Ge&&"function"===typeof Ge.restoreControlledState||p("194");var t=C(e.stateNode);Ge.restoreControlledState(e.stateNode,e.type,t)}}function Ve(e){qe?Ue?Ue.push(e):Ue=[e]:qe=e}function Ke(){return null!==qe||null!==Ue}function Xe(){if(qe){var e=qe,t=Ue;if(Ue=qe=null,He(e),t)for(e=0;e<t.length;e++)He(t[e])}}var ze={injection:Ne,enqueueStateRestore:Ve,needsStateRestore:Ke,restoreStateIfNeeded:Xe};function We(e,t){return e(t)}function Ye(e,t,r){return e(t,r)}function Qe(){}var Je=!1;function Ze(e,t){if(Je)return e(t);Je=!0;try{return We(e,t)}finally{Je=!1,Ke()&&(Qe(),Xe())}}var $e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function et(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$e[e.type]:"textarea"===t}function tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function rt(e,t){return!(!a.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function nt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function it(e){e._valueTracker||(e._valueTracker=function(e){var t=nt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nt(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}var at=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,st="function"===typeof Symbol&&Symbol.for,ut=st?Symbol.for("react.element"):60103,ct=st?Symbol.for("react.portal"):60106,dt=st?Symbol.for("react.fragment"):60107,lt=st?Symbol.for("react.strict_mode"):60108,ht=st?Symbol.for("react.profiler"):60114,pt=st?Symbol.for("react.provider"):60109,ft=st?Symbol.for("react.context"):60110,vt=st?Symbol.for("react.async_mode"):60111,mt=st?Symbol.for("react.forward_ref"):60112,yt=st?Symbol.for("react.timeout"):60113,bt="function"===typeof Symbol&&Symbol.iterator;function gt(e){return null===e||"undefined"===typeof e?null:"function"===typeof(e=bt&&e[bt]||e["@@iterator"])?e:null}function kt(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case vt:return"AsyncMode";case ft:return"Context.Consumer";case dt:return"ReactFragment";case ct:return"ReactPortal";case ht:return"Profiler("+e.pendingProps.id+")";case pt:return"Context.Provider";case lt:return"StrictMode";case yt:return"Timeout"}if("object"===n(t)&&null!==t)switch(t.$$typeof){case mt:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function wt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var r=e._debugOwner,n=e._debugSource,i=kt(e),o=null;r&&(o=kt(r)),r=n,i="\n    in "+(i||"Unknown")+(r?" (at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var xt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ot={},Tt={};function _t(e,t,r,i){if(null===t||"undefined"===typeof t||function(e,t,r,i){if(null!==r&&0===r.type)return!1;switch(n(t)){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Ct(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Ct(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Ct(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){Rt[e]=new Ct(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Ct(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Ct(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){Rt[e]=new Ct(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){Rt[e]=new Ct(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){Rt[e]=new Ct(e,5,!1,e.toLowerCase(),null)});var St=/[\-:]([a-z])/g;function Pt(e){return e[1].toUpperCase()}function Et(e,t,r,n){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(_t(t,r,i,n)&&(r=null),n||null===i?function(e){return!!Tt.hasOwnProperty(e)||!Ot.hasOwnProperty(e)&&(xt.test(e)?Tt[e]=!0:(Ot[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Bt(e,t){var r=t.checked;return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function It(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Dt(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ft(e,t){null!=(t=t.checked)&&Et(e,"checked",t,!1)}function At(e,t){Ft(e,t);var r=Dt(t.value);null!=r&&("number"===t.type?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r)),t.hasOwnProperty("value")?Mt(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mt(e,t.type,Dt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function jt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var n=e.value;r||t===n||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==r&&(e.name=r)}function Mt(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Dt(e){switch(n(e)){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(St,Pt);Rt[t]=new Ct(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(St,Pt);Rt[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(St,Pt);Rt[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),Rt.tabIndex=new Ct("tabIndex",1,!1,"tabindex",null);var Lt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Gt(e,t,r){return(e=we.getPooled(Lt.change,e,t,r)).type="change",Ve(r),te(e),e}var Nt=null,qt=null;function Ut(e){L(e,!1)}function Ht(e){if(ot(K(e)))return e}function Vt(e,t){if("change"===e)return t}var Kt=!1;function Xt(){Nt&&(Nt.detachEvent("onpropertychange",zt),qt=Nt=null)}function zt(e){"value"===e.propertyName&&Ht(qt)&&Ze(Ut,e=Gt(qt,e,tt(e)))}function Wt(e,t,r){"focus"===e?(Xt(),qt=r,(Nt=t).attachEvent("onpropertychange",zt)):"blur"===e&&Xt()}function Yt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ht(qt)}function Qt(e,t){if("click"===e)return Ht(t)}function Jt(e,t){if("input"===e||"change"===e)return Ht(t)}a.canUseDOM&&(Kt=rt("input")&&(!document.documentMode||9<document.documentMode));var Zt={eventTypes:Lt,_isInputEventSupported:Kt,extractEvents:function(e,t,r,n){var i=t?K(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Vt:et(i)?Kt?o=Jt:(o=Yt,a=Wt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Qt),o&&(o=o(e,t)))return Gt(o,r,n);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Mt(i,"number",i.value)}},$t=we.extend({view:null,detail:null}),er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=er[e])&&!!t[e]}function rr(){return tr}var nr=$t.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),ir=nr.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),or={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ar={eventTypes:or,extractEvents:function(e,t,r,n){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(r.relatedTarget||r.fromElement)||!o&&!i)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=r.relatedTarget||r.toElement)?V(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(a=nr,s=or.mouseLeave,u=or.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=ir,s=or.pointerLeave,u=or.pointerEnter,c="pointer"),e=null==o?i:K(o),i=null==t?i:K(t),(s=a.getPooled(s,o,r,n)).type=c+"leave",s.target=e,s.relatedTarget=i,(r=a.getPooled(u,t,r,n)).type=c+"enter",r.target=i,r.relatedTarget=e,re(s,r,o,t),[s,r]}};function sr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function ur(e){2!==sr(e)&&p("188")}function cr(e){var t=e.alternate;if(!t)return 3===(t=sr(e))&&p("188"),1===t?null:e;for(var r=e,n=t;;){var i=r.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===r)return ur(i),e;if(a===n)return ur(i),t;a=a.sibling}p("188")}if(r.return!==n.return)r=i,n=o;else{a=!1;for(var s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}a||p("189")}}r.alternate!==n&&p("190")}return 3!==r.tag&&p("188"),r.stateNode.current===r?e:t}function dr(e){if(!(e=cr(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var lr=we.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hr=we.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pr=$t.extend({relatedTarget:null});function fr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr=$t.extend({key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=fr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:rr,charCode:function(e){return"keypress"===e.type?fr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?fr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),br=nr.extend({dataTransfer:null}),gr=$t.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:rr}),kr=we.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),wr=nr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),xr=[["abort","abort"],[ce,"animationEnd"],[de,"animationIteration"],[le,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[he,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Or={},Tr={};function _r(e,t){var r=e[0],n="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t},Or[e]=t,Tr[r]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){_r(e,!0)}),xr.forEach(function(e){_r(e,!1)});var Cr={eventTypes:Or,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Tr[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var i=Tr[e];if(!i)return null;switch(e){case"keypress":if(0===fr(r))return null;case"keydown":case"keyup":e=yr;break;case"blur":case"focus":e=pr;break;case"click":if(2===r.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=gr;break;case ce:case de:case le:e=lr;break;case he:e=kr;break;case"scroll":e=$t;break;case"wheel":e=wr;break;case"copy":case"cut":case"paste":e=hr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ir;break;default:e=we}return te(t=e.getPooled(i,t,r,n)),t}},Rr=Cr.isInteractiveTopLevelEventType,Sr=[];function Pr(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var r;for(r=t;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(t),t=V(r)}while(t);for(r=0;r<e.ancestors.length;r++)t=e.ancestors[r],G(e.topLevelType,t,e.nativeEvent,tt(e.nativeEvent))}var Er=!0;function Br(e){Er=!!e}function Ir(e,t){if(!t)return null;var r=(Rr(e)?Ar:jr).bind(null,e);t.addEventListener(e,r,!1)}function Fr(e,t){if(!t)return null;var r=(Rr(e)?Ar:jr).bind(null,e);t.addEventListener(e,r,!0)}function Ar(e,t){Ye(jr,e,t)}function jr(e,t){if(Er){var r=tt(t);if(null===(r=V(r))||"number"!==typeof r.tag||2===sr(r)||(r=null),Sr.length){var n=Sr.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{Ze(Pr,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Sr.length&&Sr.push(e)}}}var Mr={get _enabled(){return Er},setEnabled:Br,isEnabled:function(){return Er},trapBubbledEvent:Ir,trapCapturedEvent:Fr,dispatchEvent:jr},Dr={},Lr=0,Gr="_reactListenersID"+(""+Math.random()).slice(2);function Nr(e){return Object.prototype.hasOwnProperty.call(e,Gr)||(e[Gr]=Lr++,Dr[e[Gr]]={}),Dr[e[Gr]]}function qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ur(e,t){var r,n=qr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qr(n)}}function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Vr=a.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Kr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Xr=null,zr=null,Wr=null,Yr=!1;function Qr(e,t){if(Yr||null==Xr||Xr!==c())return null;var r=Xr;return"selectionStart"in r&&Hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?r={anchorNode:(r=window.getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}:r=void 0,Wr&&d(Wr,r)?null:(Wr=r,(e=we.getPooled(Kr.select,zr,e,t)).type="select",e.target=Xr,te(e),e)}var Jr={eventTypes:Kr,extractEvents:function(e,t,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){e:{o=Nr(o),i=x.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?K(t):window,e){case"focus":(et(o)||"true"===o.contentEditable)&&(Xr=o,zr=t,Wr=null);break;case"blur":Wr=zr=Xr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":return Yr=!1,Qr(r,n);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Qr(r,n)}return null}};M.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),C=z.getFiberCurrentPropsFromNode,R=z.getInstanceFromNode,S=z.getNodeFromInstance,M.injectEventPluginsByName({SimpleEventPlugin:Cr,EnterLeaveEventPlugin:ar,ChangeEventPlugin:Zt,SelectEventPlugin:Jr,BeforeInputEventPlugin:Le});var Zr="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,$r=Date,en=setTimeout,tn=clearTimeout,rn=void 0;if("object"===("undefined"===typeof performance?"undefined":n(performance))&&"function"===typeof performance.now){var nn=performance;rn=function(){return nn.now()}}else rn=function(){return $r.now()};var on=void 0,an=void 0;if(a.canUseDOM){var sn="function"===typeof Zr?Zr:function(){p("276")},un=null,cn=null,dn=-1,ln=!1,hn=!1,pn=0,fn=33,vn=33,mn={didTimeout:!1,timeRemaining:function(){var e=pn-rn();return 0<e?e:0}},yn=function(e,t){var r=e.scheduledCallback,n=!1;try{r(t),n=!0}finally{an(e),n||(ln=!0,window.postMessage(bn,"*"))}},bn="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===bn&&(ln=!1,null!==un)){if(null!==un){var t=rn();if(!(-1===dn||dn>t)){e=-1;for(var r=[],n=un;null!==n;){var i=n.timeoutTime;-1!==i&&i<=t?r.push(n):-1!==i&&(-1===e||i<e)&&(e=i),n=n.next}if(0<r.length)for(mn.didTimeout=!0,t=0,n=r.length;t<n;t++)yn(r[t],mn);dn=e}}for(e=rn();0<pn-e&&null!==un;)e=un,mn.didTimeout=!1,yn(e,mn),e=rn();null===un||hn||(hn=!0,sn(gn))}},!1);var gn=function(e){hn=!1;var t=e-pn+vn;t<vn&&fn<vn?(8>t&&(t=8),vn=t<fn?fn:t):fn=t,pn=e+vn,ln||(ln=!0,window.postMessage(bn,"*"))};on=function(e,t){var r=-1;return null!=t&&"number"===typeof t.timeout&&(r=rn()+t.timeout),(-1===dn||-1!==r&&r<dn)&&(dn=r),e={scheduledCallback:e,timeoutTime:r,prev:null,next:null},null===un?un=e:null!==(t=e.prev=cn)&&(t.next=e),cn=e,hn||(hn=!0,sn(gn)),e},an=function(e){if(null!==e.prev||un===e){var t=e.next,r=e.prev;e.next=null,e.prev=null,null!==t?null!==r?(r.next=t,t.prev=r):(t.prev=null,un=t):null!==r?(r.next=null,cn=r):cn=un=null}}}else{var kn=new Map;on=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},r=en(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return kn.set(e,r),t},an=function(e){var t=kn.get(e.scheduledCallback);kn.delete(e),tn(t)}}function wn(e,t){return e=s({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function xn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+r,t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function On(e,t){var r=t.value;e._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple}}function Tn(e,t){return null!=t.dangerouslySetInnerHTML&&p("91"),s({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _n(e,t){var r=t.value;null==r&&(r=t.defaultValue,null!=(t=t.children)&&(null!=r&&p("92"),Array.isArray(t)&&(1>=t.length||p("93"),t=t[0]),r=""+t),null==r&&(r="")),e._wrapperState={initialValue:""+r}}function Cn(e,t){var r=t.value;null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&(e.defaultValue=r)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Rn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Sn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Pn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Pn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Bn,In=void 0,Fn=(Bn=function(e,t){if(e.namespaceURI!==Sn.svg||"innerHTML"in e)e.innerHTML=t;else{for((In=In||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=In.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return Bn(e,t)})}:Bn);function An(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];function Dn(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=r,o=t[r];i=null==o||"boolean"===typeof o||""===o?"":n||"number"!==typeof o||0===o||jn.hasOwnProperty(i)&&jn[i]?(""+o).trim():o+"px","float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(jn).forEach(function(e){Mn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});var Ln=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gn(e,t,r){t&&(Ln[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&p("137",e,r()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&p("60"),"object"===n(t.dangerouslySetInnerHTML)&&"__html"in t.dangerouslySetInnerHTML||p("61")),null!=t.style&&"object"!==n(t.style)&&p("62",r()))}function Nn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qn=u.thatReturns("");function Un(e,t){var r=Nr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var n=0;n<t.length;n++){var i=t[n];if(!r.hasOwnProperty(i)||!r[i]){switch(i){case"scroll":Fr("scroll",e);break;case"focus":case"blur":Fr("focus",e),Fr("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":rt(i,!0)&&Fr(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===pe.indexOf(i)&&Ir(i,e)}r[i]=!0}}}function Hn(e,t,r,n){return r=9===r.nodeType?r:r.ownerDocument,n===Sn.html&&(n=Pn(e)),n===Sn.html?"script"===e?((e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?r.createElement(e,{is:t.is}):r.createElement(e):e=r.createElementNS(n,e),e}function Vn(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Kn(e,t,r,n){var i=Nn(t,r);switch(t){case"iframe":case"object":Ir("load",e);var o=r;break;case"video":case"audio":for(o=0;o<pe.length;o++)Ir(pe[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"form":Ir("reset",e),Ir("submit",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":It(e,r),o=Bt(e,r),Ir("invalid",e),Un(n,"onChange");break;case"option":o=wn(e,r);break;case"select":On(e,r),o=s({},r,{value:void 0}),Ir("invalid",e),Un(n,"onChange");break;case"textarea":_n(e,r),o=Tn(e,r),Ir("invalid",e),Un(n,"onChange");break;default:o=r}Gn(t,o,qn);var a,c=o;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?Dn(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&Fn(e,d):"children"===a?"string"===typeof d?("textarea"!==t||""!==d)&&An(e,d):"number"===typeof d&&An(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(w.hasOwnProperty(a)?null!=d&&Un(n,a):null!=d&&Et(e,a,d,i))}switch(t){case"input":it(e),jt(e,r,!1);break;case"textarea":it(e),Rn(e);break;case"option":null!=r.value&&e.setAttribute("value",r.value);break;case"select":e.multiple=!!r.multiple,null!=(t=r.value)?xn(e,!!r.multiple,t,!1):null!=r.defaultValue&&xn(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=u)}}function Xn(e,t,r,n,i){var o=null;switch(t){case"input":r=Bt(e,r),n=Bt(e,n),o=[];break;case"option":r=wn(e,r),n=wn(e,n),o=[];break;case"select":r=s({},r,{value:void 0}),n=s({},n,{value:void 0}),o=[];break;case"textarea":r=Tn(e,r),n=Tn(e,n),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=u)}Gn(t,n,qn),t=e=void 0;var a=null;for(e in r)if(!n.hasOwnProperty(e)&&r.hasOwnProperty(e)&&null!=r[e])if("style"===e){var c=r[e];for(t in c)c.hasOwnProperty(t)&&(a||(a={}),a[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(w.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in n){var d=n[e];if(c=null!=r?r[e]:void 0,n.hasOwnProperty(e)&&d!==c&&(null!=d||null!=c))if("style"===e)if(c){for(t in c)!c.hasOwnProperty(t)||d&&d.hasOwnProperty(t)||(a||(a={}),a[t]="");for(t in d)d.hasOwnProperty(t)&&c[t]!==d[t]&&(a||(a={}),a[t]=d[t])}else a||(o||(o=[]),o.push(e,a)),a=d;else"dangerouslySetInnerHTML"===e?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(o=o||[]).push(e,""+d)):"children"===e?c===d||"string"!==typeof d&&"number"!==typeof d||(o=o||[]).push(e,""+d):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(w.hasOwnProperty(e)?(null!=d&&Un(i,e),o||c===d||(o=[])):(o=o||[]).push(e,d))}return a&&(o=o||[]).push("style",a),o}function zn(e,t,r,n,i){"input"===r&&"radio"===i.type&&null!=i.name&&Ft(e,i),Nn(r,n),n=Nn(r,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?Dn(e,s):"dangerouslySetInnerHTML"===a?Fn(e,s):"children"===a?An(e,s):Et(e,a,s,n)}switch(r){case"input":At(e,i);break;case"textarea":Cn(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?xn(e,!!i.multiple,r,!1):t!==!!i.multiple&&(null!=i.defaultValue?xn(e,!!i.multiple,i.defaultValue,!0):xn(e,!!i.multiple,i.multiple?[]:"",!1))}}function Wn(e,t,r,n,i){switch(t){case"iframe":case"object":Ir("load",e);break;case"video":case"audio":for(n=0;n<pe.length;n++)Ir(pe[n],e);break;case"source":Ir("error",e);break;case"img":case"image":case"link":Ir("error",e),Ir("load",e);break;case"form":Ir("reset",e),Ir("submit",e);break;case"details":Ir("toggle",e);break;case"input":It(e,r),Ir("invalid",e),Un(i,"onChange");break;case"select":On(e,r),Ir("invalid",e),Un(i,"onChange");break;case"textarea":_n(e,r),Ir("invalid",e),Un(i,"onChange")}for(var o in Gn(t,r,qn),n=null,r)if(r.hasOwnProperty(o)){var a=r[o];"children"===o?"string"===typeof a?e.textContent!==a&&(n=["children",a]):"number"===typeof a&&e.textContent!==""+a&&(n=["children",""+a]):w.hasOwnProperty(o)&&null!=a&&Un(i,o)}switch(t){case"input":it(e),jt(e,r,!0);break;case"textarea":it(e),Rn(e);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(e.onclick=u)}return n}function Yn(e,t){return e.nodeValue!==t}var Qn={createElement:Hn,createTextNode:Vn,setInitialProperties:Kn,diffProperties:Xn,updateProperties:zn,diffHydratedProperties:Wn,diffHydratedText:Yn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,r){switch(t){case"input":if(At(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=X(n);i||p("90"),ot(n),At(n,i)}}}break;case"textarea":Cn(e,r);break;case"select":null!=(t=r.value)&&xn(e,!!r.multiple,t,!1)}}},Jn=null,Zn=null;function $n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ei(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===n(t.dangerouslySetInnerHTML)&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}var ti=rn,ri=on,ni=an;function ii(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function oi(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var ai=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function di(e,t){ai[++si]=e.current,e.current=t}var li=ui(h),hi=ui(!1),pi=h;function fi(e){return mi(e)?pi:li.current}function vi(e,t){var r=e.type.contextTypes;if(!r)return h;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return 2===e.tag&&null!=e.type.childContextTypes}function yi(e){mi(e)&&(ci(hi),ci(li))}function bi(e){ci(hi),ci(li)}function gi(e,t,r){li.current!==h&&p("168"),di(li,t),di(hi,r)}function ki(e,t){var r=e.stateNode,n=e.type.childContextTypes;if("function"!==typeof r.getChildContext)return t;for(var i in r=r.getChildContext())i in n||p("108",kt(e)||"Unknown",i);return s({},t,r)}function wi(e){if(!mi(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||h,pi=li.current,di(li,t),di(hi,hi.current),!0}function xi(e,t){var r=e.stateNode;if(r||p("169"),t){var n=ki(e,pi);r.__reactInternalMemoizedMergedChildContext=n,ci(hi),ci(li),di(li,n)}else ci(hi);di(hi,t)}function Oi(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Ti(e,t,r){var n=e.alternate;return null===n?((n=new Oi(e.tag,t,e.key,e.mode)).type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.expirationTime=r,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _i(e,t,r){var i=e.type,o=e.key;if(e=e.props,"function"===typeof i)var a=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"===typeof i)a=5;else switch(i){case dt:return Ci(e.children,t,r,o);case vt:a=11,t|=3;break;case lt:a=11,t|=2;break;case ht:return(i=new Oi(15,e,o,4|t)).type=ht,i.expirationTime=r,i;case yt:a=16,t|=2;break;default:e:{switch("object"===n(i)&&null!==i?i.$$typeof:null){case pt:a=13;break e;case ft:a=12;break e;case mt:a=14;break e;default:p("130",null==i?i:n(i),"")}a=void 0}}return(t=new Oi(a,e,o,t)).type=i,t.expirationTime=r,t}function Ci(e,t,r,n){return(e=new Oi(10,e,n,t)).expirationTime=r,e}function Ri(e,t,r){return(e=new Oi(6,e,null,t)).expirationTime=r,e}function Si(e,t,r){return(t=new Oi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pi(e,t,r){return e={current:t=new Oi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:r,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}var Ei=null,Bi=null;function Ii(e){return function(t){try{return e(t)}catch(e){}}}function Fi(e){"function"===typeof Ei&&Ei(e)}function Ai(e){"function"===typeof Bi&&Bi(e)}var ji=!1;function Mi(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Di(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Li(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Gi(e,t,r){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>r)&&(e.expirationTime=r)}function Ni(e,t,r){var n=e.alternate;if(null===n){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=Mi(e.memoizedState))}else i=e.updateQueue,o=n.updateQueue,null===i?null===o?(i=e.updateQueue=Mi(e.memoizedState),o=n.updateQueue=Mi(n.memoizedState)):i=e.updateQueue=Di(o):null===o&&(o=n.updateQueue=Di(i));null===o||i===o?Gi(i,t,r):null===i.lastUpdate||null===o.lastUpdate?(Gi(i,t,r),Gi(o,t,r)):(Gi(i,t,r),o.lastUpdate=t)}function qi(e,t,r){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Mi(e.memoizedState):Ui(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t),(0===n.expirationTime||n.expirationTime>r)&&(n.expirationTime=r)}function Ui(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Di(t)),t}function Hi(e,t,r,n,i,o){switch(r.tag){case 1:return"function"===typeof(e=r.payload)?e.call(o,n,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(i="function"===typeof(e=r.payload)?e.call(o,n,i):e)||void 0===i)break;return s({},n,i);case 2:ji=!0}return n}function Vi(e,t,r,n,i){if(ji=!1,!(0===t.expirationTime||t.expirationTime>i)){for(var o=(t=Ui(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var d=u.expirationTime;d>i?(null===a&&(a=u,o=c),(0===s||s>d)&&(s=d)):(c=Hi(e,0,u,c,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(d=null,u=t.firstCapturedUpdate;null!==u;){var l=u.expirationTime;l>i?(null===d&&(d=u,null===a&&(o=c)),(0===s||s>l)&&(s=l)):(c=Hi(e,0,u,c,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===d?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===d&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=d,t.expirationTime=s,e.memoizedState=c}}function Ki(e,t){"function"!==typeof e&&p("191",e),e.call(t)}function Xi(e,t,r){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var n=e.callback;null!==n&&(e.callback=null,Ki(n,r)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,Ki(t,r)),e=e.nextEffect}function zi(e,t){return{value:e,source:t,stack:wt(t)}}var Wi=ui(null),Yi=ui(null),Qi=ui(0);function Ji(e){var t=e.type._context;di(Qi,t._changedBits),di(Yi,t._currentValue),di(Wi,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function Zi(e){var t=Qi.current,r=Yi.current;ci(Wi),ci(Yi),ci(Qi),(e=e.type._context)._currentValue=r,e._changedBits=t}var $i={},eo=ui($i),to=ui($i),ro=ui($i);function no(e){return e===$i&&p("174"),e}function io(e,t){di(ro,t),di(to,e),di(eo,$i);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:En(null,"");break;default:t=En(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}ci(eo),di(eo,t)}function oo(e){ci(eo),ci(to),ci(ro)}function ao(e){to.current===e&&(ci(eo),ci(to))}function so(e,t,r){var n=e.memoizedState;n=null===(t=t(r,n))||void 0===t?n:s({},n,t),e.memoizedState=n,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=n)}var uo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===sr(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=wa(),i=Li(n=ga(n,e));i.payload=t,void 0!==r&&null!==r&&(i.callback=r),Ni(e,i,n),ka(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=wa(),i=Li(n=ga(n,e));i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),Ni(e,i,n),ka(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=wa(),n=Li(r=ga(r,e));n.tag=2,void 0!==t&&null!==t&&(n.callback=t),Ni(e,n,r),ka(e,r)}};function co(e,t,r,n,i,o){var a=e.stateNode;return e=e.type,"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(r,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!d(t,r)||!d(n,i))}function lo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&uo.enqueueReplaceState(t,t.state,null)}function ho(e,t){var r=e.type,n=e.stateNode,i=e.pendingProps,o=fi(e);n.props=i,n.state=e.memoizedState,n.refs=h,n.context=vi(e,o),null!==(o=e.updateQueue)&&(Vi(e,o,i,n,t),n.state=e.memoizedState),"function"===typeof(o=e.type.getDerivedStateFromProps)&&(so(e,o,i),n.state=e.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(r=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),r!==n.state&&uo.enqueueReplaceState(n,n.state,null),null!==(o=e.updateQueue)&&(Vi(e,o,i,n,t),n.state=e.memoizedState)),"function"===typeof n.componentDidMount&&(e.effectTag|=4)}var po=Array.isArray;function fo(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==n(e)){if(r._owner){var i=void 0;(r=r._owner)&&(2!==r.tag&&p("110"),i=r.stateNode),i||p("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs===h?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!==typeof e&&p("148"),r._owner||p("254",e)}return e}function vo(e,t){"textarea"!==e.type&&p("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function mo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,r){return(e=Ti(e,t,r)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Ri(r,e.mode,n)).return=e,t):((t=o(t,r,n)).return=e,t)}function c(e,t,r,n){return null!==t&&t.type===r.type?((n=o(t,r.props,n)).ref=fo(e,t,r),n.return=e,n):((n=_i(r,e.mode,n)).ref=fo(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Si(r,e.mode,n)).return=e,t):((t=o(t,r.children||[],n)).return=e,t)}function l(e,t,r,n,i){return null===t||10!==t.tag?((t=Ci(r,e.mode,n,i)).return=e,t):((t=o(t,r,n)).return=e,t)}function h(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Ri(""+t,e.mode,r)).return=e,t;if("object"===n(t)&&null!==t){switch(t.$$typeof){case ut:return(r=_i(t,e.mode,r)).ref=fo(e,null,t),r.return=e,r;case ct:return(t=Si(t,e.mode,r)).return=e,t}if(po(t)||gt(t))return(t=Ci(t,e.mode,r,null)).return=e,t;vo(e,t)}return null}function f(e,t,r,i){var o=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:u(e,t,""+r,i);if("object"===n(r)&&null!==r){switch(r.$$typeof){case ut:return r.key===o?r.type===dt?l(e,t,r.props.children,i,o):c(e,t,r,i):null;case ct:return r.key===o?d(e,t,r,i):null}if(po(r)||gt(r))return null!==o?null:l(e,t,r,i,null);vo(e,r)}return null}function v(e,t,r,i,o){if("string"===typeof i||"number"===typeof i)return u(t,e=e.get(r)||null,""+i,o);if("object"===n(i)&&null!==i){switch(i.$$typeof){case ut:return e=e.get(null===i.key?r:i.key)||null,i.type===dt?l(t,e,i.props.children,o,i.key):c(t,e,i,o);case ct:return d(t,e=e.get(null===i.key?r:i.key)||null,i,o)}if(po(i)||gt(i))return l(t,e=e.get(r)||null,i,o,null);vo(t,i)}return null}function m(n,o,s,u){for(var c=null,d=null,l=o,p=o=0,m=null;null!==l&&p<s.length;p++){l.index>p?(m=l,l=null):m=l.sibling;var y=f(n,l,s[p],u);if(null===y){null===l&&(l=m);break}e&&l&&null===y.alternate&&t(n,l),o=a(y,o,p),null===d?c=y:d.sibling=y,d=y,l=m}if(p===s.length)return r(n,l),c;if(null===l){for(;p<s.length;p++)(l=h(n,s[p],u))&&(o=a(l,o,p),null===d?c=l:d.sibling=l,d=l);return c}for(l=i(n,l);p<s.length;p++)(m=v(l,n,p,s[p],u))&&(e&&null!==m.alternate&&l.delete(null===m.key?p:m.key),o=a(m,o,p),null===d?c=m:d.sibling=m,d=m);return e&&l.forEach(function(e){return t(n,e)}),c}function y(n,o,s,u){var c=gt(s);"function"!==typeof c&&p("150"),null==(s=c.call(s))&&p("151");for(var d=c=null,l=o,m=o=0,y=null,b=s.next();null!==l&&!b.done;m++,b=s.next()){l.index>m?(y=l,l=null):y=l.sibling;var g=f(n,l,b.value,u);if(null===g){l||(l=y);break}e&&l&&null===g.alternate&&t(n,l),o=a(g,o,m),null===d?c=g:d.sibling=g,d=g,l=y}if(b.done)return r(n,l),c;if(null===l){for(;!b.done;m++,b=s.next())null!==(b=h(n,b.value,u))&&(o=a(b,o,m),null===d?c=b:d.sibling=b,d=b);return c}for(l=i(n,l);!b.done;m++,b=s.next())null!==(b=v(l,n,m,b.value,u))&&(e&&null!==b.alternate&&l.delete(null===b.key?m:b.key),o=a(b,o,m),null===d?c=b:d.sibling=b,d=b);return e&&l.forEach(function(e){return t(n,e)}),c}return function(e,i,a,u){var c="object"===n(a)&&null!==a&&a.type===dt&&null===a.key;c&&(a=a.props.children);var d="object"===n(a)&&null!==a;if(d)switch(a.$$typeof){case ut:e:{for(d=a.key,c=i;null!==c;){if(c.key===d){if(10===c.tag?a.type===dt:c.type===a.type){r(e,c.sibling),(i=o(c,a.type===dt?a.props.children:a.props,u)).ref=fo(e,c,a),i.return=e,e=i;break e}r(e,c);break}t(e,c),c=c.sibling}a.type===dt?((i=Ci(a.props.children,e.mode,u,a.key)).return=e,e=i):((u=_i(a,e.mode,u)).ref=fo(e,i,a),u.return=e,e=u)}return s(e);case ct:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(e,i.sibling),(i=o(i,a.children||[],u)).return=e,e=i;break e}r(e,i);break}t(e,i),i=i.sibling}(i=Si(a,e.mode,u)).return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(r(e,i.sibling),(i=o(i,a,u)).return=e,e=i):(r(e,i),(i=Ri(a,e.mode,u)).return=e,e=i),s(e);if(po(a))return m(e,i,a,u);if(gt(a))return y(e,i,a,u);if(d&&vo(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 2:case 1:p("152",(u=e.type).displayName||u.name||"Component")}return r(e,i)}}var yo=mo(!0),bo=mo(!1),go=null,ko=null,wo=!1;function xo(e,t){var r=new Oi(5,null,null,0);r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Oo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function To(e){if(wo){var t=ko;if(t){var r=t;if(!Oo(e,t)){if(!(t=ii(r))||!Oo(e,t))return e.effectTag|=2,wo=!1,void(go=e);xo(go,r)}go=e,ko=oi(t)}else e.effectTag|=2,wo=!1,go=e}}function _o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;go=e}function Co(e){if(e!==go)return!1;if(!wo)return _o(e),wo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ei(t,e.memoizedProps))for(t=ko;t;)xo(e,t),t=ii(t);return _o(e),ko=go?ii(e.stateNode):null,!0}function Ro(){ko=go=null,wo=!1}function So(e,t,r){Po(e,t,r,t.expirationTime)}function Po(e,t,r,n){t.child=null===e?bo(t,null,r,n):yo(t,e.child,r,n)}function Eo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Bo(e,t,r,n,i){Eo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return n&&xi(t,!1),Ao(e,t);r=t.stateNode,at.current=t;var a=o?null:r.render();return t.effectTag|=1,o&&(Po(e,t,null,i),t.child=null),Po(e,t,a,i),t.memoizedState=r.state,t.memoizedProps=r.props,n&&xi(t,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),io(e,t.containerInfo)}function Fo(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!==(o&r)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>n)o.expirationTime=n,null!==a&&(0===a.expirationTime||a.expirationTime>n)&&(a.expirationTime=n);else{if(null===a||!(0===a.expirationTime||a.expirationTime>n))break;a.expirationTime=n}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ao(e,t){if(null!==e&&t.child!==e.child&&p("153"),null!==t.child){var r=Ti(e=t.child,e.pendingProps,e.expirationTime);for(t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ti(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function jo(e,t,r){if(0===t.expirationTime||t.expirationTime>r){switch(t.tag){case 3:Io(t);break;case 2:wi(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 13:Ji(t)}return null}switch(t.tag){case 0:null!==e&&p("155");var i=t.type,o=t.pendingProps,a=fi(t);return i=i(o,a=vi(t,a)),t.effectTag|=1,"object"===n(i)&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(a=t.type,t.tag=2,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"===typeof(a=a.getDerivedStateFromProps)&&so(t,a,o),o=wi(t),i.updater=uo,t.stateNode=i,i._reactInternalFiber=t,ho(t,r),e=Bo(e,t,!0,o,r)):(t.tag=1,So(e,t,i),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,r=t.pendingProps,hi.current||t.memoizedProps!==r?(o=o(r,i=vi(t,i=fi(t))),t.effectTag|=1,So(e,t,o),t.memoizedProps=r,e=t.child):e=Ao(e,t),e;case 2:if(o=wi(t),null===e)if(null===t.stateNode){var s=t.pendingProps,u=t.type;i=fi(t);var c=2===t.tag&&null!=t.type.contextTypes;s=new u(s,a=c?vi(t,i):h),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=uo,t.stateNode=s,s._reactInternalFiber=t,c&&((c=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,c.__reactInternalMemoizedMaskedChildContext=a),ho(t,r),i=!0}else{u=t.type,i=t.stateNode,c=t.memoizedProps,a=t.pendingProps,i.props=c;var d=i.context;s=vi(t,s=fi(t));var l=u.getDerivedStateFromProps;(u="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(c!==a||d!==s)&&lo(t,i,a,s),ji=!1;var f=t.memoizedState;d=i.state=f;var v=t.updateQueue;null!==v&&(Vi(t,v,a,i,r),d=t.memoizedState),c!==a||f!==d||hi.current||ji?("function"===typeof l&&(so(t,l,a),d=t.memoizedState),(c=ji||co(t,c,a,f,d,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.effectTag|=4)):("function"===typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=d),i.props=a,i.state=d,i.context=s,i=c):("function"===typeof i.componentDidMount&&(t.effectTag|=4),i=!1)}else u=t.type,i=t.stateNode,a=t.memoizedProps,c=t.pendingProps,i.props=a,d=i.context,s=vi(t,s=fi(t)),(u="function"===typeof(l=u.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==c||d!==s)&&lo(t,i,c,s),ji=!1,d=t.memoizedState,f=i.state=d,null!==(v=t.updateQueue)&&(Vi(t,v,c,i,r),f=t.memoizedState),a!==c||d!==f||hi.current||ji?("function"===typeof l&&(so(t,l,c),f=t.memoizedState),(l=ji||co(t,a,c,d,f,s))?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(c,f,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(c,f,s)),"function"===typeof i.componentDidUpdate&&(t.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=256),t.memoizedProps=c,t.memoizedState=f),i.props=c,i.state=f,i.context=s,i=l):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.effectTag|=256),i=!1);return Bo(e,t,i,o,r);case 3:return Io(t),null!==(o=t.updateQueue)?(i=null!==(i=t.memoizedState)?i.element:null,Vi(t,o,t.pendingProps,null,r),(o=t.memoizedState.element)===i?(Ro(),e=Ao(e,t)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ko=oi(t.stateNode.containerInfo),go=t,i=wo=!0),i?(t.effectTag|=2,t.child=bo(t,null,o,r)):(Ro(),So(e,t,o)),e=t.child)):(Ro(),e=Ao(e,t)),e;case 5:return no(ro.current),(o=no(eo.current))!==(i=En(o,t.type))&&(di(to,t),di(eo,i)),null===e&&To(t),o=t.type,c=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null,hi.current||c!==i||((c=1&t.mode&&!!i.hidden)&&(t.expirationTime=1073741823),c&&1073741823===r)?(c=i.children,ei(o,i)?c=null:a&&ei(o,a)&&(t.effectTag|=16),Eo(e,t),1073741823!==r&&1&t.mode&&i.hidden?(t.expirationTime=1073741823,t.memoizedProps=i,e=null):(So(e,t,c),t.memoizedProps=i,e=t.child)):e=Ao(e,t),e;case 6:return null===e&&To(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return io(t,t.stateNode.containerInfo),o=t.pendingProps,hi.current||t.memoizedProps!==o?(null===e?t.child=yo(t,null,o,r):So(e,t,o),t.memoizedProps=o,e=t.child):e=Ao(e,t),e;case 14:return o=t.type.render,r=t.pendingProps,i=t.ref,hi.current||t.memoizedProps!==r||i!==(null!==e?e.ref:null)?(So(e,t,o=o(r,i)),t.memoizedProps=r,e=t.child):e=Ao(e,t),e;case 10:return r=t.pendingProps,hi.current||t.memoizedProps!==r?(So(e,t,r),t.memoizedProps=r,e=t.child):e=Ao(e,t),e;case 11:return r=t.pendingProps.children,hi.current||null!==r&&t.memoizedProps!==r?(So(e,t,r),t.memoizedProps=r,e=t.child):e=Ao(e,t),e;case 15:return r=t.pendingProps,t.memoizedProps===r?e=Ao(e,t):(So(e,t,r.children),t.memoizedProps=r,e=t.child),e;case 13:return function(e,t,r){var n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(hi.current)a=!1;else if(o===i)return t.stateNode=0,Ji(t),Ao(e,t);var s=i.value;if(t.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,Ji(t),Ao(e,t);s=0}else{var u=o.value;if(u===s&&(0!==u||1/u===1/s)||u!==u&&s!==s){if(o.children===i.children&&a)return t.stateNode=0,Ji(t),Ao(e,t);s=0}else if(s="function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,s):1073741823,0===(s|=0)){if(o.children===i.children&&a)return t.stateNode=0,Ji(t),Ao(e,t)}else Fo(t,n,s,r)}return t.stateNode=s,Ji(t),So(e,t,i.children),t.child}(e,t,r);case 12:e:if(i=t.type,a=t.pendingProps,c=t.memoizedProps,o=i._currentValue,s=i._changedBits,hi.current||0!==s||c!==a){if(t.memoizedProps=a,void 0!==(u=a.unstable_observedBits)&&null!==u||(u=1073741823),t.stateNode=u,0!==(s&u))Fo(t,i,s,r);else if(c===a){e=Ao(e,t);break e}r=(r=a.children)(o),t.effectTag|=1,So(e,t,r),e=t.child}else e=Ao(e,t);return e;default:p("156")}}function Mo(e){e.effectTag|=4}var Do=void 0,Lo=void 0,Go=void 0;function No(e,t){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return yi(t),null;case 3:oo(),bi();var n=t.stateNode;return n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Co(t),t.effectTag&=-3),Do(t),null;case 5:ao(t),n=no(ro.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=no(eo.current);a=Xn(a,i,o,r,n),Lo(e,t,a,i,o,r,n,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&p("166"),null;if(e=no(eo.current),Co(t))r=t.stateNode,i=t.type,o=t.memoizedProps,r[U]=t,r[H]=o,n=Wn(r,i,o,e,n),t.updateQueue=n,null!==n&&Mo(t);else{(e=Hn(i,r,n,e))[U]=t,e[H]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}Kn(e,i,r,n),$n(i,r)&&Mo(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(e,t,e.memoizedProps,r);else{if("string"!==typeof r)return null===t.stateNode&&p("166"),null;n=no(ro.current),no(eo.current),Co(t)?(n=t.stateNode,r=t.memoizedProps,n[U]=t,Yn(n,r)&&Mo(t)):((n=Vn(r,n))[U]=t,t.stateNode=n)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return oo(),Do(t),null;case 13:return Zi(t),null;case 12:return null;case 0:p("167");default:p("156")}}function qo(e,t){var r=t.source;null===t.stack&&null!==r&&wt(r),null!==r&&kt(r),t=t.value,null!==e&&2===e.tag&&kt(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Uo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){ya(e,t)}else t.current=null}function Ho(e){switch(Ai(e),e.tag){case 2:Uo(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ya(e,t)}break;case 5:Uo(e);break;case 4:Xo(e)}}function Vo(e){return 5===e.tag||3===e.tag||4===e.tag}function Ko(e){e:{for(var t=e.return;null!==t;){if(Vo(t)){var r=t;break e}t=t.return}p("160"),r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode,n=!1;break;case 3:case 4:t=r.stateNode.containerInfo,n=!0;break;default:p("161")}16&r.effectTag&&(An(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Vo(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(r)if(n){var o=t,a=i.stateNode,s=r;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else t.insertBefore(i.stateNode,r);else n?(o=t,a=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(a,o):o.appendChild(a)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Xo(e){for(var t=e,r=!1,n=void 0,i=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&p("160"),r.tag){case 5:n=r.stateNode,i=!1;break e;case 3:case 4:n=r.stateNode.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(Ho(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=n,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):n.removeChild(t.stateNode)}else if(4===t.tag?n=t.stateNode.containerInfo:Ho(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function zo(e,t){switch(t.tag){case 2:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(r[H]=n,zn(r,o,i,e,n))}break;case 6:null===t.stateNode&&p("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:p("163")}}function Wo(e,t,r){(r=Li(r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){es(n),qo(e,t)},r}function Yo(e,t,r){(r=Li(r)).tag=3;var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){null===ha?ha=new Set([this]):ha.add(this);var r=t.value,n=t.stack;qo(e,t),this.componentDidCatch(r,{componentStack:null!==n?n:""})}),r}function Qo(e,t,r,n,i,o){r.effectTag|=512,r.firstEffect=r.lastEffect=null,n=zi(n,r),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void qi(e,n=Wo(e,n,o),o);case 2:if(t=n,r=e.stateNode,0===(64&e.effectTag)&&null!==r&&"function"===typeof r.componentDidCatch&&(null===ha||!ha.has(r)))return e.effectTag|=1024,void qi(e,n=Yo(e,t,o),o)}e=e.return}while(null!==e)}function Jo(e){switch(e.tag){case 2:yi(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return oo(),bi(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ao(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return oo(),null;case 13:return Zi(e),null;default:return null}}Do=function(){},Lo=function(e,t,r){(t.updateQueue=r)&&Mo(t)},Go=function(e,t,r,n){r!==n&&Mo(t)};var Zo=ti(),$o=2,ea=Zo,ta=0,ra=0,na=!1,ia=null,oa=null,aa=0,sa=-1,ua=!1,ca=null,da=!1,la=!1,ha=null;function pa(){if(null!==ia)for(var e=ia.return;null!==e;){var t=e;switch(t.tag){case 2:yi(t);break;case 3:oo(),bi();break;case 5:ao(t);break;case 4:oo();break;case 13:Zi(t)}e=e.return}oa=null,aa=0,sa=-1,ua=!1,ia=null,la=!1}function fa(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0===(512&e.effectTag)){t=No(t,e);var i=e;if(1073741823===aa||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==r&&0===(512&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e)),null!==n)return n;if(null===r){la=!0;break}e=r}else{if(null!==(e=Jo(e)))return e.effectTag&=511,e;if(null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512),null!==n)return n;if(null===r)break;e=r}}return null}function va(e){var t=jo(e.alternate,e,aa);return null===t&&(t=fa(e)),at.current=null,t}function ma(e,t,r){na&&p("243"),na=!0,t===aa&&e===oa&&null!==ia||(pa(),aa=t,sa=-1,ia=Ti((oa=e).current,null,aa),e.pendingCommitExpirationTime=0);var n=!1;for(ua=!r||aa<=$o;;){try{if(r)for(;null!==ia&&!$a();)ia=va(ia);else for(;null!==ia;)ia=va(ia)}catch(t){if(null===ia)n=!0,es(t);else{null===ia&&p("271");var i=(r=ia).return;if(null===i){n=!0,es(t);break}Qo(e,i,r,t,0,aa),ia=fa(r)}}break}if(na=!1,n)return null;if(null===ia){if(la)return e.pendingCommitExpirationTime=t,e.current.alternate;ua&&p("262"),0<=sa&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Va(e,t)},sa),function(e){null===Pa&&p("246"),Pa.remainingExpirationTime=e}(e.current.expirationTime)}return null}function ya(e,t){var r;e:{for(na&&!da&&p("263"),r=e.return;null!==r;){switch(r.tag){case 2:var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromCatch||"function"===typeof n.componentDidCatch&&(null===ha||!ha.has(n))){Ni(r,e=Yo(r,e=zi(t,e),1),1),ka(r,1),r=void 0;break e}break;case 3:Ni(r,e=Wo(r,e=zi(t,e),1),1),ka(r,1),r=void 0;break e}r=r.return}3===e.tag&&(Ni(e,r=Wo(e,r=zi(t,e),1),1),ka(e,1)),r=void 0}return r}function ba(){var e=2+25*(1+((wa()-2+500)/25|0));return e<=ta&&(e=ta+1),ta=e}function ga(e,t){return e=0!==ra?ra:na?da?1:aa:1&t.mode?La?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,La&&(0===Ba||e>Ba)&&(Ba=e),e}function ka(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var r=e.stateNode;!na&&0!==aa&&t<aa&&pa();var n=r.current.expirationTime;na&&!da&&oa===r||Va(r,n),qa>Na&&p("185")}e=e.return}}function wa(){return ea=ti()-Zo,$o=2+(ea/10|0)}function xa(e){var t=ra;ra=2+25*(1+((wa()-2+500)/25|0));try{return e()}finally{ra=t}}function Oa(e,t,r,n,i){var o=ra;ra=1;try{return e(t,r,n,i)}finally{ra=o}}var Ta=null,_a=null,Ca=0,Ra=void 0,Sa=!1,Pa=null,Ea=0,Ba=0,Ia=!1,Fa=!1,Aa=null,ja=null,Ma=!1,Da=!1,La=!1,Ga=null,Na=1e3,qa=0,Ua=1;function Ha(e){if(0!==Ca){if(e>Ca)return;null!==Ra&&ni(Ra)}var t=ti()-Zo;Ca=e,Ra=ri(Xa,{timeout:10*(e-2)-t})}function Va(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===_a?(Ta=_a=e,e.nextScheduledRoot=e):(_a=_a.nextScheduledRoot=e).nextScheduledRoot=Ta;else{var r=e.remainingExpirationTime;(0===r||t<r)&&(e.remainingExpirationTime=t)}Sa||(Ma?Da&&(Pa=e,Ea=1,Ja(e,1,!1)):1===t?za():Ha(t))}function Ka(){var e=0,t=null;if(null!==_a)for(var r=_a,n=Ta;null!==n;){var i=n.remainingExpirationTime;if(0===i){if((null===r||null===_a)&&p("244"),n===n.nextScheduledRoot){Ta=_a=n.nextScheduledRoot=null;break}if(n===Ta)Ta=i=n.nextScheduledRoot,_a.nextScheduledRoot=i,n.nextScheduledRoot=null;else{if(n===_a){(_a=r).nextScheduledRoot=Ta,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=n),n===_a)break;r=n,n=n.nextScheduledRoot}}null!==(r=Pa)&&r===t&&1===e?qa++:qa=0,Pa=t,Ea=e}function Xa(e){Wa(0,!0,e)}function za(){Wa(1,!1,null)}function Wa(e,t,r){if(ja=r,Ka(),t)for(;null!==Pa&&0!==Ea&&(0===e||e>=Ea)&&(!Ia||wa()>=Ea);)wa(),Ja(Pa,Ea,!Ia),Ka();else for(;null!==Pa&&0!==Ea&&(0===e||e>=Ea);)Ja(Pa,Ea,!1),Ka();null!==ja&&(Ca=0,Ra=null),0!==Ea&&Ha(Ea),ja=null,Ia=!1,Qa()}function Ya(e,t){Sa&&p("253"),Pa=e,Ea=t,Ja(e,t,!1),za(),Qa()}function Qa(){if(qa=0,null!==Ga){var e=Ga;Ga=null;for(var t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(e){Fa||(Fa=!0,Aa=e)}}}if(Fa)throw e=Aa,Aa=null,Fa=!1,e}function Ja(e,t,r){Sa&&p("245"),Sa=!0,r?null!==(r=e.finishedWork)?Za(e,r,t):null!==(r=ma(e,t,!0))&&($a()?e.finishedWork=r:Za(e,r,t)):null!==(r=e.finishedWork)?Za(e,r,t):null!==(r=ma(e,t,!1))&&Za(e,r,t),Sa=!1}function Za(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime<=r&&(null===Ga?Ga=[n]:Ga.push(n),n._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,da=na=!0,(r=t.stateNode).current===t&&p("177"),0===(n=r.pendingCommitExpirationTime)&&p("261"),r.pendingCommitExpirationTime=0,wa(),at.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;Jn=Er;var o=c();if(Hr(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch(e){a=null;break e}var h=0,f=-1,v=-1,m=0,y=0,b=o,g=null;t:for(;;){for(var k;b!==a||0!==u&&3!==b.nodeType||(f=h+u),b!==d||0!==s&&3!==b.nodeType||(v=h+s),3===b.nodeType&&(h+=b.nodeValue.length),null!==(k=b.firstChild);)g=b,b=k;for(;;){if(b===o)break t;if(g===a&&++m===u&&(f=h),g===d&&++y===s&&(v=h),null!==(k=b.nextSibling))break;g=(b=g).parentNode}b=k}a=-1===f||-1===v?null:{start:f,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zn={focusedElem:o,selectionRange:a},Br(!1),ca=i;null!==ca;){o=!1,a=void 0;try{for(;null!==ca;){if(256&ca.effectTag){var w=ca.alternate;switch((u=ca).tag){case 2:if(256&u.effectTag&&null!==w){var x=w.memoizedProps,O=w.memoizedState,T=u.stateNode;T.props=u.memoizedProps,T.state=u.memoizedState;var _=T.getSnapshotBeforeUpdate(x,O);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:case 5:case 6:case 4:break;default:p("163")}}ca=ca.nextEffect}}catch(e){o=!0,a=e}o&&(null===ca&&p("178"),ya(ca,a),null!==ca&&(ca=ca.nextEffect))}for(ca=i;null!==ca;){w=!1,x=void 0;try{for(;null!==ca;){var C=ca.effectTag;if(16&C&&An(ca.stateNode,""),128&C){var R=ca.alternate;if(null!==R){var S=R.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(14&C){case 2:Ko(ca),ca.effectTag&=-3;break;case 6:Ko(ca),ca.effectTag&=-3,zo(ca.alternate,ca);break;case 4:zo(ca.alternate,ca);break;case 8:Xo(O=ca),O.return=null,O.child=null,O.alternate&&(O.alternate.child=null,O.alternate.return=null)}ca=ca.nextEffect}}catch(e){w=!0,x=e}w&&(null===ca&&p("178"),ya(ca,x),null!==ca&&(ca=ca.nextEffect))}if(S=Zn,R=c(),C=S.focusedElem,w=S.selectionRange,R!==C&&l(document.documentElement,C)){null!==w&&Hr(C)&&(R=w.start,void 0===(S=w.end)&&(S=R),"selectionStart"in C?(C.selectionStart=R,C.selectionEnd=Math.min(S,C.value.length)):window.getSelection&&(R=window.getSelection(),x=C[ve()].length,S=Math.min(w.start,x),w=void 0===w.end?S:Math.min(w.end,x),!R.extend&&S>w&&(x=w,w=S,S=x),x=Ur(C,S),O=Ur(C,w),x&&O&&(1!==R.rangeCount||R.anchorNode!==x.node||R.anchorOffset!==x.offset||R.focusNode!==O.node||R.focusOffset!==O.offset)&&((T=document.createRange()).setStart(x.node,x.offset),R.removeAllRanges(),S>w?(R.addRange(T),R.extend(O.node,O.offset)):(T.setEnd(O.node,O.offset),R.addRange(T))))),R=[];for(S=C;S=S.parentNode;)1===S.nodeType&&R.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<R.length;C++)(S=R[C]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(Zn=null,Br(Jn),Jn=null,r.current=t,ca=i;null!==ca;){i=!1,C=void 0;try{for(R=n;null!==ca;){var P=ca.effectTag;if(36&P){var E=ca.alternate;switch(w=R,(S=ca).tag){case 2:var B=S.stateNode;if(4&S.effectTag)if(null===E)B.props=S.memoizedProps,B.state=S.memoizedState,B.componentDidMount();else{var I=E.memoizedProps,F=E.memoizedState;B.props=S.memoizedProps,B.state=S.memoizedState,B.componentDidUpdate(I,F,B.__reactInternalSnapshotBeforeUpdate)}var A=S.updateQueue;null!==A&&(B.props=S.memoizedProps,B.state=S.memoizedState,Xi(S,A,B));break;case 3:var j=S.updateQueue;if(null!==j){if(x=null,null!==S.child)switch(S.child.tag){case 5:x=S.child.stateNode;break;case 2:x=S.child.stateNode}Xi(S,j,x)}break;case 5:var M=S.stateNode;null===E&&4&S.effectTag&&$n(S.type,S.memoizedProps)&&M.focus();break;case 6:case 4:case 15:case 16:break;default:p("163")}}if(128&P){S=void 0;var D=ca.ref;if(null!==D){var L=ca.stateNode;switch(ca.tag){case 5:S=L;break;default:S=L}"function"===typeof D?D(S):D.current=S}}var G=ca.nextEffect;ca.nextEffect=null,ca=G}}catch(e){i=!0,C=e}i&&(null===ca&&p("178"),ya(ca,C),null!==ca&&(ca=ca.nextEffect))}na=da=!1,Fi(t.stateNode),0===(t=r.current.expirationTime)&&(ha=null),e.remainingExpirationTime=t}function $a(){return!(null===ja||ja.timeRemaining()>Ua)&&(Ia=!0)}function es(e){null===Pa&&p("246"),Pa.remainingExpirationTime=0,Fa||(Fa=!0,Aa=e)}function ts(e,t){var r=Ma;Ma=!0;try{return e(t)}finally{(Ma=r)||Sa||za()}}function rs(e,t){if(Ma&&!Da){Da=!0;try{return e(t)}finally{Da=!1}}return e(t)}function ns(e,t){Sa&&p("187");var r=Ma;Ma=!0;try{return Oa(e,t)}finally{Ma=r,za()}}function is(e,t,r){if(La)return e(t,r);Ma||Sa||0===Ba||(Wa(Ba,!1,null),Ba=0);var n=La,i=Ma;Ma=La=!0;try{return e(t,r)}finally{La=n,(Ma=i)||Sa||za()}}function os(e){var t=Ma;Ma=!0;try{Oa(e)}finally{(Ma=t)||Sa||Wa(1,!1,null)}}function as(e,t,r,n,i){var o=t.current;if(r){var a;r=r._reactInternalFiber;e:{for(2===sr(r)&&2===r.tag||p("170"),a=r;3!==a.tag;){if(mi(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a.return)||p("171")}a=a.stateNode.context}r=mi(r)?ki(r,a):a}else r=h;return null===t.context?t.context=r:t.pendingContext=r,t=i,(i=Li(n)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ni(o,i,n),ka(o,n),n}function ss(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?p("188"):p("268",Object.keys(e))),null===(e=dr(t))?null:e.stateNode}function us(e,t,r,n){var i=t.current;return as(e,t,r,i=ga(wa(),i),n)}function cs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ds(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Ei=Ii(function(e){return t.onCommitFiberRoot(r,e)}),Bi=Ii(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}return!0}(s({},e,{findHostInstanceByFiber:function(e){return null===(e=dr(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var ls=ts,hs=is,ps=function(){Sa||0===Ba||(Wa(Ba,!1,null),Ba=0)};function fs(e){this._expirationTime=ba(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function vs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ms(e,t,r){this._internalRoot=Pi(e,t,r)}function ys(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function bs(e,t,r,n,i){ys(r)||p("200");var o=r._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=cs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new ms(e,!1,t)}(r,n),"function"===typeof i){var s=i;i=function(){var e=cs(o._internalRoot);s.call(e)}}rs(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return cs(o._internalRoot)}function gs(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ys(t)||p("200"),function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ct,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}Ne.injectFiberControlledHostComponent(Qn),fs.prototype.render=function(e){this._defer||p("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new vs;return as(e,t,null,r,n._onCommit),n},fs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},fs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||p("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,i=t;i!==this;)n=i,i=i._next;null===n&&p("251"),n._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ya(e,r),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},fs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},vs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},vs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r&&p("191",r),r()}}},ms.prototype.render=function(e,t){var r=this._internalRoot,n=new vs;return null!==(t=void 0===t?null:t)&&n.then(t),us(e,r,null,n._onCommit),n},ms.prototype.unmount=function(e){var t=this._internalRoot,r=new vs;return null!==(e=void 0===e?null:e)&&r.then(e),us(null,t,null,r._onCommit),r},ms.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,i=new vs;return null!==(r=void 0===r?null:r)&&i.then(r),us(t,n,e,i._onCommit),i},ms.prototype.createBatch=function(){var e=new fs(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime<=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},We=ls,Ye=hs,Qe=ps;var ks={createPortal:gs,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:ss(e)},hydrate:function(e,t,r){return bs(null,e,t,!0,r)},render:function(e,t,r){return bs(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return(null==e||void 0===e._reactInternalFiber)&&p("38"),bs(e,t,r,!1,n)},unmountComponentAtNode:function(e){return ys(e)||p("40"),!!e._reactRootContainer&&(rs(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return gs.apply(void 0,arguments)},unstable_batchedUpdates:ts,unstable_deferredUpdates:xa,unstable_interactiveUpdates:is,flushSync:ns,unstable_flushControlled:os,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:N,EventPluginRegistry:_,EventPropagators:ne,ReactControlledComponent:ze,ReactDOMComponentTree:z,ReactDOMEventListener:Mr},unstable_createRoot:function(e,t){return new ms(e,!0,null!=t&&!0===t.hydrate)}};ds({findFiberByHostInstance:V,bundleType:0,version:"16.4.1",rendererPackageName:"react-dom"});var ws={default:ks},xs=ws&&ks||ws;e.exports=xs.default?xs.default:xs},function(e,t,r){"use strict";var n=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,r){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var s=0;s<r.length;s++)if(!i.call(t,r[s])||!o(e[r[s]],t[r[s]]))return!1;return!0}},function(e,t,r){"use strict";var n=r(83);e.exports=function e(t,r){return!(!t||!r)&&(t===r||!n(t)&&(n(r)?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}},function(e,t,r){"use strict";var n=r(84);e.exports=function(e){return n(e)&&3==e.nodeType}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===n(e)&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t){},function(e,t,r){"use strict";var n=r(10),i=r.n(n),o=r(87),a=(r.n(o),r(88)),s=r(205);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,o,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),r=t,(o=[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},i.a.createElement(s.a,{exchange:"bittrex",symbol:"BTC/USDT"}),i.a.createElement(s.a,{exchange:"binance",symbol:"BTC/USDT"}),i.a.createElement(s.a,{exchange:"hitbtc",symbol:"BTC/USDT"}),i.a.createElement(s.a,{exchange:"kraken",symbol:"BTC/USD"}),i.a.createElement(s.a,{exchange:"ccex",symbol:"BTC/USD"}))),i.a.createElement(a.a,null))}}])&&c(r.prototype,o),u&&c(r,u),t}();t.a=l},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(10),i=r.n(n),o=r(29),a=r.n(o),s=r(204);r.n(s);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"List"},"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0431\u0438\u0440\u0436 - ",a.a.exchanges.length)}}])&&c(r.prototype,n),o&&c(r,o),t}()},function(e,t,r){"use strict";(function(t){var r="undefined"!==typeof window,n="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,i="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,o="undefined"!==typeof t&&"win32"===t.platform,a=!(r||i);e.exports={isBrowser:r,isElectron:n,isWebWorker:i,isNode:a,isWindows:o}}).call(t,r(90))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],d=!1,l=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!d){var e=s(h);d=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(20),i=n.isObject,o=n.isNumber,a=n.isDictionary,s=n.isArray,u=Object.keys,c=function(e){return s(e)?e:Object.values(e)},d=function(e){return new Set(c(e))},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object.assign.apply(Object,[{}].concat(t))},h=function(e){return s(e)?Array.from(e):l(e)};e.exports={keys:u,values:c,extend:l,clone:h,index:d,ordered:function(e){return e},unique:function(e){return Array.from(d(e))},inArray:function(e,t){return t.includes(e)},toArray:function(e){return Object.values(e)},isEmpty:function(e){return!e||(Array.isArray(e)?e:Object.keys(e)).length<1},keysort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0,n=!1,i=void 0;try{for(var o,a=u(e).sort()[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t[s]=e[s]}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t},indexBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!0,i=!1,o=void 0;try{for(var a,s=c(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;t in u&&(r[u[t]]=u)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r},groupBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!0,i=!1,o=void 0;try{for(var a,s=c(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(t in u){var d=u[t];r[d]=r[d]||[],r[d].push(u)}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r},filterBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=!0,o=!1,a=void 0;try{for(var s,u=c(e)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var d=s.value;d[t]===r&&n.push(d)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n},sortBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r?-1:1;return e.sort(function(e,r){return e[t]<r[t]?-n:e[t]>r[t]?n:0})},flatten:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;s(c)?e(c,r):r.push(c)}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r},pluck:function(e,t){return c(e).filter(function(e){return t in e}).map(function(e){return e[t]})},omit:function(e){for(var t=h(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++){var a=n[o];if(s(a)){var u=!0,c=!1,d=void 0;try{for(var l,p=a[Symbol.iterator]();!(u=(l=p.next()).done);u=!0){delete t[l.value]}}catch(e){c=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw d}}}else delete t[a]}return t},sum:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(o);return n.length>0?n.reduce(function(e,t){return e+t},0):void 0},deepExtend:function e(){for(var t=void 0,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var s=0;s<n.length;s++){var u=n[s];if(a(u))for(var c in i(t)||(t={}),u)t[c]=e(t[c],u[c]);else t=u}return t}}},function(e,t,r){"use strict";var n=r(93),i=r(94),o=r(57);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(56),o=r(57),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,r,n,o,a,s,c,d,l,h,p,f){var v=t;if("function"===typeof c)v=c(r,v);else if(v instanceof Date)v=h(v);else if(null===v){if(o)return s&&!f?s(r,u.encoder):r;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||i.isBuffer(v))return s?[p(f?r:s(r,u.encoder))+"="+p(s(v,u.encoder))]:[p(r)+"="+p(String(v))];var m,y=[];if("undefined"===typeof v)return y;if(Array.isArray(c))m=c;else{var b=Object.keys(v);m=d?b.sort(d):b}for(var g=0;g<m.length;++g){var k=m[g];a&&null===v[k]||(y=Array.isArray(v)?y.concat(e(v[k],n(r,k),n,o,a,s,c,d,l,h,p,f)):y.concat(e(v[k],r+(l?"."+k:"["+k+"]"),n,o,a,s,c,d,l,h,p,f)))}return y};e.exports=function(e,t){var r=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var d="undefined"===typeof s.delimiter?u.delimiter:s.delimiter,l="boolean"===typeof s.strictNullHandling?s.strictNullHandling:u.strictNullHandling,h="boolean"===typeof s.skipNulls?s.skipNulls:u.skipNulls,p="boolean"===typeof s.encode?s.encode:u.encode,f="function"===typeof s.encoder?s.encoder:u.encoder,v="function"===typeof s.sort?s.sort:null,m="undefined"!==typeof s.allowDots&&s.allowDots,y="function"===typeof s.serializeDate?s.serializeDate:u.serializeDate,b="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:u.encodeValuesOnly;if("undefined"===typeof s.format)s.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,s.format))throw new TypeError("Unknown format option provided.");var g,k,w=o.formatters[s.format];"function"===typeof s.filter?r=(k=s.filter)("",r):Array.isArray(s.filter)&&(g=k=s.filter);var x,O=[];if("object"!==n(r)||null===r)return"";x=s.arrayFormat in a?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var T=a[x];g||(g=Object.keys(r)),v&&g.sort(v);for(var _=0;_<g.length;++_){var C=g[_];h&&null===r[C]||(O=O.concat(c(r[C],C,T,l,h,p?f:null,k,v,m,y,w,b)))}var R=O.join(d),S=!0===s.addQueryPrefix?"?":"";return R.length>0?S+R:""}},function(e,t,r){"use strict";var n=r(56),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,u=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var c=0;null!==(a=o.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[])[u]=n:o[s]=n}n=o}return n}(u,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"===typeof r.depth?r.depth:o.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var s="string"===typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,a),u=0;u<s.length;++u){var c,d,l=s[u],h=l.indexOf("]="),p=-1===h?l.indexOf("="):h+1;-1===p?(c=t.decoder(l,o.decoder),d=t.strictNullHandling?null:""):(c=t.decoder(l.slice(0,p),o.decoder),d=t.decoder(l.slice(p+1),o.decoder)),i.call(r,c)?r[c]=[].concat(r[c]).concat(d):r[c]=d}return r}(e,r):e,u=r.plainObjects?Object.create(null):{},c=Object.keys(s),d=0;d<c.length;++d){var l=c[d],h=a(l,s[l],r);u=n.merge(u,h,r)}return n.compact(u)}},function(e,t,r){"use strict";var n=r(32),i=r(19).capitalize,o=r(31),a=o.stringToBase64,s=o.utf16ToBase64,u=o.urlencodeBase64,c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",a=n["Hmac"+r.toUpperCase()](e,t);if(o){var s="binary"===o?"Latin1":i(o);return a.toString(n.enc[i(s)])}return a};e.exports={hash:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md5",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex",o=n[t.toUpperCase()](e);return"binary"===r?o:o.toString(n.enc[i(r)])},hmac:c,jwt:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HS256",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sha256",i=[u(a(JSON.stringify({alg:r,typ:"JWT"}))),u(a(JSON.stringify(e)))].join(".");return[i,u(s(c(i,t,n,"utf16")))].join(".")}}},function(e,t,r){"use strict";var n=r(58),i=n.sleep,o=n.now;e.exports={throttle:function e(t){var r=o(),n="undefined"!==typeof t.numTokens?t.numTokens:t.capacity,a=!1,s=[];return Object.assign(function(e){if(s.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(function(){var u,c=(u=regeneratorRuntime.mark(function u(c,d){var l,h,p,f,v;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,s.push({cost:e,resolve:c,reject:d}),a){u.next=15;break}a=!0;case 4:if(!(s.length>0)){u.next=14;break}return(t.capacity?n>0:n>=0)&&s.length>0&&(l=s[0],h=l.cost,p=l.resolve,l.reject,h=h||t.defaultCost,n>=Math.min(h,t.capacity)&&(n-=h,s.shift(),p())),f=o(),v=f-r,r=f,n=Math.min(t.capacity,n+v*t.refillRate),u.next=12,i(t.delay);case 12:u.next=4;break;case 14:a=!1;case 15:u.next=20;break;case 17:u.prev=17,u.t0=u.catch(0),d(u.t0);case 20:case"end":return u.stop()}},u,this,[[0,17]])}),function(){var e=this,t=arguments;return new Promise(function(r,n){var i=u.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})});return function(e,t){return c.apply(this,arguments)}}())},t,{configure:function(r){return e(Object.assign({},t,r))}})}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){var t=e.slice(0,-1),r=e.slice(-1),n=60;return"y"===r?n=31536e3:"M"===r?n=2592e3:"w"===r?n=604800:"d"===r?n=86400:"h"===r&&(n=3600),t*n};e.exports={aggregate:function(e){var t={},r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=n(a.value,2),c=u[0],d=u[1];d>0&&(t[c]=(t[c]||0)+d)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return Object.keys(t).map(function(e){return[parseFloat(e),parseFloat(t[e])]})},parseTimeframe:i,buildOHLCVC:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=1e3*i(t),a=[],s=[0,1,2,3,4,5,6],u=s[0],c=s[2],d=s[3],l=s[4],h=s[5],p=s[6],f=Math.min(e.length-1,n),v=0;v<=f;v++){var m=e[v];if(!(m.timestamp<r)){var y=Math.floor(m.timestamp/o)*o,b=a.length-1;-1===b||y>=a[b][u]+o?a.push([y,m.price,m.price,m.price,m.price,m.amount,1]):(a[b][c]=Math.max(a[b][c],m.price),a[b][d]=Math.min(a[b][d],m.price),a[b][l]=m.price,a[b][h]+=m.amount,a[b][p]++)}}return a}}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exchange=t,this.symbol=r,this.market=t.markets[r]}var t,r,i;return t=e,(r=[{key:"amountToPrecision",value:function(e){return this.exchange.amountToPrecision(this.symbol,e)}},{key:"createLimitBuyOrder",value:function(e,t){return this.exchange.createLimitBuyOrder(this.symbol,e,t)}},{key:"createLimitSellOrder",value:function(e,t){return this.exchange.createLimitSellOrder(this.symbol,e,t)}}])&&n(t.prototype,r),i&&n(t,i),e}()},function(e,t,r){var n;!function(i){"use strict";function o(e){var t=e&&e.Promise||i.Promise,r=e&&e.XMLHttpRequest||i.XMLHttpRequest,n=i;return function(){var e=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(e){if(!e.fetch){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};h.prototype.append=function(e,t){e=c(e),t=d(t);var r=this.map[e];this.map[e]=r?r+","+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},n.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var s=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];k.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=b,e.Response=k,e.fetch=function(e,i){return new t(function(t,o){var a=new b(e,i),s=new r;s.onload=function(){var e,r,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",r=new h,e.split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var i=t.join(":").trim();r.append(n,i)}}),r)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;t(new k(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(a.method,a.url,!0),"include"===a.credentials&&(s.withCredentials=!0),"responseType"in s&&n.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return t.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new t(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function v(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(n.arrayBuffer&&n.blob&&o(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||t.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,r,n,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=new FileReader,n=f(r),r.readAsText(e),n;if(this._bodyArrayBuffer)return t.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),s.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function k(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof e?e:this),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}("undefined"===typeof self?this:self)},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"_1broker",name:"1Broker",countries:"US",rateLimit:1500,version:"v2",has:{publicAPI:!1,CORS:!0,fetchTrades:!1,fetchOHLCV:!0},timeframes:{"1m":"60","15m":"900","1h":"3600","1d":"86400"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766021-420bd9fc-5ecb-11e7-8ed6-56d0081efed2.jpg",api:"https://1broker.com/api",www:"https://1broker.com",doc:"https://1broker.com/?c=en/content/api-documentation"},requiredCredentials:{apiKey:!0,secret:!1},api:{private:{get:["market/bars","market/categories","market/details","market/list","market/quotes","market/ticks","order/cancel","order/create","order/open","position/close","position/close_cancel","position/edit","position/history","position/open","position/shared/get","social/profile_statistics","social/profile_trades","user/bitcoin_deposit_address","user/details","user/overview","user/quota_status","user/transaction_log"]}}})}},{key:"fetchCategories",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetMarketCategories();case 2:for(t=e.sent,r=t.response,n=[],i=0;i<r.length;i++)r[i]&&n.push(r[i]);return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchMarkets",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.fetchCategories();case 3:r=e.sent,n=[],i=0;case 6:if(!(i<r.length)){e.next=15;break}return o=r[i],e.next=10,t.privateGetMarketList({category:o.toLowerCase()});case 10:for(a=e.sent,s=0;s<a.response.length;s++)u=a.response[s],c=u.symbol,d=void 0,l=void 0,h=void 0,"FOREX"===o||"CRYPTO"===o?(d=u.name,p=d.split("/"),l=p[0],h=p[1]):d=(l=c)+"/"+(h="USD"),l=t.commonCurrencyCode(l),h=t.commonCurrencyCode(h),n.push({id:c,symbol:d,base:l,quote:h,info:u});case 12:i++,e.next=6;break;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserOverview();case 5:for(t=e.sent,r=t.response,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],n[a]=this.account();return s=this.safeFloat(r,"balance"),n.BTC.free=s,n.BTC.total=s,e.abrupt("return",this.parseBalance(n));case 14:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>1&&void 0!==d[1]?d[1]:void 0,r=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetMarketQuotes(this.extend({symbols:this.marketId(t)},r));case 6:return n=e.sent,i=n.response[0],o=this.parse8601(i.updated),a=this.safeFloat(i,"bid"),s=this.safeFloat(i,"ask"),u=[a,void 0],c=[s,void 0],e.abrupt("return",{timestamp:o,datetime:this.iso8601(o),bids:[u],asks:[c],nonce:void 0});case 14:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchTrades",value:(m=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new d(this.id+" fetchTrades () method not implemented yet");case 1:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetMarketBars(this.extend({symbol:this.marketId(t),resolution:60,limit:1},r));case 5:return n=e.sent,i=n.response[0],o=this.parse8601(i.date),a=this.safeFloat(i,"o"),s=this.safeFloat(i,"c"),u=s-a,e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"h"),low:this.safeFloat(i,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:void 0,change:u,percentage:u/a*100,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.date),parseFloat(e.o),parseFloat(e.h),parseFloat(e.l),parseFloat(e.c),void 0]}},{key:"fetchOHLCV",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,resolution:this.timeframes[r]},"undefined"!==typeof n&&(s.date_start=this.iso8601(n)),"undefined"!==typeof i&&(s.limit=i),e.next=12,this.privateGetMarketBars(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.response,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t),margin:i,direction:"sell"===n?"short":"long",leverage:1,type:n},"limit"===r?s.price=o:s.type+="_market",e.next=8,this.privateGetOrderCreate(this.extend(s,a));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.response.order_id});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.checkRequiredCredentials();var o=this.urls.api+"/"+this.version+"/"+e+".php",a=this.extend({token:this.apiKey},r);return{url:o+="?"+this.urlencode(a),method:t,body:i,headers:n}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("warning"in(s=e.sent))){e.next=11;break}if(!s.warning){e.next=11;break}throw new c(this.id+" "+this.json(s));case 11:if(!("error"in s)){e.next=14;break}if(!s.error){e.next=14;break}throw new c(this.id+" "+this.json(s));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(16);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s,u,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"allcoin",name:"Allcoin",countries:"CA",has:{CORS:!1},extension:"",urls:{logo:"https://user-images.githubusercontent.com/1294454/31561809-c316b37c-b061-11e7-8d5a-b547b4d730eb.jpg",api:{web:"https://www.allcoin.com",public:"https://api.allcoin.com/api",private:"https://api.allcoin.com/api"},www:"https://www.allcoin.com",doc:"https://www.allcoin.com/About/APIReference"},api:{web:{get:["Home/MarketOverViewDetail/"]},public:{get:["depth","kline","ticker","trades"]},private:{post:["batch_trade","cancel_order","order_history","order_info","orders_info","repayment","trade","trade_history","userinfo"]}}})}},{key:"fetchMarkets",value:(u=regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.webGetHomeMarketOverViewDetail();case 3:for(r=e.sent,n=r.marketCoins,i=0;i<n.length;i++)for(o=n[i].Markets,a=0;a<o.length;a++)s=o[a].Market,u=s.Primary,c=s.Secondary,d=u.toLowerCase(),l=c.toLowerCase(),h=d+"_"+l,p=u+"/"+c,f=s.TradeEnabled&&s.BuyEnabled&&s.SellEnabled,t.push({id:h,symbol:p,base:u,quote:c,baseId:d,quoteId:l,active:f,type:"spot",spot:!0,future:!1,maker:s.AskFeeRate,taker:s.AskFeeRate,precision:{amount:s.PrimaryDigits,price:s.SecondaryDigits},limits:{amount:{min:s.MinTradeAmount,max:s.MaxTradeAmount},price:{min:s.MinOrderPrice,max:s.MaxOrderPrice},cost:{min:void 0,max:void 0}},info:s});return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=u.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(){return c.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return-1===e?"canceled":0===e?"open":1===e?"open":2===e?"closed":10===e?"canceled":e}},{key:"getCreateDateField",value:function(){return"create_data"}},{key:"getOrdersField",value:function(){return"order"}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"anxpro",name:"ANXPro",countries:["JP","SG","HK","NZ"],version:"2",rateLimit:1500,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27765983-fd8595da-5ec9-11e7-82e3-adb3ab8c2612.jpg",api:"https://anxpro.com/api",www:"https://anxpro.com",doc:["http://docs.anxv2.apiary.io","https://anxpro.com/pages/api"]},api:{public:{get:["{currency_pair}/money/ticker","{currency_pair}/money/depth/full","{currency_pair}/money/trade/fetch"]},private:{post:["{currency_pair}/money/order/add","{currency_pair}/money/order/cancel","{currency_pair}/money/order/quote","{currency_pair}/money/order/result","{currency_pair}/money/orders","money/{currency}/address","money/{currency}/send_simple","money/info","money/trade/list","money/wallet/history"]}},markets:{"BTC/USD":{id:"BTCUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",multiplier:1e5},"BTC/HKD":{id:"BTCHKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD",multiplier:1e5},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",multiplier:1e5},"BTC/CAD":{id:"BTCCAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD",multiplier:1e5},"BTC/AUD":{id:"BTCAUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD",multiplier:1e5},"BTC/SGD":{id:"BTCSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",multiplier:1e5},"BTC/JPY":{id:"BTCJPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY",multiplier:1e5},"BTC/GBP":{id:"BTCGBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",multiplier:1e5},"BTC/NZD":{id:"BTCNZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD",multiplier:1e5},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",multiplier:1e5},"STR/BTC":{id:"STRBTC",symbol:"STR/BTC",base:"STR",quote:"BTC",multiplier:1e8},"XRP/BTC":{id:"XRPBTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",multiplier:1e8},"DOGE/BTC":{id:"DOGEBTC",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",multiplier:1e8}},fees:{trading:{maker:.003,taker:.006}}})}},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privatePostMoneyInfo();case 3:for(t=e.sent,r=t.data,n=Object.keys(r.Wallets),i={info:r},o=0;o<n.length;o++)a=n[o],s=this.account(),a in r.Wallets&&(u=r.Wallets[a],s.free=parseFloat(u.Available_Balance.value),s.total=parseFloat(u.Balance.value),s.used=s.total-s.free),i[a]=s;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetCurrencyPairMoneyDepthFull(this.extend({currency_pair:this.marketId(t)},r));case 4:return n=e.sent,i=n.data,o=parseInt(i.dataUpdateTime),a=parseInt(o/1e3),e.abrupt("return",this.parseOrderBook(i,a,"bids","asks","price","amount"));case 9:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.publicGetCurrencyPairMoneyTicker(this.extend({currency_pair:this.marketId(t)},r));case 3:return n=e.sent,i=n.data,o=parseInt(i.dataUpdateTime),a=parseInt(o/1e3),s=this.safeFloat(i.buy,"value"),u=this.safeFloat(i.sell,"value"),c=parseFloat(i.vol.value),d=parseFloat(i.last.value),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:parseFloat(i.high.value),low:parseFloat(i.low.value),bid:s,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:parseFloat(i.avg.value),baseVolume:c,quoteVolume:void 0,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:void 0,r.length>3&&void 0!==r[3]?r[3]:{},new u(this.id+" switched off the trades endpoint, see their docs at http://docs.anxv2.apiary.io/reference/market-data/currencypairmoneytradefetch-disabled");case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s=this.market(t),u={currency_pair:s.id,amount_int:parseInt(1e8*i)},"limit"===r&&(u.price_int=parseInt(o*s.multiplier)),u.type="buy"===n?"bid":"ask",e.next=8,this.privatePostCurrencyPairMoneyOrderAdd(this.extend(u,a));case 8:return c=e.sent,e.abrupt("return",{info:c,id:c.data});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCurrencyPairMoneyOrderCancel({oid:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getAmountMultiplier",value:function(e){return"BTC"===e?1e8:"LTC"===e?1e8:"STR"===e?1e8:"XRP"===e?1e8:"DOGE"===e?1e8:100}},{key:"withdraw",value:(l=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.getAmountMultiplier(t),e.next=8,this.privatePostMoneyCurrencySendSimple(this.extend({currency:t,amount_int:parseInt(r*o),address:n},i));case 8:return a=e.sent,e.abrupt("return",{info:a,id:a.data.transactionId});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),s=this.omit(n,this.extractParams(e)),u=this.urls.api+"/"+this.version+"/"+a;if("public"===t)Object.keys(s).length&&(u+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.nonce();o=this.urlencode(this.extend({nonce:c},s));var d=this.base64ToBinary(this.secret),l=a+"\0"+o,h=this.hmac(this.encode(l),d,"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(h)}}return{url:u,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if("undefined"===typeof(s=e.sent)){e.next=12;break}if(!("result"in s)){e.next=12;break}if("success"!==s.result){e.next=12;break}return e.abrupt("return",s);case 12:throw new u(this.id+" "+this.json(s));case 13:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(60);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"anybits",name:"Anybits",countries:"IE",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41388454-ae227544-6f94-11e8-82a4-127d51d34903.jpg",api:"https://anybits.com/api",www:"https://anybits.com",doc:"https://anybits.com/help/api",fees:"https://anybits.com/help/fees"},api:{public:{get:["assets/currencies","assets/pairs","ticker","orderbook","trades"]},private:{post:["balances","order/cancel","order/new","order/status","orders","orders/history","deposit/address","withdraw","withdrawal/status","transactions/history","vouchers","vouchers/create","vouchers/redeem"]}},fees:{trading:{maker:.0015,taker:.0025}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.DDoSProtection,h=u.ExchangeNotAvailable,p=u.InvalidOrder,f=u.OrderNotFound,v=u.PermissionDenied,m=u.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F,A;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",has:{CORS:!1,publicAPI:!1,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","8h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/34902611-2be8bf1a-f830-11e7-91a2-11b2f292e750.jpg",api:"https://api.bibox.com",www:"https://www.bibox.com",doc:["https://github.com/Biboxcom/api_reference/wiki/home_en","https://github.com/Biboxcom/api_reference/wiki/api_reference"],fees:"https://bibox.zendesk.com/hc/en-us/articles/115004417013-Fee-Structure-on-Bibox"},api:{public:{post:["mdata"],get:["mdata"]},private:{post:["user","orderpending","transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2021:m,2015:d,2027:m,2033:f,2067:p,2068:p,3012:d,3024:v,3025:d,4000:h,4003:l},commonCurrencies:{KEY:"Bihu"}})}},{key:"fetchMarkets",value:(A=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetMdata(this.extend({cmd:"marketAll"},t));case 3:for(r=e.sent,n=r.result,i=[],o=0;o<n.length;o++)a=n[o],s=a.coin_symbol,u=a.currency_symbol,c=this.commonCurrencyCode(s),d=this.commonCurrencyCode(u),l=c+"/"+d,h=c+"_"+d,p={amount:4,price:8},i.push({id:h,symbol:l,base:c,quote:d,baseId:c,quoteId:d,active:!0,info:a,lot:Math.pow(10,-p.amount),precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp"),n=void 0;if(t)n=t.symbol;else{var i=e.coin_symbol,o=e.currency_symbol;n=this.commonCurrencyCode(i)+"/"+this.commonCurrencyCode(o)}var a=this.safeFloat(e,"last"),s=this.safeFloat(e,"change"),u=void 0;u="vol"in e?this.safeFloat(e,"vol"):this.safeFloat(e,"vol24H");var c=void 0;"undefined"!==typeof a&&"undefined"!==typeof s&&(c=a-s);var d=void 0;return"undefined"!==typeof r&&(d=this.iso8601(r)),{symbol:n,timestamp:r,datetime:d,high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:c,close:a,last:a,previousClose:void 0,change:s,percentage:this.safeString(e,"percent"),average:void 0,baseVolume:u,quoteVolume:this.safeFloat(e,"amount"),info:e}}},{key:"fetchTicker",value:(F=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMdata(this.extend({cmd:"ticker",pair:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.result,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}},{key:"fetchTickers",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:void 0,r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,this.publicGetMdata(this.extend({cmd:"marketAll"},r));case 4:return n=e.sent,e.abrupt("return",this.parseTickers(n.result,t));case 6:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"time");r=this.safeInteger(e,"createdAt",r);var n=this.safeInteger(e,"side");n=1===(n=this.safeInteger(e,"order_side",n))?"buy":"sell";var i=void 0;if("undefined"===typeof t){var o=this.safeString(e,"pair");if("undefined"===typeof o){var a=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");"undefined"!==typeof a&&"undefined"!==typeof s&&(o=a+"_"+s)}o in this.markets_by_id&&(t=this.markets_by_id[o])}"undefined"!==typeof t&&(i=t.symbol);var u=void 0,c=this.safeFloat(e,"fee"),d=this.safeString(e,"fee_symbol");"undefined"!==typeof d&&(d=d in this.currencies_by_id?this.currencies_by_id[d].code:this.commonCurrencyCode(d));var l=this.safeFloat(e,"price"),h=this.safeFloat(e,"amount"),p=l*h;return"undefined"!==typeof c&&(u={cost:c,currency:d,rate:void 0}),{info:e,id:this.safeString(e,"id"),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:i,type:"limit",takerOrMaker:void 0,side:n,price:l,amount:h,cost:p,fee:u}}},{key:"fetchTrades",value:(B=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a=n||200,e.next=9,this.publicGetMdata(this.extend({cmd:"deals",pair:o.id,size:a},i));case 9:return s=e.sent,e.abrupt("return",this.parseTrades(s.result,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"fetchOrderBook",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:200,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),(o={cmd:"depth",pair:i.id}).size=r,e.next=9,this.publicGetMdata(this.extend(o,n));case 9:return a=e.sent,e.abrupt("return",this.parseOrderBook(a.result,this.safeFloat(a.result,"update_time"),"bids","asks","price","volume"));case 11:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.time,e.open,e.high,e.low,e.close,e.vol]}},{key:"fetchOHLCV",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"1m",n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:1e3,o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.publicGetMdata(this.extend({cmd:"kline",pair:a.id,period:this.timeframes[r],size:i},o));case 9:return s=e.sent,e.abrupt("return",this.parseOHLCVs(s.result,a,r,n,i));case 11:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"fetchCurrencies",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.privatePostTransfer({cmd:"transfer/coinList",body:{}});case 3:for(t=e.sent,r=t.result,n={},i=0;i<r.length;i++)o=r[i],a=o.symbol,s=this.commonCurrencyCode(a),u=8,c=o.enable_deposit,d=o.enable_withdraw,l=!(!c||!d),n[s]={id:a,code:s,info:o,name:o.name,active:l,fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,u)}}};return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchBalance",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostTransfer({cmd:"transfer/assets",body:this.extend({select:1},t)});case 5:r=e.sent,n=r.result,i={info:n},o=void 0,o="assets_list"in n?this.indexBy(n.assets_list,"coin_symbol"):n,a=Object.keys(o);for(s=0;s<a.length;s++)u=a[s],(c=u.toUpperCase()).indexOf("TOTAL_")>=0&&(c=c.slice(6)),c in this.currencies_by_id&&(c=this.currencies_by_id[c].code),d=this.account(),"string"===typeof(l=o[u])?(l=parseFloat(l),d.free=l,d.used=0,d.total=l):(d.free=parseFloat(l.balance),d.used=parseFloat(l.freeze),d.total=this.sum(d.free,d.used)),i[c]=d;return e.abrupt("return",this.parseBalance(i));case 13:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"createOrder",value:(C=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u="limit"===r?2:1,c="buy"===n?1:2,e.next=9,this.privatePostOrderpending({cmd:"orderpending/trade",body:this.extend({pair:s.id,account_type:0,order_type:u,order_side:c,pay_bix:0,amount:i,price:o},a)});case 9:return d=e.sent,e.abrupt("return",{info:d,id:this.safeString(d,"result")});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return C.apply(this,arguments)})},{key:"cancelOrder",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostOrderpending({cmd:"orderpending/cancelTrade",body:this.extend({orders_id:t},r)});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchOrder",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderpending({cmd:"orderpending/order",body:this.extend({id:t},r)});case 6:if(n=e.sent,i=this.safeValue(n,"result"),!this.isEmpty(i)){e.next=10;break}throw new f(this.id+" order "+t+" not found");case 10:return e.abrupt("return",this.parseOrder(i));case 11:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if("undefined"===typeof t){var n=void 0,i=this.safeString(e,"coin_symbol"),o=this.safeString(e,"currency_symbol");"undefined"!==typeof i&&"undefined"!==typeof o&&(n=i+"_"+o),n in this.markets_by_id&&(t=this.markets_by_id[n])}"undefined"!==typeof t&&(r=t.symbol);var a=1===e.order_type?"market":"limit",s=e.createdAt,u=this.safeFloat(e,"price");u=this.safeFloat(e,"deal_price",u);var c=this.safeFloat(e,"deal_amount"),d=this.safeFloat(e,"amount"),l=this.safeFloat(e,"money");l=this.safeFloat(e,"deal_money",l);var h=void 0;"undefined"!==typeof c&&("undefined"!==typeof d&&(h=d-c),"undefined"===typeof l&&(l=u*c));var p=1===e.order_side?"buy":"sell",f=this.safeString(e,"status");return"undefined"!==typeof f&&(f=this.parseOrderStatus(f)),{info:e,id:this.safeString(e,"id"),timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:r,type:a,side:p,price:u,amount:d,cost:l||parseFloat(u)*c,filled:c,remaining:h,status:f,fee:this.safeFloat(e,"fee")}}},{key:"parseOrderStatus",value:function(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e.toLowerCase())}},{key:"fetchOpenOrders",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},o=void 0,a=void 0,"undefined"===typeof t){e.next=11;break}return e.next=9,this.loadMarkets();case 9:o=this.market(t),a=o.id;case 11:return s=n||200,e.next=14,this.privatePostOrderpending({cmd:"orderpending/orderPendingList",body:this.extend({pair:a,account_type:0,page:1,size:s},i)});case 14:return u=e.sent,c=this.safeValue(u.result,"items",[]),e.abrupt("return",this.parseOrders(c,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchClosedOrders",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:200,i=u.length>3&&void 0!==u[3]?u[3]:{},"undefined"!==typeof t){e.next=6;break}throw new c(this.id+" fetchClosedOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),e.next=11,this.privatePostOrderpending({cmd:"orderpending/pendingHistoryList",body:this.extend({pair:o.id,account_type:0,page:1,size:n},i)});case 11:return a=e.sent,s=this.safeValue(a.result,"items",[]),e.abrupt("return",this.parseOrders(s,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchMyTrades",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},t){e.next=6;break}throw new c(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a=n||200,e.next=12,this.privatePostOrderpending({cmd:"orderpending/orderHistoryList",body:this.extend({pair:o.id,account_type:0,page:1,size:a},i)});case 12:return s=e.sent,u=this.safeValue(s.result,"items",[]),e.abrupt("return",this.parseTrades(u,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchDepositAddress",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostTransfer({cmd:"transfer/transferIn",body:this.extend({coin_symbol:n.id},r)});case 6:return i=e.sent,o=this.safeString(i,"result"),a={info:i,address:o},e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"withdraw",value:(g=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(a=this.currency(t),"undefined"!==typeof this.password){e.next=9;break}if("trade_pwd"in o){e.next=9;break}throw new c(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");case 9:if("totp_code"in o){e.next=11;break}throw new c(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");case 11:return s={trade_pwd:this.password,coin_symbol:a.id,amount:r,addr:n},"undefined"!==typeof i&&(s.address_remark=i),e.next=15,this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(s,o)});case 15:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 17:case"end":return e.stop()}},e,this)})),function(e,t,r){return g.apply(this,arguments)})},{key:"fetchFundingFees",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:n={},i={},"undefined"===typeof t&&(t=Object.keys(this.currencies)),o=0;case 8:if(!(o<t.length)){e.next=19;break}return a=t[o],s=this.currency(a),e.next=13,this.privatePostTransfer({cmd:"transfer/transferOutInfo",body:this.extend({coin_symbol:s.id},r)});case 13:u=e.sent,i[a]=u,n[a]=u.result.withdraw_fee;case 16:o++,e.next=8;break;case 19:return e.abrupt("return",{info:i,withdraw:n,deposit:{}});case 20:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0),o=this.urls.api+"/"+this.version+"/"+e,a=this.json([n]);return"public"===t?"GET"!==r?i={cmds:a}:Object.keys(n).length&&(o+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),i={cmds:a,apikey:this.apiKey,sign:this.hmac(this.encode(a),this.encode(this.secret),"md5")}),"undefined"!==typeof i&&(i=this.json(i,{convertArraysToObjects:!0})),{url:o,method:r,body:i,headers:{"Content-Type":"application/json"}}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(o.length>0&&"{"===o[0]){var a=JSON.parse(o);if("error"in a){if("code"in a.error){var s=this.safeString(a.error,"code"),u=this.id+" "+o,d=this.exceptions;throw s in d?new d[s](u):new c(u)}throw new c(this.id+': "error" in response: '+o)}if(!("result"in a))throw new c(this.id+" "+o)}}},{key:"request",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"GET"!==n){e.next=12;break}return e.abrupt("return",s);case 12:return e.abrupt("return",s.result[0]);case 13:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.ExchangeNotAvailable,l=u.InsufficientFunds,h=u.OrderNotFound,p=u.InvalidOrder,f=u.DDoSProtection,v=u.InvalidNonce,m=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F,A,j,M;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"binance",name:"Binance",countries:"JP",rateLimit:500,has:{fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,fetchFundingFees:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",api:{web:"https://www.binance.com",wapi:"https://api.binance.com/wapi/v3",public:"https://api.binance.com/api/v1",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:"https://www.binance.com/?ref=10205187",doc:"https://github.com/binance-exchange/binance-official-api-docs/blob/master/rest-api.md",fees:["https://binance.zendesk.com/hc/en-us/articles/115000429332","https://support.binance.com/hc/en-us/articles/115000583311"]},api:{web:{get:["exchange/public/product"]},wapi:{post:["withdraw"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","withdrawFee"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["exchangeInfo","ping","time","depth","aggTrades","klines","ticker/24hr","ticker/allPrices","ticker/allBookTickers","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["order","openOrders","allOrders","account","myTrades"],post:["order","order/test"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{ADA:1,ADX:4.7,AION:1.9,AMB:11.4,APPC:6.5,ARK:.1,ARN:3.1,AST:10,BAT:18,BCD:1,BCH:.001,BCPT:10.2,BCX:1,BNB:.7,BNT:1.5,BQX:1.6,BRD:6.4,BTC:.001,BTG:.001,BTM:5,BTS:1,CDT:67,CMT:37,CND:47,CTR:5.4,DASH:.002,DGD:.06,DLT:11.7,DNT:51,EDO:2.5,ELF:6.5,ENG:2.1,ENJ:42,EOS:1,ETC:.01,ETF:1,ETH:.01,EVX:2.5,FUEL:45,FUN:85,GAS:0,GTO:20,GVT:.53,GXS:.3,HCC:5e-4,HSR:1e-4,ICN:3.5,ICX:1.3,INS:1.5,IOTA:.5,KMD:.002,KNC:2.6,LEND:54,LINK:12.8,LLT:54,LRC:9.1,LSK:.1,LTC:.01,LUN:.29,MANA:74,MCO:.86,MDA:4.7,MOD:2,MTH:34,MTL:1.9,NAV:.2,NEBL:.01,NEO:0,NULS:2.1,OAX:8.3,OMG:.57,OST:17,POE:88,POWR:8.6,PPT:.25,QSP:21,QTUM:.01,RCN:35,RDN:2.2,REQ:18.1,RLC:4.1,SALT:1.3,SBTC:1,SNGLS:42,SNM:29,SNT:32,STORJ:5.9,STRAT:.1,SUB:7.4,TNB:82,TNT:47,TRIG:6.7,TRX:129,USDT:23,VEN:1.8,VIB:28,VIBE:7.2,WABI:3.5,WAVES:.002,WINGS:9.3,WTC:.5,XLM:.01,XMR:.04,XRP:.25,XVG:.1,XZC:.02,YOYOW:39,ZEC:.005,ZRX:5.7},deposit:{}}},commonCurrencies:{YOYO:"YOYOW",BCC:"BCH",NANO:"XRB"},options:{defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{"-1000":d,"-1013":p,"-1021":v,"-1022":m,"-1100":p,"-2010":c,"-2011":h,"-2013":h,"-2014":m,"-2015":m}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:(M=i(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.serverTime),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)})),function(){return M.apply(this,arguments)})},{key:"fetchMarkets",value:(j=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangeInfo();case 2:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=6;break}return e.next=6,this.loadTimeDifference();case 6:r=t.symbols,n=[],i=0;case 9:if(!(i<r.length)){e.next=31;break}if(o=r[i],"123456"!==(a=o.symbol)){e.next=14;break}return e.abrupt("continue",28);case 14:s=o.baseAsset,u=o.quoteAsset,c=this.commonCurrencyCode(s),d=this.commonCurrencyCode(u),l=c+"/"+d,h=this.indexBy(o.filters,"filterType"),p={base:o.baseAssetPrecision,quote:o.quotePrecision,amount:o.baseAssetPrecision,price:o.quotePrecision},f="TRADING"===o.status,v=-1*Math.log10(p.amount),m={id:a,symbol:l,base:c,quote:d,baseId:s,quoteId:u,info:o,lot:v,active:f,precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:Math.pow(10,-p.price),max:void 0},cost:{min:v,max:void 0}}},"PRICE_FILTER"in h&&(y=h.PRICE_FILTER,m.precision.price=this.precisionFromString(y.tickSize),m.limits.price={min:this.safeFloat(y,"minPrice"),max:this.safeFloat(y,"maxPrice")}),"LOT_SIZE"in h&&(b=h.LOT_SIZE,m.precision.amount=this.precisionFromString(b.stepSize),m.lot=this.safeFloat(b,"stepSize"),m.limits.amount={min:this.safeFloat(b,"minQty"),max:this.safeFloat(b,"maxQty")}),"MIN_NOTIONAL"in h&&(m.limits.cost.min=parseFloat(h.MIN_NOTIONAL.minNotional)),n.push(m);case 28:i++,e.next=9;break;case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s="quote",u=a[o],c=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?c*=i:s="base",{type:o,currency:a[s],rate:u,cost:parseFloat(this.feeToPrecision(e,c))}}},{key:"fetchBalance",value:(A=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccount(t);case 5:for(r=e.sent,n={info:r},i=r.balances,o=0;o<i.length;o++)a=i[o],(s=a.asset)in this.currencies_by_id&&(s=this.currencies_by_id[s].code),(u={free:parseFloat(a.free),used:parseFloat(a.locked),total:0}).total=this.sum(u.free,u.used),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"fetchOrderBook",value:(F=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={symbol:i.id},"undefined"!==typeof r&&(o.limit=r),e.next=9,this.publicGetDepth(this.extend(o,n));case 9:return a=e.sent,(s=this.parseOrderBook(a)).nonce=this.safeInteger(a,"lastUpdateId"),e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"closeTime"),n="undefined"===typeof r?void 0:this.iso8601(r),i=this.findSymbol(this.safeString(e,"symbol"),t),o=this.safeFloat(e,"lastPrice");return{symbol:i,timestamp:r,datetime:n,high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"openPrice"),close:o,last:o,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:(I=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker24hr(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}},{key:"fetchBidsAsks",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:void 0,r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickerBookTicker(r);case 6:return n=e.sent,e.abrupt("return",this.parseTickers(n,t));case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchTickers",value:(E=i(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:void 0,r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker24hr(r);case 6:return n=e.sent,e.abrupt("return",this.parseTickers(n,t));case 8:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,interval:this.timeframes[r]},"undefined"!==typeof n&&(s.startTime=n),"undefined"!==typeof i&&(s.limit=i),e.next=12,this.publicGetKlines(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="T"in e?"T":"time",n=this.safeInteger(e,r),i="p"in e?"p":"price",o=this.safeFloat(e,i),a="q"in e?"q":"qty",s=this.safeFloat(e,a),u="a"in e?"a":"id",c=this.safeString(e,u),d=void 0,l=void 0;"orderId"in e&&(l=this.safeString(e,"orderId")),"m"in e?d=e.m?"sell":"buy":"isBuyer"in e&&(d=e.isBuyer?"buy":"sell");var h=void 0;"commission"in e&&(h={cost:this.safeFloat(e,"commission"),currency:this.commonCurrencyCode(e.commissionAsset)});var p=void 0;return"isMaker"in e&&(p=e.isMaker?"maker":"taker"),{info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,id:c,order:l,type:void 0,takerOrMaker:p,side:d,price:o,cost:o*s,amount:s,fee:h}}},{key:"fetchTrades",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof r&&(a.startTime=r,a.endTime=r+36e5),"undefined"!==typeof n&&(a.limit=n),e.next=11,this.publicGetAggTrades(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled"};return e in t?t[e]:e.toLowerCase()}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"status");"undefined"!==typeof r&&(r=this.parseOrderStatus(r));var n=this.findSymbol(this.safeString(e,"symbol"),t),i=void 0;"time"in e?i=e.time:"transactTime"in e&&(i=e.transactTime);var o=void 0;"undefined"!==typeof i&&(o=this.iso8601(i));var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"origQty"),u=this.safeFloat(e,"executedQty"),c=void 0,d=void 0;"undefined"!==typeof u&&("undefined"!==typeof s&&(c=s-u,this.options.parseOrderToPrecision&&(c=parseFloat(this.amountToPrecision(n,c))),c=Math.max(c,0)),"undefined"!==typeof a&&(d=a*u,this.options.parseOrderToPrecision&&(d=parseFloat(this.costToPrecision(n,d)))));var l=this.safeString(e,"orderId"),h=this.safeString(e,"type");"undefined"!==typeof h&&(h=h.toLowerCase());var p=this.safeString(e,"side");"undefined"!==typeof p&&(p=p.toLowerCase());var f=void 0,v=void 0,m=this.safeValue(e,"fills");if("undefined"!==typeof m&&(v=this.parseTrades(m,t)).length>0){f={cost:v[0].fee.cost,currency:v[0].fee.currency};for(var y=1;y<v.length;y++)f.cost=this.sum(f.cost,v[y].fee.cost)}return{info:e,id:l,timestamp:i,datetime:o,lastTradeTimestamp:void 0,symbol:n,type:h,side:p,price:a,amount:s,cost:d,filled:u,remaining:c,status:r,fee:f,trades:v}}},{key:"createOrder",value:(R=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,f,v,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=y.length>4&&void 0!==y[4]?y[4]:void 0,a=y.length>5&&void 0!==y[5]?y[5]:{},e.next=4,this.loadMarkets();case 4:if(s=this.market(t),u="privatePostOrder",this.safeValue(a,"test",!1)&&(u+="Test",a=this.omit(a,"test")),c=r.toUpperCase(),d={symbol:s.id,quantity:this.amountToString(t,i),type:c,side:n.toUpperCase(),newOrderRespType:this.options.newOrderRespType},l=!1,h=!1,f=!1,"LIMIT"===c?(h=!0,l=!0):"STOP_LOSS"===c||"TAKE_PROFIT"===c?f=!0:"STOP_LOSS_LIMIT"===c||"TAKE_PROFIT_LIMIT"===c?(f=!0,h=!0,l=!0):"LIMIT_MAKER"===c&&(h=!0),!h){e.next=18;break}if("undefined"!==typeof o){e.next=17;break}throw new p(this.id+" createOrder method requires a price argument for a "+r+" order");case 17:d.price=this.priceToPrecision(t,o);case 18:if(l&&(d.timeInForce=this.options.defaultTimeInForce),!f){e.next=26;break}if("undefined"!==typeof(v=this.safeFloat(a,"stopPrice"))){e.next=25;break}throw new p(this.id+" createOrder method requires a stopPrice extra param for a "+r+" order");case 25:d.stopPrice=this.priceToPrecision(t,v);case 26:return e.next=28,this[u](this.extend(d,a));case 28:return m=e.sent,e.abrupt("return",this.parseOrder(m,s));case 30:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return R.apply(this,arguments)})},{key:"fetchOrder",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},r){e.next=4;break}throw new c(this.id+" fetchOrder requires a symbol param");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),o=this.safeValue(n,"origClientOrderId"),a={symbol:i.id},"undefined"!==typeof o?a.origClientOrderId=o:a.orderId=parseInt(t),e.next=12,this.privateGetOrder(this.extend(a,n));case 12:return s=e.sent,e.abrupt("return",this.parseOrder(s,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchOrders",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new c(this.id+" fetchOrders requires a symbol param");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={symbol:o.id},n&&(a.limit=n),e.next=13,this.privateGetAllOrders(this.extend(a,i));case 13:return s=e.sent,e.abrupt("return",this.parseOrders(s,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchOpenOrders",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:void 0,i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:if(o=void 0,a={},"undefined"===typeof t){e.next=13;break}o=this.market(t),a.symbol=o.id,e.next=18;break;case 13:if(!this.options.warnOnFetchOpenOrdersWithoutSymbol){e.next=18;break}throw s=this.symbols,u=s.length,d=parseInt(u/2),new c(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+d.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.');case 18:return e.next=20,this.privateGetOpenOrders(this.extend(a,i));case 20:return l=e.sent,e.abrupt("return",this.parseOrders(l,o,r,n));case 22:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchClosedOrders",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"cancelOrder",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},r){e.next=4;break}throw new c(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),e.next=9,this.privateDeleteOrder(this.extend({symbol:i.id,orderId:parseInt(t)},n));case 9:return o=e.sent,e.abrupt("return",this.parseOrder(o));case 11:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchMyTrades",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new c(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={symbol:o.id},n&&(a.limit=n),e.next=13,this.privateGetMyTrades(this.extend(a,i));case 13:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchDepositAddress",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.wapiGetDepositAddress(this.extend({asset:n.id},r));case 6:if(!("success"in(i=e.sent))){e.next=12;break}if(!i.success){e.next=12;break}return o=this.safeString(i,"address"),a=this.safeString(i,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(o),tag:a,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchFundingFees",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:r={},n={},"undefined"===typeof t&&(t=Object.keys(this.currencies)),i=0;case 8:if(!(i<t.length)){e.next=19;break}return o=t[i],a=this.currency(o),e.next=13,this.wapiGetWithdrawFee({asset:a.id});case 13:s=e.sent,r[o]=this.safeFloat(s,"withdrawFee"),n[o]=s;case 16:i++,e.next=8;break;case 19:return e.abrupt("return",{withdraw:r,deposit:{},info:n});case 20:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"withdraw",value:(b=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),s=n.slice(0,20),u={asset:a.id,address:n,amount:parseFloat(r),name:s},i&&(u.addressTag=i),e.next=11,this.wapiPostWithdraw(this.extend(u,o));case 11:return c=e.sent,e.abrupt("return",{info:c,id:this.safeString(c,"id")});case 13:case"end":return e.stop()}},e,this)})),function(e,t,r){return b.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if(a+="/"+e,"wapi"===t&&(a+=".html"),"userDataStream"===e)o=this.urlencode(n),i={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"};else if("private"===t||"wapi"===t){this.checkRequiredCredentials();var s=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},n));s+="&signature="+this.hmac(this.encode(s),this.encode(this.secret)),i={"X-MBX-APIKEY":this.apiKey},"GET"===r||"DELETE"===r||"wapi"===t?a+="?"+s:(o=s,i["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(418===e||429===e)throw new f(this.id+" "+e.toString()+" "+t+" "+o);if(e>=400){if(o.indexOf("Price * QTY is zero or less")>=0)throw new p(this.id+" order cost = amount * price is zero or less "+o);if(o.indexOf("LOT_SIZE")>=0)throw new p(this.id+" order amount should be evenly divisible by lot size, use this.amountToLots (symbol, amount) "+o);if(o.indexOf("PRICE_FILTER")>=0)throw new p(this.id+" order price exceeds allowed price precision or invalid, use this.priceToPrecision (symbol, amount) "+o)}if(o.length>0&&"{"===o[0]){var a=JSON.parse(o),s=this.safeValue(a,"success",!0);if(!s&&"msg"in a)try{a=JSON.parse(a.msg)}catch(e){a={}}var u=this.safeString(a,"code");if("undefined"!==typeof u){var d=this.exceptions;if(u in d){if("-2015"===u&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new f(this.id+" temporary banned: "+o);var h=this.safeString(a,"msg");if("Order would trigger immediately."===h)throw new p(this.id+" "+o);if("Account has insufficient balance for requested action."===h)throw new l(this.id+" "+o);if("Rest API trading is not enabled."===h)throw new l(this.id+" "+o);throw new d[u](this.id+" "+o)}throw new c(this.id+": unknown error code: "+o+" "+u)}if(!s)throw new c(this.id+": success value false: "+o)}}},{key:"request",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:return s=e.sent,"private"!==r&&"wapi"!==r||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bit2c",name:"Bit2C",countries:"IL",rateLimit:3e3,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS"},"BCH/NIS":{id:"BchNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS"}},fees:{trading:{maker:.005,taker:.005}}})}},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privateGetAccountBalanceV2();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=this.account(),o in t&&(s="AVAILABLE_"+o,a.free=t[s],a.total=t[o],a.used=a.total-a.free),r[o]=a;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetExchangesPairOrderbook(this.extend({pair:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetExchangesPairTicker(this.extend({pair:this.marketId(t)},r));case 3:return n=e.sent,i=this.milliseconds(),o=this.safeFloat(n,"av"),a=this.safeFloat(n,"a"),s=a*o,u=this.safeFloat(n,"ll"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(n,"h"),bidVolume:void 0,ask:this.safeFloat(n,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:o,baseVolume:a,quoteVolume:s,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetExchangesPairTrades(this.extend({pair:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s="privatePostOrderAddOrder",u={Amount:i,Pair:this.marketId(t)},"market"===r?s+="MarketPrice"+this.capitalize(n):(u.Price=o,u.Total=i*o,u.IsBid="buy"===n),e.next=7,this[s](this.extend(u,a));case 7:return c=e.sent,e.abrupt("return",{info:c,id:c.NewOrder.id});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrderCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n);if("public"===t)a+=".json";else{this.checkRequiredCredentials();var s=this.nonce(),u=this.extend({nonce:s},n);o=this.urlencode(u);var c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:this.decode(c)}}return{url:a,method:r,body:o,headers:i}}},{key:"fetchOpenOrders",value:(l=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:void 0,i=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:if("undefined"!==typeof t){e.next=8;break}throw new u(this.id+" fetchOpenOrders() requires a symbol argument");case 8:return o=this.market(t),e.next=11,this.privateGetOrderMyOrders(this.extend({pair:o.id},i));case 11:return a=e.sent,s=this.safeValue(a,o.id,{}),c=this.safeValue(s,"ask"),d=this.safeValue(s,"bid"),e.abrupt("return",this.parseOrders(this.arrayConcat(c,d),o,r,n));case 16:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.created,n=e.price,i=e.amount,o=n*i,a=void 0;"undefined"!==typeof t&&(a=t.symbol);var s=this.safeValue(e,"type");0===s?s="buy":1===s&&(s="sell");var u=this.safeString(e,"id"),c=this.safeString(e,"status");return{id:u,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:c,symbol:a,type:void 0,side:s,price:n,amount:i,filled:void 0,remaining:void 0,cost:o,trades:void 0,fee:void 0,info:e}}},{key:"fetchMyTrades",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a="privateGetOrderOrderhistory",s={},"undefined"!==typeof n&&(s.take=n),s.take=n,"undefined"!==typeof r&&(s.toTime=this.ymd(this.milliseconds(),"."),s.fromTime=this.ymd(r,".")),"undefined"!==typeof t&&(o=this.market(t),s.pair=o.id),e.next=15,this[a](this.extend(s,i));case 15:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=this.safeString(e,"reference");if("undefined"!==typeof c){r=1e3*this.safeInteger(e,"ticks"),i=this.safeFloat(e,"price"),o=this.safeFloat(e,"firstAmount");var d=c.split("|");if("undefined"===typeof t){var l=this.safeString(e,"pair");l in this.markets_by_id[l]?t=this.markets_by_id[l]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}a=d[1],n=d[2],0===(u=this.safeInteger(e,"action"))?u="buy":1===u&&(u="sell"),s=this.safeFloat(e,"feeAmount")}else r=1e3*this.safeInteger(e,"date"),n=this.safeInteger(e,"tid"),i=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");var h=void 0;return"undefined"!==typeof t&&(h=t.symbol),{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:h,order:a,type:void 0,side:u,takerOrMaker:void 0,price:i,amount:o,cost:i*o,fee:{cost:s,currency:"NIS",rate:void 0}}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.InvalidNonce,h=u.InsufficientFunds,p=u.InvalidOrder,f=u.OrderNotFound,v=u.PermissionDenied;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,m,y,b,g,k,w,x,O,T,_,C,R,S;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitbank",name:"bitbank",countries:"JP",version:"v1",has:{fetchOHLCV:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.bitbank.cc",private:"https://api.bitbank.cc"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]}},markets:{"BCH/BTC":{id:"bcc_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bcc",quoteId:"btc"},"BCH/JPY":{id:"bcc_jpy",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bcc",quoteId:"jpy"},"MONA/BTC":{id:"mona_btc",symbol:"MONA/BTC",base:"MONA",quote:"BTC",baseId:"mona",quoteId:"btc"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"XRP/JPY":{id:"xrp_jpy",symbol:"XRP/JPY",base:"XRP",quote:"JPY",baseId:"xrp",quoteId:"jpy"},"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{maker:0,taker:0},funding:{withdraw:{BTC:.001,LTC:.001,XRP:.15,ETH:5e-4,MONA:.001,BCC:.001}}},precision:{price:8,amount:8},exceptions:{20001:d,20002:d,20003:d,20005:d,20004:l,40020:p,40021:p,40025:c,40013:f,40014:f,50008:v,50009:f,50010:f,60001:h,60005:p}})}},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=e.timestamp,n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPairTicker(this.extend({pair:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"fetchOrderBook",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,i=n.data,e.abrupt("return",this.parseOrderBook(i,i.timestamp));case 9:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.executed_at,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=this.costToPrecision(o,n*i),s=this.safeString(e,"transaction_id");s||(s=this.safeString(e,"trade_id"));var u=void 0;return"fee_amount_quote"in e&&(u={currency:t.quote,cost:this.safeFloat(e,"fee_amount_quote")}),{timestamp:r,datetime:this.iso8601(r),symbol:o,id:s,order:this.safeString(e,"order_id"),type:this.safeString(e,"type"),side:e.side,price:n,amount:i,cost:a,fee:u,info:e}}},{key:"fetchTrades",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetPairTransactions(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.data.transactions,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[5],parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])]}},{key:"fetchOHLCV",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"5m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s=this.milliseconds(),s=(s=this.ymd(s)).split("-"),e.next=12,this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend({pair:a.id,candletype:this.timeframes[r],yyyymmdd:s.join("")},o));case 12:return u=e.sent,c=u.data.candlestick[0].ohlcv,e.abrupt("return",this.parseOHLCVs(c,a,r,n,i));case 15:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchBalance",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserAssets(t);case 5:for(r=e.sent,n={info:r},i=r.data.assets,o=0;o<i.length;o++)a=i[o],s=a.asset,u=s,s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),c={free:parseFloat(a.free_amount),used:parseFloat(a.locked_amount),total:parseFloat(a.onhand_amount)},n[u]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"pair"),n=void 0;r&&!t&&r in this.marketsById&&(t=this.marketsById[r]),t&&(n=t.symbol);var i=this.safeInteger(e,"ordered_at"),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"start_amount"),s=this.safeFloat(e,"executed_amount"),u=this.safeFloat(e,"remaining_amount"),c=s*this.safeFloat(e,"average_price"),d=this.safeString(e,"status");d="FULLY_FILLED"===d?"closed":"CANCELED_UNFILLED"===d||"CANCELED_PARTIALLY_FILLED"===d?"canceled":"open";var l=this.safeString(e,"type");"undefined"!==typeof l&&(l=l.toLowerCase());var h=this.safeString(e,"side");return"undefined"!==typeof h&&(h=h.toLowerCase()),{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:n,type:l,side:h,price:o,cost:c,amount:a,filled:s,remaining:u,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:(O=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:if(s=this.market(t),"undefined"!==typeof o){e.next=7;break}throw new p(this.id+" createOrder requires a price argument for both market and limit orders");case 7:return u={pair:s.id,amount:this.amountToString(t,i),price:this.priceToPrecision(t,o),side:n,type:r},e.next=10,this.privatePostUserSpotOrder(this.extend(u,a));case 10:return c=e.sent,d=c.data.order_id,l=this.parseOrder(c.data,s),this.orders[d]=l,e.abrupt("return",l);case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return O.apply(this,arguments)})},{key:"cancelOrder",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostUserSpotCancelOrder(this.extend({order_id:t,pair:i.id},n));case 7:return o=e.sent,e.abrupt("return",o.data);case 9:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchOrder",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateGetUserSpotOrder(this.extend({order_id:t,pair:i.id},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o.data));case 9:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={pair:o.id},n&&(a.count=n),r&&(a.since=parseInt(r/1e3)),e.next=12,this.privateGetUserSpotActiveOrders(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s.data.orders,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchMyTrades",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},o=void 0,"undefined"===typeof t){e.next=9;break}return e.next=8,this.loadMarkets();case 8:o=this.market(t);case 9:return a={},"undefined"!==typeof o&&(a.pair=o.id),"undefined"!==typeof n&&(a.count=n),"undefined"!==typeof r&&(a.since=parseInt(r/1e3)),e.next=15,this.privateGetUserSpotTradeHistory(this.extend(a,i));case 15:return s=e.sent,e.abrupt("return",this.parseTrades(s.data.trades,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchDepositAddress",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetUserWithdrawalAccount(this.extend({asset:n.id},r));case 6:return i=e.sent,o=i.data.accounts,a=this.safeString(o[0],"address"),e.abrupt("return",{currency:n,address:a,tag:void 0,info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"withdraw",value:(y=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>3&&void 0!==s[3]?s[3]:void 0,"uuid"in(i=s.length>4&&void 0!==s[4]?s[4]:{})){e.next=4;break}throw new c(this.id+" uuid is required for withdrawal");case 4:return e.next=6,this.loadMarkets();case 6:return o=this.currency(t),e.next=9,this.privatePostUserRequestWithdrawal(this.extend({asset:o.id,amount:r},i));case 9:return a=e.sent,e.abrupt("return",{info:a,id:a.data.txid});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return y.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),s=this.urls.api[t]+"/";if("public"===t)s+=this.implodeParams(e,n),Object.keys(a).length&&(s+="?"+this.urlencode(a));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=u;s+=this.version+"/"+this.implodeParams(e,n),"POST"===r?c+=o=this.json(a):(c+="/"+this.version+"/"+e,Object.keys(a).length&&(s+="?"+(a=this.urlencode(a)),c+="?"+a)),i={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":u,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:s,method:r,body:o,headers:i}}},{key:"request",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,d,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:"public",n=m.length>2&&void 0!==m[2]?m[2]:"GET",i=m.length>3&&void 0!==m[3]?m[3]:{},o=m.length>4&&void 0!==m[4]?m[4]:void 0,a=m.length>5&&void 0!==m[5]?m[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,u=this.safeInteger(s,"success"),d=this.safeValue(s,"data"),u&&d){e.next=21;break}if(l={10000:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed "},h=this.exceptions,p=this.safeString(d,"code"),f=this.safeString(l,p,"Error"),"undefined"===typeof(v=this.safeValue(h,p))){e.next=20;break}throw new v(f);case 20:throw new c(this.id+" "+this.json(s));case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.InvalidNonce,d=u.InsufficientFunds,l=u.AuthenticationError,h=u.InvalidOrder,p=u.ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://bitbay.net/API/Public",private:"https://bitbay.net/API/Trading/tradingApi.php"},doc:["https://bitbay.net/public-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API"],fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]}},markets:{"BTC/USD":{id:"BTCUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"BTC",quoteId:"USD"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN",baseId:"BTC",quoteId:"PLN"},"LTC/USD":{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN",baseId:"LTC",quoteId:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"LTC",quoteId:"BTC"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/PLN":{id:"ETHPLN",symbol:"ETH/PLN",base:"ETH",quote:"PLN",baseId:"ETH",quoteId:"PLN"},"ETH/BTC":{id:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"ETH",quoteId:"BTC"},"LSK/USD":{id:"LSKUSD",symbol:"LSK/USD",base:"LSK",quote:"USD",baseId:"LSK",quoteId:"USD"},"LSK/EUR":{id:"LSKEUR",symbol:"LSK/EUR",base:"LSK",quote:"EUR",baseId:"LSK",quoteId:"EUR"},"LSK/PLN":{id:"LSKPLN",symbol:"LSK/PLN",base:"LSK",quote:"PLN",baseId:"LSK",quoteId:"PLN"},"LSK/BTC":{id:"LSKBTC",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"LSK",quoteId:"BTC"},"BCH/USD":{id:"BCCUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCC",quoteId:"USD"},"BCH/EUR":{id:"BCCEUR",symbol:"BCH/EUR",base:"BCH",quote:"EUR",baseId:"BCC",quoteId:"EUR"},"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN",baseId:"BCC",quoteId:"PLN"},"BCH/BTC":{id:"BCCBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"BCC",quoteId:"BTC"},"BTG/USD":{id:"BTGUSD",symbol:"BTG/USD",base:"BTG",quote:"USD",baseId:"BTG",quoteId:"USD"},"BTG/EUR":{id:"BTGEUR",symbol:"BTG/EUR",base:"BTG",quote:"EUR",baseId:"BTG",quoteId:"EUR"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN",baseId:"BTG",quoteId:"PLN"},"BTG/BTC":{id:"BTGBTC",symbol:"BTG/BTC",base:"BTG",quote:"BTC",baseId:"BTG",quoteId:"BTC"},"DASH/USD":{id:"DASHUSD",symbol:"DASH/USD",base:"DASH",quote:"USD",baseId:"DASH",quoteId:"USD"},"DASH/EUR":{id:"DASHEUR",symbol:"DASH/EUR",base:"DASH",quote:"EUR",baseId:"DASH",quoteId:"EUR"},"DASH/PLN":{id:"DASHPLN",symbol:"DASH/PLN",base:"DASH",quote:"PLN",baseId:"DASH",quoteId:"PLN"},"DASH/BTC":{id:"DASHBTC",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"DASH",quoteId:"BTC"},"GAME/USD":{id:"GAMEUSD",symbol:"GAME/USD",base:"GAME",quote:"USD",baseId:"GAME",quoteId:"USD"},"GAME/EUR":{id:"GAMEEUR",symbol:"GAME/EUR",base:"GAME",quote:"EUR",baseId:"GAME",quoteId:"EUR"},"GAME/PLN":{id:"GAMEPLN",symbol:"GAME/PLN",base:"GAME",quote:"PLN",baseId:"GAME",quoteId:"PLN"},"GAME/BTC":{id:"GAMEBTC",symbol:"GAME/BTC",base:"GAME",quote:"BTC",baseId:"GAME",quoteId:"BTC"},"XRP/USD":{id:"XRPUSD",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"XRP",quoteId:"USD"},"XRP/EUR":{id:"XRPEUR",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"XRP",quoteId:"EUR"},"XRP/PLN":{id:"XRPPLN",symbol:"XRP/PLN",base:"XRP",quote:"PLN",baseId:"XRP",quoteId:"PLN"},"XRP/BTC":{id:"XRPBTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"XRP",quoteId:"BTC"},"XIN/BTC":{id:"XINBTC",symbol:"XIN/BTC",base:"XIN",quote:"BTC",baseId:"XIN",quoteId:"BTC"}},fees:{trading:{maker:.003,taker:.0043},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},exceptions:{400:p,401:h,402:h,403:h,404:h,405:h,406:d,408:h,501:l,502:l,503:c,504:p,505:l,506:l,509:p,510:p}})}},{key:"fetchBalance",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostInfo();case 3:if(!("balances"in(t=e.sent))){e.next=10;break}for(r=t.balances,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=this.currencies[a],u=s.id,c=this.account(),u in r&&(c.free=parseFloat(r[u].available),c.used=parseFloat(r[u].locked),c.total=this.sum(c.free,c.used)),n[a]=c;return e.abrupt("return",this.parseBalance(n));case 10:throw new p(this.id+" empty balance response "+this.json(t));case 11:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetIdOrderbook(this.extend({id:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchTicker",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetIdTicker(this.extend({id:this.marketId(t)},r));case 3:return n=e.sent,i=this.milliseconds(),o=this.safeFloat(n,"volume"),a=this.safeFloat(n,"vwap"),s=o*a,u=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"max"),low:this.safeFloat(n,"min"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:a,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(n,"average"),baseVolume:o,quoteVolume:s,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetIdTrades(this.extend({id:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"createOrder",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},"limit"===r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return s=this.market(t),e.abrupt("return",this.privatePostTrade(this.extend({type:n,currency:s.baseId,amount:i,payment_currency:s.quoteId,rate:o},a)));case 6:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"isFiat",value:function(e){return e in{USD:!0,EUR:!0,PLN:!0}}},{key:"withdraw",value:(f=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=void 0,s=this.currency(t),u={currency:s.id,quantity:r},this.isFiat(t)?a="privatePostWithdraw":(a="privatePostTransfer","undefined"!==typeof i&&(n+="?dt="+i.toString()),u.address=n),e.next=11,this[a](this.extend(u,o));case 11:return c=e.sent,e.abrupt("return",{info:c,id:void 0});case 13:case"end":return e.stop()}},e,this)})),function(e,t,r){return f.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t){var s=this.omit(n,this.extractParams(e));a+="/"+this.implodeParams(e,n)+".json",a+="?"+this.urlencode(s)}else this.checkRequiredCredentials(),o=this.urlencode(this.extend({method:e,moment:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(o),this.encode(this.secret),"sha512")};return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("code"in a){var s=a.code,u=this.id+" "+this.json(a),c=this.exceptions;throw s in this.exceptions?new c[s](u):new p(u)}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(22),c=r(0),d=c.ExchangeError,l=c.NotSupported,h=c.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,p,f,v,m,y,b,g,k,w,x,O,T,_;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitfinex2",name:"Bitfinex v2",countries:"VG",version:"v2",has:{CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchDepositAddress:!1,fetchClosedOrders:!1,fetchFundingFees:!1,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v2/docs","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}/{side}/{section}","stats1/{key}:{size}:{symbol}/long/last","stats1/{key}:{size}:{symbol}/long/hist","stats1/{key}:{size}:{symbol}/short/last","stats1/{key}:{size}:{symbol}/short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"],post:["calc/trade/avg"]},private:{post:["auth/r/wallets","auth/r/orders/{symbol}","auth/r/orders/{symbol}/new","auth/r/orders/{symbol}/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/positions","auth/r/funding/offers/{symbol}","auth/r/funding/offers/{symbol}/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/info/margin/{key}","auth/r/info/funding/{key}","auth/r/movements/{currency}/hist","auth/r/stats/perf:{timeframe}/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/r/ledgers/{symbol}/hist"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:5e-4,BCH:5e-4,ETH:.01,EOS:.1,LTC:.001,OMG:.1,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:.04,QTM:.01,EDO:.5,DAT:1,AVT:.5,SAN:.1,USDT:5,SPK:9.2784,BAT:9.0883,GNT:8.2881,SNT:14.303,QASH:3.2428,YYW:18.055}}}})}},{key:"isFiat",value:function(e){return e in{USD:"USD",EUR:"EUR"}}},{key:"getCurrencyId",value:function(e){return"f"+e}},{key:"fetchMarkets",value:(_=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.v1GetSymbolsDetails();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.pair.toUpperCase(),a=o.slice(0,3),s=o.slice(3,6),u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,o="t"+o,a=this.getCurrencyId(a),s=this.getCurrencyId(s),l={price:i.price_precision,amount:i.price_precision},(h={amount:{min:this.safeFloat(i,"minimum_order_size"),max:this.safeFloat(i,"maximum_order_size")},price:{min:Math.pow(10,-l.price),max:Math.pow(10,l.price)}}).cost={min:h.amount.min*h.price.min,max:void 0},r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:!0,precision:l,limits:h,lot:Math.pow(10,-l.amount),info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchBalance",value:(T=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAuthRWallets();case 5:for(r=e.sent,n=this.safeString(t,"type","exchange"),i={info:r},o=0;o<r.length;o++)a=r[o],s=a[0],u=a[1],c=a[2],d=a[4],s===n&&(l=u,u in this.currencies_by_id?l=this.currencies_by_id[u].code:"t"===u[0]&&(u=u.slice(1),l=u.toUpperCase(),l=this.commonCurrencyCode(l)),(h=this.account()).total=c,d?(h.free=d,h.used=h.total-h.free):0===d?(h.free=0,h.used=c):h.free=c,i[l]=h);return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchOrderBook",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>1&&void 0!==l[1]?l[1]:void 0,r=l.length>2&&void 0!==l[2]?l[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBookSymbolPrecision(this.extend({symbol:this.marketId(t),precision:"R0"},r));case 6:for(n=e.sent,i=this.milliseconds(),o={bids:[],asks:[],timestamp:i,datetime:this.iso8601(i),nonce:void 0},a=0;a<n.length;a++)s=n[a],u=s[1],c=s[2],d=c>0?"bids":"asks",c=Math.abs(c),o[d].push([u,c]);return o.bids=this.sortBy(o.bids,0,!0),o.asks=this.sortBy(o.asks,0),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=e.length,o=e[i-4];return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e[i-2],low:e[i-1],bid:e[i-10],bidVolume:void 0,ask:e[i-8],askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:e[i-6],percentage:e[i-5],average:void 0,baseVolume:e[i-3],quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(this.extend({symbols:this.ids.join(",")},t));case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o[0],s=this.markets_by_id[a],u=s.symbol,n[u]=this.parseTicker(o,s);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchTicker",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.markets[t],e.next=6,this.publicGetTickerSymbol(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=i(e,4),n=r[0],o=r[1],a=r[2],s=r[3],u=a<0?"sell":"buy";return a<0&&(a=-a),{id:n.toString(),info:e,timestamp:o,datetime:this.iso8601(o),symbol:t.symbol,type:void 0,side:u,price:s,amount:a}}},{key:"fetchTrades",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:120,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id,sort:"-1",limit:n},"undefined"!==typeof r&&(a.start=r),e.next=10,this.publicGetTradesSymbolHist(this.extend(a,i));case 10:return s=e.sent,u=this.sortBy(s,1),e.abrupt("return",this.parseTrades(u,o,void 0,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchOHLCV",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:100,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),"undefined"===typeof n&&(n=this.milliseconds()-this.parseTimeframe(r)*i*1e3),s={symbol:a.id,timeframe:this.timeframes[r],sort:1,limit:i,start:n},e.next=11,this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"createOrder",value:(b=o(regeneratorRuntime.mark(function e(t,r,n,i){var o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw o.length>4&&void 0!==o[4]?o[4]:void 0,o.length>5&&void 0!==o[5]?o[5]:{},new l(this.id+" createOrder not implemented yet");case 3:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return b.apply(this,arguments)})},{key:"cancelOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new l(this.id+" cancelOrder not implemented yet")}},{key:"fetchOrder",value:(y=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new l(this.id+" fetchOrder not implemented yet");case 3:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchDepositAddress",value:(m=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:{},new l(this.id+" fetchDepositAddress() not implemented yet.");case 2:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"withdraw",value:(v=o(regeneratorRuntime.mark(function e(t,r,n){var i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw i.length>3&&void 0!==i[3]?i[3]:void 0,i.length>4&&void 0!==i[4]?i[4]:{},new l(this.id+" withdraw not implemented yet");case 3:case"end":return e.stop()}},e,this)})),function(e,t,r){return v.apply(this,arguments)})},{key:"fetchMyTrades",value:(f=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:25,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={symbol:o.id,limit:n,end:this.seconds()},"undefined"!==typeof r&&(a.start=parseInt(r/1e3)),e.next=11,this.privatePostAuthRTradesSymbolHist(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));a="v1"===t?t+a:this.version+a;var u=this.urls.api+"/"+a;if("public"===t&&Object.keys(s).length&&(u+="?"+this.urlencode(s)),"private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),d="/api/"+a+c+(o=this.json(s)),l=this.hmac(this.encode(d),this.encode(this.secret),"sha384");i={"bfx-nonce":c,"bfx-apikey":this.apiKey,"bfx-signature":l,"Content-Type":"application/json"}}return{url:u,method:r,body:o,headers:i}}},{key:"request",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!(s=e.sent)){e.next=16;break}if(!("message"in s)){e.next=13;break}if(!(s.message.indexOf("not enough exchange balance")>=0)){e.next=12;break}throw new h(this.id+" "+this.json(s));case 12:throw new d(this.id+" "+this.json(s));case 13:return e.abrupt("return",s);case 16:if(""!==s){e.next=18;break}throw new d(this.id+" returned empty response");case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m,y,b,g,k,w,x,O;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitflyer",name:"bitFlyer",countries:"JP",version:"v1",rateLimit:1e3,has:{CORS:!1,withdraw:!0,fetchMyTrades:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:"emulated",fetchClosedOrders:"emulated"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.bitflyer.jp",www:"https://bitflyer.jp",doc:"https://bitflyer.jp/API"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getcollateral","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.0025,taker:.0025}}})}},{key:"fetchMarkets",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetmarkets();case 2:return t=e.sent,e.next=5,this.publicGetGetmarketsUsa();case 5:return r=e.sent,e.next=8,this.publicGetGetmarketsEu();case 8:for(n=e.sent,i=this.arrayConcat(t,r),i=this.arrayConcat(i,n),o=[],a=0;a<i.length;a++)s=i[a],u=s.product_code,c=!0,d=!1,l="spot","alias"in s&&(l="future",d=!0,c=!1),h=u.split("_"),p=void 0,f=void 0,v=u,1===(m=h.length)?(p=v.slice(0,3),f=v.slice(3,6)):2===m?(p=h[0],f=h[1],v=p+"/"+f):(p=h[1],f=h[2]),o.push({id:u,symbol:v,base:p,quote:f,type:l,spot:c,future:d,info:s});return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchBalance",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetbalance();case 5:for(t=e.sent,r={},n=0;n<t.length;n++)i=t[n],o=i.currency_code,r[o]=i;for(a={info:t},s=Object.keys(this.currencies),u=0;u<s.length;u++)c=s[u],d=this.account(),c in r&&(d.total=r[c].amount,d.free=r[c].available,d.used=d.total-d.free),a[c]=d;return e.abrupt("return",this.parseBalance(a));case 12:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchOrderBook",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetboard(this.extend({product_code:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price","size"));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchTicker",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetGetticker(this.extend({product_code:this.marketId(t)},r));case 5:return n=e.sent,i=this.parse8601(n.timestamp),o=this.safeFloat(n,"ltp"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(n,"best_bid"),bidVolume:void 0,ask:this.safeFloat(n,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(n,"volume_by_product"),quoteVolume:void 0,info:n});case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;if("side"in e&&e.side){var i=(r=e.side.toLowerCase())+"_child_order_acceptance_id";i in e&&(n=e[i])}"undefined"===typeof n&&(n=this.safeString(e,"child_order_acceptance_id"));var o=this.parse8601(e.exec_date);return{id:e.id.toString(),info:e,timestamp:o,datetime:this.iso8601(o),symbol:t.symbol,order:n,type:void 0,side:r,price:e.price,amount:e.size}}},{key:"fetchTrades",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetGetexecutions(this.extend({product_code:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"createOrder",value:(b=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={product_code:this.marketId(t),child_order_type:r.toUpperCase(),side:n.toUpperCase(),price:o,size:i},e.next=7,this.privatePostSendchildorder(this.extend(s,a));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.child_order_acceptance_id});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return b.apply(this,arguments)})},{key:"cancelOrder",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},"undefined"!==typeof r){e.next=4;break}throw new c(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostCancelchildorder(this.extend({product_code:this.marketId(r),child_order_acceptance_id:t},n));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"};return e in t?t[e]:e.toLowerCase()}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.child_order_date),n=this.safeFloat(e,"size"),i=this.safeFloat(e,"outstanding_size"),o=this.safeFloat(e,"executed_size"),a=this.safeFloat(e,"price"),s=a*o,u=this.parseOrderStatus(e.child_order_state),c=e.child_order_type.toLowerCase(),d=e.side.toLowerCase(),l=void 0;if("undefined"===typeof t){var h=this.safeString(e,"product_code");"undefined"!==typeof h&&h in this.markets_by_id&&(t=this.markets_by_id[h])}"undefined"!==typeof t&&(l=t.symbol);var p=void 0,f=this.safeFloat(e,"total_commission");return"undefined"!==typeof f&&(p={cost:f,currency:void 0,rate:void 0}),{id:e.child_order_acceptance_id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:u,symbol:l,type:c,side:d,price:a,cost:s,amount:n,filled:o,remaining:i,fee:p}}},{key:"fetchOrders",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:100,i=d.length>3&&void 0!==d[3]?d[3]:{},"undefined"!==typeof t){e.next=6;break}throw new c(this.id+" fetchOrders() requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={product_code:o.id,count:n},e.next=12,this.privateGetGetchildorders(this.extend(a,i));case 12:return s=e.sent,u=this.parseOrders(s,o,r,n),t&&(u=this.filterBy(u,"symbol",t)),e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOpenOrders",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:100,(i=o.length>3&&void 0!==o[3]?o[3]:{}).child_order_state="ACTIVE",e.next=7,this.fetchOrders(t,r,n,i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchClosedOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:100,(i=o.length>3&&void 0!==o[3]?o[3]:{}).child_order_state="COMPLETED",e.next=7,this.fetchOrders(t,r,n,i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},"undefined"!==typeof r){e.next=4;break}throw new c(this.id+" fetchOrder() requires a symbol argument");case 4:return e.next=6,this.fetchOrders(r);case 6:if(n=e.sent,i=this.indexBy(n,"id"),!(t in i)){e.next=10;break}return e.abrupt("return",i[t]);case 10:throw new d(this.id+" No order found with id "+t);case 11:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchMyTrades",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},"undefined"!==typeof t){e.next=6;break}throw new c(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={product_code:o.id},n&&(a.count=n),e.next=13,this.privateGetGetexecutions(this.extend(a,i));case 13:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"withdraw",value:(l=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if("JPY"===t||"USD"===t||"EUR"===t){e.next=7;break}throw new c(this.id+" allows withdrawing JPY, USD, EUR only, "+t+" is not supported");case 7:return o=this.currency(t),e.next=10,this.privatePostWithdraw(this.extend({currency_code:o.id,amount:r},i));case 10:return a=e.sent,e.abrupt("return",{info:a,id:a.message_id});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/";"private"===t&&(a+="me/"),a+=e,"GET"===r&&Object.keys(n).length&&(a+="?"+this.urlencode(n));var s=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),c=[u,r,a].join("");Object.keys(n).length&&"GET"!==r&&(c+=o=this.json(n)),i={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":u,"ACCESS-SIGN":this.hmac(this.encode(c),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:s,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bithumb",name:"Bithumb",countries:"KR",rateLimit:500,has:{CORS:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.bithumb.com/public",private:"https://api.bithumb.com"},www:"https://www.bithumb.com",doc:"https://www.bithumb.com/u1/US127"},api:{public:{get:["ticker/{currency}","ticker/all","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","trade/place","info/order_detail","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0015,taker:.0015}},exceptions:{5100:c}})}},{key:"fetchMarkets",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerAll();case 2:for(t=e.sent,r=Object.keys(t.data),n=[],i=0;i<r.length;i++)"date"!==(o=r[i])&&(a=t.data[o],s=o,c=o+"/"+(u="KRW"),n.push({id:o,symbol:c,base:s,quote:u,info:a,lot:void 0,active:!0,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}));return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostInfoBalance(this.extend({currency:"ALL"},t));case 5:for(r=e.sent,n={info:r},i=r.data,o=Object.keys(this.currencies),a=0;a<o.length;a++)s=o[a],u=this.account(),c=s.toLowerCase(),u.total=this.safeFloat(i,"total_"+c),u.used=this.safeFloat(i,"in_use_"+c),u.free=this.safeFloat(i,"available_"+c),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={currency:i.base},"undefined"!==typeof r&&(o.count=r),e.next=9,this.publicGetOrderbookCurrency(this.extend(o,n));case 9:return a=e.sent,s=a.data,u=parseInt(s.timestamp),e.abrupt("return",this.parseOrderBook(s,u,"bids","asks","price","quantity"));case 13:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=parseInt(e.date),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"opening_price"),o=this.safeFloat(e,"closing_price"),a=o-i,s=this.safeFloat(e,"average_price"),u=this.safeFloat(e,"volume_1day");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:s,open:i,close:o,last:o,previousClose:void 0,change:a,percentage:a/i*100,average:this.sum(i,o)/2,baseVolume:u,quoteVolume:u*s,info:e}}},{key:"fetchTickers",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickerAll(t);case 6:for(r=e.sent,n={},i=r.data.date,o=this.omit(r.data,"date"),a=Object.keys(o),s=0;s<a.length;s++)u=a[s],c=u,d=void 0,u in this.markets_by_id&&(d=this.markets_by_id[u],c=d.symbol),(l=o[u]).date=i,n[c]=this.parseTicker(l,d);return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerCurrency(this.extend({currency:n.base},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=i(e.transaction_date.split(" "),2),n=r[0],o=r[1];o.length<8&&(o="0"+o);var a=this.parse8601(n+" "+o);a-=324e5;var s="ask"===e.type?"sell":"buy";return{id:void 0,info:e,timestamp:a,datetime:this.iso8601(a),symbol:t.symbol,order:void 0,type:void 0,side:s,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"units_traded")}}},{key:"fetchTrades",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTransactionHistoryCurrency(this.extend({currency:o.base,count:100},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.data,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createOrder",value:(f=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u=void 0,c="privatePostTrade","limit"===r?(u={order_currency:s.id,Payment_currency:s.quote,units:i,price:o,type:"buy"===n?"bid":"ask"},c+="Place"):"market"===r&&(u={currency:s.id,units:i},c+="Market"+this.capitalize(n)),e.next=10,this[c](this.extend(u,a));case 10:return d=e.sent,l=void 0,"order_id"in d&&d.order_id&&(l=d.order_id.toString()),e.abrupt("return",{info:d,id:l});case 14:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},"side"in r){e.next=5;break}throw new c(this.id+" cancelOrder requires a side parameter (sell or buy) and a currency parameter");case 5:if("currency"in r){e.next=8;break}throw new c(this.id+" cancelOrder requires a currency parameter");case 8:return n="buy"===r.side?"bid":"ask",e.next=11,this.privatePostTradeCancel({order_id:t,type:n,currency:r.currency});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"withdraw",value:(h=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),o={units:r,address:n,currency:t},"XRP"!==t&&"XMR"!==t){e.next=8;break}if("destination"in i){e.next=8;break}throw new c(this.id+" "+t+" withdraw requires an extra destination param");case 8:return e.next=10,this.privatePostTradeBtcWithdrawal(this.extend(o,i));case 10:return a=e.sent,e.abrupt("return",{info:a,id:void 0});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.urls.api[t]+a,u=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),o=this.urlencode(this.extend({endpoint:a},u));var c=this.nonce().toString(),d=a+"\0"+o+"\0"+c,l=this.hmac(this.encode(d),this.encode(this.secret),"sha512"),h=this.decode(this.stringToBase64(this.encode(l)));i={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":h.toString(),"Api-Nonce":c}}return{url:s,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("status"in a){var s=this.safeString(a,"status");if("undefined"!==typeof s){if("0000"===s)return;var u=this.id+" "+this.json(a),d=this.exceptions;throw s in d?new d[s](u):new c(u)}}}}},{key:"request",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("status"in(s=e.sent))){e.next=12;break}if("0000"!==s.status){e.next=11;break}return e.abrupt("return",s);case 11:throw new c(this.id+" "+this.json(s));case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(23);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitkk",name:"bitkk",comment:"a Chinese ZB clone",urls:{api:{public:"http://api.bitkk.com/data",private:"https://trade.bitkk.com/api"},www:"https://www.bitkk.com",doc:"https://www.bitkk.com/i/developer",fees:"https://www.bitkk.com/i/rate"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitlish",name:"Bitlish",countries:["GB","EU","RU"],rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1h":3600},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766275-dcfc6c30-5ed3-11e7-839d-00a846385d0b.jpg",api:"https://bitlish.com/api",www:"https://bitlish.com",doc:"https://bitlish.com/api"},requiredCredentials:{apiKey:!0,secret:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:.003,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.001,DOGE:.001,ETH:.001,XMR:0,ZEC:.001,DASH:1e-4,EUR:50},deposit:{BTC:0,LTC:0,DOGE:0,ETH:0,XMR:0,ZEC:0,DASH:0,EUR:0}}},api:{public:{get:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"],post:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"]},private:{post:["accounts_operations","balance","cancel_trade","cancel_trades_by_ids","cancel_all_trades","create_bcode","create_template_wallet","create_trade","deposit","list_accounts_operations_from_ts","list_active_trades","list_bcodes","list_my_matches_from_ts","list_my_trades","list_my_trads_from_ts","list_payment_methods","list_payments","redeem_code","resign","signin","signout","trade_details","trade_options","withdraw","withdraw_by_id"]}},commonCurrencies:{DSH:"DASH",XDG:"DOGE"}})}},{key:"fetchMarkets",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairs();case 2:for(t=e.sent,r=[],n=Object.keys(t),o=0;o<n.length;o++)a=t[n[o]],s=a.id,u=a.name,c=u.split("/"),d=i(c,2),l=d[0],h=d[1],l=this.commonCurrencyCode(l),h=this.commonCurrencyCode(h),u=l+"/"+h,r.push({id:s,symbol:u,base:l,quote:h,info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"parseTicker",value:function(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),symbol:n,high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:i,last:i,previousClose:void 0,change:void 0,percentage:100*this.safeFloat(e,"prc"),average:void 0,baseVolume:this.safeFloat(e,"sum"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=this.markets_by_id[a],u=s.symbol,c=r[a],i[u]=this.parseTicker(c,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchTicker",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickers(r);case 6:return i=e.sent,o=i[n.id],e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOHLCV",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:"1h",r=s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:void 0,n=s.length>4&&void 0!==s[4]?s[4]:{},e.next=6,this.loadMarkets();case 6:return i=this.seconds(),o=i-2592e3,"undefined"!==typeof r&&(o=parseInt(r/1e3)),a=[o.toString(),void 0],e.next=12,this.publicPostOhlcv(this.extend({time_range:a},n));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTradesDepth(this.extend({pair_id:this.marketId(t)},r));case 6:return n=e.sent,i=void 0,(o=this.safeInteger(n,"last"))&&(i=parseInt(o/1e3)),e.abrupt("return",this.parseOrderBook(n,i,"bid","ask","price","volume"));case 11:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.dir?"buy":"sell",n=void 0;t&&(n=t.symbol);var i=parseInt(e.created/1e3);return{id:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradesHistory(this.extend({pair_id:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.list,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchBalance",value:(f=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},n=Object.keys(t),i={},o=0;o<n.length;o++)a=n[o],s=t[a],"DSH"===(a=a.toUpperCase())&&(a="DASH"),"XDG"===a&&(a="DOGE"),i[a]=s;for(n=Object.keys(this.currencies),u=0;u<n.length;u++)c=n[u],d=this.account(),c in i&&(d.free=parseFloat(i[c].funds),d.used=parseFloat(i[c].holded),d.total=this.sum(d.free,d.used)),r[c]=d;return e.abrupt("return",this.parseBalance(r));case 13:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"signIn",value:function(){return this.privatePostSignin({login:this.login,passwd:this.password})}},{key:"createOrder",value:(p=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={pair_id:this.marketId(t),dir:"buy"===n?"bid":"ask",amount:i},"limit"===r&&(s.price=o),e.next=8,this.privatePostCreateTrade(this.extend(s,a));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelTrade({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"withdraw",value:(l=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if("BTC"===t){e.next=7;break}throw new c(this.id+" currently supports BTC withdrawals only, until they document other currencies...");case 7:return e.next=9,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),amount:parseFloat(r),account:n,payment_method:"bitcoin"},i));case 9:return o=e.sent,e.abrupt("return",{info:o,id:o.message_id});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;return"public"===t?"GET"===r?Object.keys(n).length&&(a+="?"+this.urlencode(n)):(o=this.json(n),i={"Content-Type":"application/json"}):(this.checkRequiredCredentials(),o=this.json(this.extend({token:this.apiKey},n)),i={"Content-Type":"application/json"}),{url:a,method:r,body:o,headers:i}}}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitmarket",name:"BitMarket",countries:["PL","EU"],rateLimit:1500,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0},timeframes:{"90m":"90m","6h":"6h","1d":"1d","1w":"7d","1M":"1m","3M":"3m","6M":"6m","1y":"1y"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27767256-a8555200-5ef9-11e7-96fd-469a65e2b0bd.jpg",api:{public:"https://www.bitmarket.net",private:"https://www.bitmarket.pl/api2/"},www:["https://www.bitmarket.pl","https://www.bitmarket.net"],doc:["https://www.bitmarket.net/docs.php?file=api_public.html","https://www.bitmarket.net/docs.php?file=api_private.html","https://github.com/bitmarket-net/api"]},api:{public:{get:["json/{market}/ticker","json/{market}/orderbook","json/{market}/trades","json/ctransfer","graphs/{market}/90m","graphs/{market}/6h","graphs/{market}/1d","graphs/{market}/7d","graphs/{market}/1m","graphs/{market}/3m","graphs/{market}/6m","graphs/{market}/1y"]},private:{post:["info","trade","cancel","orders","trades","history","withdrawals","tradingdesk","tradingdeskStatus","tradingdeskConfirm","cryptotradingdesk","cryptotradingdeskStatus","cryptotradingdeskConfirm","withdraw","withdrawFiat","withdrawPLNPP","withdrawFiatFast","deposit","transfer","transfers","marginList","marginOpen","marginClose","marginCancel","marginModify","marginBalanceAdd","marginBalanceRemove","swapList","swapOpen","swapClose"]}},markets:{"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LiteMineX/BTC":{id:"LiteMineXBTC",symbol:"LiteMineX/BTC",base:"LiteMineX",quote:"BTC"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.45/100,maker:.0015,tiers:{taker:[[0,.45/100],[99.99,.0044],[299.99,.0043],[499.99,.0042],[999.99,.41/100],[1999.99,.004],[2999.99,.39/100],[4999.99,.0038],[9999.99,.0037],[19999.99,.0036],[29999.99,.35/100],[49999.99,.34/100],[99999.99,.0033],[199999.99,.0032],[299999.99,.0031],[499999.99,0]],maker:[[0,.0015],[99.99,.14/100],[299.99,.0013],[499.99,.0012],[999.99,.0011],[1999.99,.001],[2999.99,.9/100],[4999.99,.008],[9999.99,.7/100],[19999.99,.006],[29999.99,.005],[49999.99,.004],[99999.99,.003],[199999.99,.002],[299999.99,.001],[499999.99,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:8e-4,LTC:.005,BCH:8e-4,BTG:8e-4,DOGE:1,EUR:2,PLN:2},deposit:{BTC:0,LTC:0,BCH:0,BTG:0,DOGE:25,EUR:2,PLN:0}}}})}},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostInfo();case 5:for(t=e.sent,r=t.data,n=r.balances,i={info:r},o=Object.keys(this.currencies),a=0;a<o.length;a++)s=o[a],u=this.account(),s in n.available&&(u.free=n.available[s]),s in n.blocked&&(u.used=n.blocked[s]),u.total=this.sum(u.free,u.used),i[s]=u;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetJsonMarketOrderbook(this.extend({market:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetJsonMarketTicker(this.extend({market:this.marketId(t)},r));case 3:return n=e.sent,i=this.milliseconds(),o=this.safeFloat(n,"vwap"),a=this.safeFloat(n,"volume"),s=a*o,u=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:o,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.type?"buy":"sell",n=1e3*e.date;return{id:e.tid.toString(),info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetJsonMarketTrades(this.extend({market:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.time,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.vol)]}},{key:"fetchOHLCV",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"90m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a="publicGetGraphsMarket"+this.timeframes[r],s=this.market(t),e.next=10,this[a](this.extend({market:s.id},o));case 10:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,s,r,n,i));case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.privatePostTrade(this.extend({market:this.marketId(t),type:n,amount:i,rate:o},a));case 4:return s=e.sent,u={info:s},"id"in s.order&&(u.id=s.id),e.abrupt("return",u);case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:(d=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,i=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(o=void 0,a={currency:t,quantity:r},!this.isFiat(t)){e.next=28;break}if(o="privatePostWithdrawFiat",!("account"in i)){e.next=13;break}a.account=i.account,e.next=14;break;case 13:throw new u(this.id+" requires account parameter to withdraw fiat currency");case 14:if(!("account2"in i)){e.next=18;break}a.account2=i.account2,e.next=20;break;case 18:if("EUR"!==t){e.next=20;break}throw new u(this.id+" requires account2 parameter to withdraw EUR");case 20:if(!("withdrawal_note"in i)){e.next=24;break}a.withdrawal_note=i.withdrawal_note,e.next=26;break;case 24:if("PLN"!==t){e.next=26;break}throw new u(this.id+" requires withdrawal_note parameter to withdraw PLN");case 26:e.next=30;break;case 28:o="privatePostWithdraw",a.address=n;case 30:return e.next=32,this[o](this.extend(a,i));case 32:return s=e.sent,e.abrupt("return",{info:s,id:s});case 34:case"end":return e.stop()}},e,this)})),function(e,t,r){return d.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t)a+="/"+this.implodeParams(e+".json",n);else{this.checkRequiredCredentials();var s=this.nonce(),u=this.extend({tonce:s,method:e},n);o=this.urlencode(u),i={"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.DDoSProtection,l=u.OrderNotFound,h=u.AuthenticationError,p=u.PermissionDenied;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitmex",name:"BitMEX",countries:"SC",version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:"https://testnet.bitmex.com",logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:"https://www.bitmex.com",www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{"Invalid API Key.":h,"Access Denied":p},options:{fetchTickerQuotes:!0}})}},{key:"fetchMarkets",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInstrumentActiveAndIndices();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o="Unlisted"!==i.state,a=i.symbol,s=i.underlying,u=i.quoteCurrency,c=void 0,d=!1,l=!1,h=s+u,s=this.commonCurrencyCode(s),u=this.commonCurrencyCode(u),f=a,(p=a===h)?(c="swap",f=s+"/"+u):a.indexOf("B_")>=0?(l=!0,c="prediction"):(d=!0,c="future"),v={amount:void 0,price:void 0},i.lotSize&&(v.amount=this.precisionFromString(this.truncate_to_string(i.lotSize,16))),i.tickSize&&(v.price=this.precisionFromString(this.truncate_to_string(i.tickSize,16))),r.push({id:a,symbol:f,base:s,quote:u,active:o,precision:v,limits:{amount:{min:i.lotSize,max:i.maxOrderQty},price:{min:i.tickSize,max:i.maxPrice}},taker:i.takerFee,maker:i.makerFee,type:c,spot:!1,swap:p,future:d,prediction:l,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchBalance",value:(C=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserMargin({currency:"all"});case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.currency.toUpperCase(),o=this.commonCurrencyCode(o),a={free:i.availableMargin,used:0,total:i.marginBalance},"BTC"===o&&(a.free=1e-8*a.free,a.total=1e-8*a.total),a.used=a.total-a.free,r[o]=a;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:void 0,n=p.length>2&&void 0!==p[2]?p[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={symbol:i.id},"undefined"!==typeof r&&(o.depth=r),e.next=9,this.publicGetOrderBookL2(this.extend(o,n));case 9:for(a=e.sent,s={bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0},u=0;u<a.length;u++)c=a[u],d="Sell"===c.side?"asks":"bids",l=c.size,h=c.price,s[d].push([h,l]);return s.bids=this.sortBy(s.bids,0,!0),s.asks=this.sortBy(s.asks,0),e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchOrder",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},i={filter:{orderID:t}},e.next=5,this.fetchOrders(r,void 0,void 0,this.deepExtend(i,n));case 5:if(o=e.sent,1!==o.length){e.next=9;break}return e.abrupt("return",o[0]);case 9:throw new l(this.id+": The order "+t+" not found.");case 10:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchOrders",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},"undefined"!==typeof t&&(o=this.market(t),a.symbol=o.id),"undefined"!==typeof r&&(a.startTime=this.iso8601(r)),"undefined"!==typeof n&&(a.count=n),"filter"in(a=this.deepExtend(a,i))&&(a.filter=this.json(a.filter)),e.next=15,this.privateGetOrder(a);case 15:return s=e.sent,e.abrupt("return",this.parseOrders(s,o,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOpenOrders",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},o={filter:{open:!0}},e.next=7,this.fetchOrders(t,r,n,this.deepExtend(o,i));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchClosedOrders",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchTicker",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,d,l,h,p,f,v,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:{},e.next=3,this.loadMarkets();case 3:if((n=this.market(t)).active){e.next=6;break}throw new c(this.id+": symbol "+t+" is delisted");case 6:if(i=this.extend({symbol:n.id,binSize:"1d",partial:!0,count:1,reverse:!0},r),o=void 0,a=void 0,!this.options.fetchTickerQuotes){e.next=17;break}return e.next=12,this.publicGetQuoteBucketed(i);case 12:s=e.sent,u=s.length,d=s[u-1],o=this.safeFloat(d,"bidPrice"),a=this.safeFloat(d,"askPrice");case 17:return e.next=19,this.publicGetTradeBucketed(i);case 19:return l=e.sent,h=l[0],p=this.milliseconds(),f=this.safeFloat(h,"open"),v=this.safeFloat(h,"close"),m=v-f,e.abrupt("return",{symbol:t,timestamp:p,datetime:this.iso8601(p),high:this.safeFloat(h,"high"),low:this.safeFloat(h,"low"),bid:o,bidVolume:void 0,ask:a,askVolume:void 0,vwap:this.safeFloat(h,"vwap"),open:f,close:v,last:v,previousClose:void 0,change:m,percentage:m/f*100,average:this.sum(f,v)/2,baseVolume:this.safeFloat(h,"homeNotional"),quoteVolume:this.safeFloat(h,"foreignNotional"),info:h});case 26:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m";arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp)-1e3*this.parseTimeframe(t),e.open,e.high,e.low,e.close,e.volume]}},{key:"fetchOHLCV",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"1m",n=l.length>2&&void 0!==l[2]?l[2]:void 0,i=l.length>3&&void 0!==l[3]?l[3]:void 0,o=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,binSize:this.timeframes[r],partial:!0},"undefined"!==typeof i&&(s.count=i),"undefined"!==typeof n&&(u=this.ymdhms(n),c=u.slice(0,16),s.startTime=c),e.next=12,this.publicGetTradeBucketed(this.extend(s,o));case 12:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;return t||"symbol"in e&&(t=this.markets_by_id[e.symbol]),t&&(n=t.symbol),{id:e.trdMatchID,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:void 0,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseOrderStatus",value:function(e){return this.safeString({new:"open",partiallyfilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"},e.toLowerCase())}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"ordStatus");"undefined"!==typeof r&&(r=this.parseOrderStatus(r));var n=void 0;if(t)n=t.symbol;else{var i=e.symbol;i in this.markets_by_id&&(n=(t=this.markets_by_id[i]).symbol)}var o=void 0,a=void 0,s=void 0;"timestamp"in e?o=e.timestamp:"transactTime"in e&&(o=e.transactTime),"undefined"!==typeof o&&(a=this.parse8601(o),s=this.iso8601(a));var u=this.safeFloat(e,"price"),c=this.safeFloat(e,"orderQty"),d=this.safeFloat(e,"cumQty",0),l=void 0;"undefined"!==typeof c&&"undefined"!==typeof d&&(l=Math.max(c-d,0));var h=void 0;return"undefined"!==typeof u&&"undefined"!==typeof d&&(h=u*d),{info:e,id:e.orderID.toString(),timestamp:a,datetime:s,lastTradeTimestamp:void 0,symbol:n,type:e.ordType.toLowerCase(),side:e.side.toLowerCase(),price:u,amount:c,cost:h,filled:d,remaining:l,status:r,fee:void 0}}},{key:"fetchTrades",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof r&&(a.startTime=this.iso8601(r)),"undefined"!==typeof n&&(a.count=n),e.next=11,this.publicGetTrade(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s,o));case 13:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t),side:this.capitalize(n),orderQty:i,ordType:this.capitalize(r)},"undefined"!==typeof o&&(s.price=o),e.next=8,this.privatePostOrder(this.extend(s,a));case 8:return u=e.sent,c=this.parseOrder(u),d=c.id,this.orders[d]=c,e.abrupt("return",this.extend({info:u},c));case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"editOrder",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:void 0,s=l.length>6&&void 0!==l[6]?l[6]:{},e.next=5,this.loadMarkets();case 5:return u={orderID:t},"undefined"!==typeof o&&(u.orderQty=o),"undefined"!==typeof a&&(u.price=a),e.next=10,this.privatePutOrder(this.extend(u,s));case 10:return c=e.sent,d=this.parseOrder(c),this.orders[d.id]=d,e.abrupt("return",this.extend({info:c},d));case 14:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrder(this.extend({orderID:t},r));case 6:if(n=e.sent,i=n[0],"undefined"===typeof(o=this.safeString(i,"error"))){e.next=12;break}if(!(o.indexOf("Unable to cancel order due to existing state")>=0)){e.next=12;break}throw new l(this.id+" cancelOrder() failed: "+o);case 12:return i=this.parseOrder(i),this.orders[i.id]=i,e.abrupt("return",this.extend({info:n},i));case 15:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:(f=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if("BTC"===t){e.next=7;break}throw new c(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");case 7:return o={currency:"XBt",amount:r,address:n},e.next=10,this.privatePostUserRequestWithdrawal(this.extend(o,i));case 10:return a=e.sent,e.abrupt("return",{info:a,id:a.transactID});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return f.apply(this,arguments)})},{key:"handleErrors",value:function(e,t,r,n,i,o){if(429===e)throw new d(this.id+" "+o);if(e>=400&&o&&"{"===o[0]){var a=JSON.parse(o);if("error"in a&&"message"in a.error){var s=this.id+" "+this.json(a),u=this.safeValue(a.error,"message"),l=this.exceptions;if("undefined"!==typeof u&&u in l)throw new l[u](s);throw new c(s)}}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+e;"PUT"!==r&&Object.keys(n).length&&(a+="?"+this.urlencode(n));var s=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),c=r+a+u;"POST"!==r&&"PUT"!==r||Object.keys(n).length&&(c+=o=this.json(n)),i={"Content-Type":"application/json","api-nonce":u,"api-key":this.apiKey,"api-signature":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:s,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InvalidNonce,h=c.AuthenticationError,p=c.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitso",name:"Bitso",countries:"MX",rateLimit:2e3,version:"v3",has:{CORS:!0,fetchMyTrades:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766335-715ce7aa-5ed5-11e7-88a8-173a27bb30fe.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees?l=es"},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":h,104:l}})}},{key:"fetchMarkets",value:(R=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAvailableBooks();case 2:for(t=e.sent,r=[],n=0;n<t.payload.length;n++)o=t.payload[n],a=o.book,s=a.toUpperCase().replace("_","/"),u=s.split("/"),c=i(u,2),d=c[0],l=c[1],h={amount:{min:this.safeFloat(o,"minimum_amount"),max:this.safeFloat(o,"maximum_amount")},price:{min:this.safeFloat(o,"minimum_price"),max:this.safeFloat(o,"maximum_price")},cost:{min:this.safeFloat(o,"minimum_value"),max:this.safeFloat(o,"maximum_value")}},p={amount:this.precisionFromString(o.minimum_amount),price:this.precisionFromString(o.minimum_price)},f=h.amount.min,r.push({id:a,symbol:s,base:d,quote:l,info:o,lot:f,limits:h,precision:p});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchBalance",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.payload.balances,n={info:t},i=0;i<r.length;i++)o=r[i],a=o.currency.toUpperCase(),s={free:parseFloat(o.available),used:parseFloat(o.locked),total:parseFloat(o.total)},n[a]=s;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBook(this.extend({book:this.marketId(t)},r));case 6:return n=e.sent,i=n.payload,o=this.parse8601(i.updated_at),e.abrupt("return",this.parseOrderBook(i,o,"bids","asks","price","amount"));case 10:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchTicker",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTicker(this.extend({book:this.marketId(t)},r));case 5:return n=e.sent,i=n.payload,o=this.parse8601(i.created_at),a=this.safeFloat(i,"vwap"),s=this.safeFloat(i,"volume"),u=s*a,c=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:u,info:i});case 13:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;if("undefined"===typeof t){var i=this.safeString(e,"book");i in this.markets_by_id&&(t=this.markets_by_id[i])}"undefined"!==typeof t&&(n=t.symbol);var o=this.safeString(e,"side");"undefined"===typeof o&&(o=this.safeString(e,"maker_side"));var a=this.safeFloat(e,"amount");"undefined"===typeof a&&(a=this.safeFloat(e,"major")),"undefined"!==typeof a&&(a=Math.abs(a));var s=void 0,u=this.safeFloat(e,"fees_amount");if("undefined"!==typeof u){var c=this.safeString(e,"fees_currency");"undefined"!==typeof c&&c in this.currencies_by_id&&(c=this.currencies_by_id[c].code),s={cost:u,currency:c}}var d=this.safeFloat(e,"minor");"undefined"!==typeof d&&(d=Math.abs(d));var l=this.safeFloat(e,"price"),h=this.safeString(e,"oid");return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:h,type:void 0,side:o,price:l,amount:a,cost:d,fee:s}}},{key:"fetchTrades",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({book:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.payload,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchMyTrades",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:25,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),a="marker"in i,"undefined"===typeof r||a){e.next=10;break}throw d(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 10:return a&&(i=this.extend(i,{marker:parseInt(i.marker)})),s={book:o.id,limit:n},e.next=14,this.privateGetUserTrades(this.extend(s,i));case 14:return u=e.sent,e.abrupt("return",this.parseTrades(u.payload,o,r,n));case 16:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"createOrder",value:(w=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={book:this.marketId(t),side:n,type:r,major:this.amountToPrecision(t,i)},"limit"===r&&(s.price=this.priceToPrecision(t,o)),e.next=8,this.privatePostOrders(this.extend(s,a));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.payload.oid});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrdersOid({oid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={"partial-fill":"open",completed:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,n=this.parseOrderStatus(e.status),i=void 0;if("undefined"===typeof t){var o=e.book;o in this.markets_by_id&&(t=this.markets_by_id[o])}t&&(i=t.symbol);var a=e.type,s=this.parse8601(e.created_at),u=this.safeFloat(e,"original_amount"),c=this.safeFloat(e,"unfilled_amount"),d=u-c;return{info:e,id:e.oid,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:a,side:r,price:this.safeFloat(e,"price"),amount:u,cost:void 0,remaining:c,filled:d,status:n,fee:void 0}}},{key:"fetchOpenOrders",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:25,i=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),a="marker"in i,"undefined"===typeof r||a){e.next=10;break}throw d(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 10:return a&&(i=this.extend(i,{marker:parseInt(i.marker)})),s={book:o.id,limit:n},e.next=14,this.privateGetOpenOrders(this.extend(s,i));case 14:return u=e.sent,c=this.parseOrders(u.payload,o,r,n),e.abrupt("return",c);case 17:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrder",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(r),e.next=7,this.privateGetOrdersOid({oid:t});case 7:if(i=e.sent,o=i.payload.length,Array.isArray(i.payload)&&1===o){e.next=11;break}throw new p(this.id+": The order "+t+" not found.");case 11:return e.abrupt("return",this.parseOrder(i.payload[0],n));case 12:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOrderTrades",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(r),e.next=7,this.privateGetOrderTradesOid({oid:t});case 7:return i=e.sent,e.abrupt("return",this.parseTrades(i.payload,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchDepositAddress",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),i={fund_currency:n.id},e.next=7,this.privateGetFundingDestination(this.extend(i,r));case 7:return o=e.sent,a=this.safeString(o.payload,"account_identifier"),s=void 0,"XRP"===t&&(u=a.split("?dt="),a=u[0],s=u[1]),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:s,info:o});case 13:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"withdraw",value:(v=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>3&&void 0!==h[3]?h[3]:void 0,o=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if("undefined"!==typeof(s=t in(a={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"})?a[t]:void 0)){e.next=9;break}throw new d(this.id+" not valid withdraw coin: "+t);case 9:return u={amount:r,address:n,destination_tag:i},c="privatePost"+s+"Withdrawal",e.next=13,this[c](this.extend(u,o));case 13:return l=e.sent,e.abrupt("return",{info:l,id:this.safeString(l.payload,"wid")});case 15:case"end":return e.stop()}},e,this)})),function(e,t,r){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s));var u=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),d=[c,r,a].join("");"GET"!==r&&Object.keys(s).length&&(d+=o=this.json(s));var l=this.hmac(this.encode(d),this.encode(this.secret));i={Authorization:"Bitso "+(this.apiKey+":"+c+":"+l),"Content-Type":"application/json"}}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("success"in a){var s=this.safeValue(a,"success",!1);if("string"===typeof s&&(s="true"===s||"1"===s),!s){var u=this.id+" "+this.json(a),c=this.safeValue(a,"error");if("undefined"===typeof c)throw new d(u);var l=this.safeString(c,"code"),h=this.exceptions;throw l in h?new h[l](u):new d(u)}}}}},{key:"request",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("success"in(s=e.sent))){e.next=11;break}if(!s.success){e.next=11;break}return e.abrupt("return",s);case 11:throw new d(this.id+" "+this.json(s));case 12:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.AuthenticationError,l=c.ExchangeError,h=c.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,p,f,v,m,y,b,g,k,w,x,O,T,_;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitstamp",name:"Bitstamp",countries:"GB",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchDepositAddress:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","buy/{pair}/","buy/market/{pair}/","sell/{pair}/","sell/market/{pair}/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["bitcoin_deposit_address/","unconfirmed_btc/","bitcoin_withdrawal/","ripple_withdrawal/","ripple_address/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]],maker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:.9},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:0}}}})}},{key:"fetchMarkets",value:(_=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTradingPairsInfo();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)o=t[n],a=o.name,s=a.split("/"),u=i(s,2),c=u[0],d=u[1],l=c.toLowerCase(),h=d.toLowerCase(),p=l+"_"+h,f=o.url_symbol,v={amount:o.base_decimals,price:o.counter_decimals},m=o.minimum_order.split(" "),y=m[0],b="Enabled"===o.trading,g=Math.pow(10,-v.amount),r.push({id:f,symbol:a,base:c,quote:d,baseId:l,quoteId:h,symbolId:p,info:o,lot:g,active:b,precision:v,limits:{amount:{min:g,max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:parseFloat(y),max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchOrderBook",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBookPair(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,i=1e3*parseInt(n.timestamp),e.abrupt("return",this.parseOrderBook(n,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchTicker",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},r));case 5:return n=e.sent,i=1e3*parseInt(n.timestamp),o=this.safeFloat(n,"vwap"),a=this.safeFloat(n,"volume"),s=a*o,u=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(n,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:n});case 12:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"getMarketFromTrade",value:function(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);var t=Object.keys(e),r=t.length;if(r>2)throw new l(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===r){var n=t[0]+t[1];if(n in this.markets_by_id)return this.markets_by_id[n];if((n=t[1]+t[0])in this.markets_by_id)return this.markets_by_id[n]}}},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"symbol"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=this.parse8601(e.datetime));var i=this.safeString(e,"side"),o=this.safeString(e,"order_id");"undefined"===typeof o&&"undefined"===typeof i&&(i=0===(i=this.safeInteger(e,"type"))?"buy":"sell");var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),u=this.safeString(e,"tid");if(u=this.safeString(e,"id",u),"undefined"===typeof t){for(var c=Object.keys(e),d=0;d<c.length;d++)if(c[d].indexOf("_")>=0){var l=c[d].replace("_","");l in this.markets_by_id&&(t=this.markets_by_id[l])}"undefined"===typeof t&&(t=this.getMarketFromTrade(e))}var h=this.safeFloat(e,"fee"),p=void 0;"undefined"!==typeof t&&(a=this.safeFloat(e,t.symbolId,a),s=this.safeFloat(e,t.baseId,s),p=t.quote,n=t.symbol);var f=void 0;return"undefined"!==typeof a&&"undefined"!==typeof s&&(f=a*s),{id:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:o,type:void 0,side:i,price:a,amount:s,cost:f,fee:{cost:h,currency:p}}}},{key:"fetchTrades",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTransactionsPair(this.extend({pair:o.id,time:"hour"},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchBalance",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s=a+"_balance",u=a+"_available",c=a+"_reserved",d=this.account(),u in t&&(d.free=parseFloat(t[u])),c in t&&(d.used=parseFloat(t[c])),s in t&&(d.total=parseFloat(t[s])),r[o]=d;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"createOrder",value:(k=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s="privatePost"+this.capitalize(n),u={pair:this.marketId(t),amount:this.amountToPrecision(t,i)},"market"===r?s+="Market":u.price=this.priceToPrecision(t,o),s+="Pair",e.next=10,this[s](this.extend(u,a));case 10:return c=e.sent,e.abrupt("return",{info:c,id:c.id});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return k.apply(this,arguments)})},{key:"cancelOrder",value:(g=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return"Queue"===e.status||"Open"===e.status?"open":"Finished"===e.status?"closed":e.status}},{key:"fetchOrderStatus",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderStatus(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOrder",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=void 0,"undefined"!==typeof r&&(i=this.market(r)),e.next=8,this.privatePostOrderStatus(this.extend({id:t},n));case 8:return o=e.sent,e.abrupt("return",this.parseOrder(o,i));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchMyTrades",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a="privatePostUserTransactions",s=void 0,"undefined"!==typeof t&&(s=this.market(t),o.pair=s.id,a+="Pair"),"undefined"!==typeof n&&(o.limit=n),e.next=13,this[a](this.extend(o,i));case 13:return u=e.sent,e.abrupt("return",this.parseTrades(u,s,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=void 0,i=void 0,o=this.safeString(e,"type");"undefined"!==typeof o&&(o="1"===o?"sell":"buy");var a=this.safeString(e,"datetime");"undefined"!==typeof a&&(n=this.parse8601(a),i=this.iso8601(n));var s=void 0;if("undefined"===typeof t&&"currency_pair"in e){var u=e.currency_pair;u in this.markets_by_id&&(t=this.markets_by_id[u])}var c=this.safeFloat(e,"amount"),d=0,l=[],h=this.safeValue(e,"transactions"),p=void 0,f=void 0;if("undefined"!==typeof h&&Array.isArray(h))for(var v=0;v<h.length;v++){var m=this.parseTrade(this.extend({order_id:r,side:o},h[v]),t);d+=m.amount,"undefined"===typeof p&&(p=0),p+=m.fee.cost,"undefined"===typeof f&&(f=0),f+=m.cost,l.push(m)}var y=this.safeString(e,"status");"In Queue"===y||"Open"===y?y="open":"Finished"===y&&(y="closed","undefined"===typeof c&&(c=d));var b=void 0;"undefined"!==typeof c&&(b=c-d);var g=this.safeFloat(e,"price");"undefined"===typeof t&&(t=this.getMarketFromTrades(l));var k=void 0;return"undefined"!==typeof t&&(s=t.symbol,k=t.quote),"undefined"===typeof f?"undefined"!==typeof g&&(f=g*d):"undefined"===typeof g&&d>0&&(g=f/d),{id:r,datetime:i,timestamp:n,lastTradeTimestamp:void 0,status:y,symbol:s,type:void 0,side:o,price:g,cost:f,amount:c,filled:d,remaining:b,trades:l,fee:{cost:p,currency:k},info:e}}},{key:"fetchOpenOrders",value:(v=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},i=void 0,e.next=7,this.loadMarkets();case 7:return"undefined"!==typeof t&&(i=this.market(t)),e.next=10,this.privatePostOpenOrdersAll();case 10:return o=e.sent,e.abrupt("return",this.parseOrders(o,i,r,n));case 12:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getCurrencyName",value:function(e){return"BTC"===e?"bitcoin":e.toLowerCase()}},{key:"isFiat",value:function(e){return"USD"===e||"EUR"===e}},{key:"fetchDepositAddress",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},!this.isFiat(t)){e.next=3;break}throw new h(this.id+" fiat fetchDepositAddress() for "+t+" is not implemented yet");case 3:return n=this.getCurrencyName(t),o=(i="BTC"===t)?"v1":"private",o+="Post"+this.capitalize(n),o+=i?"Deposit":"",o+="Address",e.next=11,this[o](r);case 11:return a=e.sent,s=i?a:this.safeString(a,"address"),u=i?void 0:this.safeString(a,"destination_tag"),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,tag:u,info:a});case 16:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"withdraw",value:(p=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=p.length>3&&void 0!==p[3]?p[3]:void 0,o=p.length>4&&void 0!==p[4]?p[4]:{},this.checkAddress(n),!this.isFiat(t)){e.next=5;break}throw new h(this.id+" fiat withdraw() for "+t+" is not implemented yet");case 5:if(a=this.getCurrencyName(t),s={amount:r,address:n},u="BTC"===t?"v1":"private",u+="Post"+this.capitalize(a)+"Withdrawal",c=o,"XRP"!==t){e.next=18;break}if("undefined"===typeof i){e.next=17;break}s.destination_tag=i,c=this.omit(o,"destination_tag"),e.next=18;break;case 17:throw new l(this.id+" withdraw() requires a destination_tag param for "+t);case 18:return e.next=20,this[u](this.extend(s,c));case 20:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 22:case"end":return e.stop()}},e,this)})),function(e,t,r){return p.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";"v1"!==t&&(a+=this.version+"/"),a+=this.implodeParams(e,n);var s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=u+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(c),this.encode(this.secret)));s=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:u},s),o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("error"===this.safeString(a,"status")){var s=this.safeString(a,"code");if("undefined"!==typeof s&&"API0005"===s)throw new d(this.id+" invalid signature, use the uid for the main account if you have subaccounts");throw new l(this.id+" "+this.json(a))}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitstamp1",name:"Bitstamp v1",countries:"GB",rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0025,taker:.0025},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",maker:.0025,taker:.0025},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",maker:.0025,taker:.0025},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",maker:.0025,taker:.0025},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",maker:.0025,taker:.0025},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",maker:.0025,taker:.0025},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.0025,taker:.0025},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.0025,taker:.0025},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",maker:.0025,taker:.0025},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.0025,taker:.0025}}})}},{key:"fetchOrderBook",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},"BTC/USD"===t){e.next=4;break}throw new c(this.id+" "+this.version+" fetchOrderBook doesn't support "+t+", use it for BTC/USD only");case 4:return e.next=6,this.publicGetOrderBook(r);case 6:return n=e.sent,i=1e3*parseInt(n.timestamp),e.abrupt("return",this.parseOrderBook(n,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchTicker",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},"BTC/USD"===t){e.next=3;break}throw new c(this.id+" "+this.version+" fetchTicker doesn't support "+t+", use it for BTC/USD only");case 3:return e.next=5,this.publicGetTicker(r);case 5:return n=e.sent,i=1e3*parseInt(n.timestamp),o=this.safeFloat(n,"vwap"),a=this.safeFloat(n,"volume"),s=a*o,u=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(n,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:n});case 12:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=1e3*parseInt(e.datetime));var n=0===e.type?"buy":"sell",i=void 0;return"order_id"in e&&(i=e.order_id.toString()),"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]),{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:i,type:void 0,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},"BTC/USD"===t){e.next=5;break}throw new c(this.id+" "+this.version+" fetchTrades doesn't support "+t+", use it for BTC/USD only");case 5:return o=this.market(t),e.next=8,this.publicGetTransactions(this.extend({time:"minute"},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.privatePostBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s=a+"_balance",u=a+"_available",c=a+"_reserved",(d=this.account()).free=this.safeFloat(t,u,0),d.used=this.safeFloat(t,c,0),d.total=this.safeFloat(t,s,0),r[o]=d;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"createOrder",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},"limit"===r){e.next=4;break}throw new c(this.id+" "+this.version+" accepts limit orders only");case 4:if("BTC/USD"===t){e.next=6;break}throw new c(this.id+" v1 supports BTC/USD orders only");case 6:return s="privatePost"+this.capitalize(n),u={amount:i,price:o},e.next=10,this[s](this.extend(u,a));case 10:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return"Queue"===e.status||"Open"===e.status?"open":"Finished"===e.status?"closed":e.status}},{key:"fetchOrderStatus",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostOrderStatus({id:t});case 5:return r=e.sent,e.abrupt("return",this.parseOrderStatus(r));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchMyTrades",value:(p=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,t&&(o=this.market(t)),a=o?o.id:"all",s=this.extend({id:a},i),e.next=12,this.privatePostOpenOrdersId(s);case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new d(this.id+" fetchOrder is not implemented yet");case 3:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=u+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(c),this.encode(this.secret)));s=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:u},s),o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("status"in(s=e.sent))){e.next=11;break}if("error"!==s.status){e.next=11;break}throw new c(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError,h=c.InvalidNonce,p=c.InsufficientFunds,f=c.OrderNotFound,v=c.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,m,y,b,g,k,w,x,O,T,_,C;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bitz",name:"Bit-Z",countries:"HK",rateLimit:2e3,version:"v1",userAgent:this.userAgents.chrome,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35862606-4f554f14-0b5d-11e8-957d-35058c504b6f.jpg",api:"https://api.bit-z.com/api_v1",www:"https://www.bit-z.com",doc:"https://www.bit-z.com/api.html",fees:"https://www.bit-z.com/about/fee"},api:{public:{get:["ticker","tickerall","depth","orders","kline"]},private:{post:["balances","tradeAdd","tradeCancel","openOrders"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{lastNonceTimestamp:0},commonCurrencies:{PXC:"Pixiecoin"}})}},{key:"fetchMarkets",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerall();case 2:for(t=e.sent,r=t.data,n=Object.keys(r),o=[],a=0;a<n.length;a++)s=n[a],u=r[s],c=s.split("_"),d=i(c,2),l=d[0],h=d[1],p=l.toUpperCase(),f=h.toUpperCase(),p=this.commonCurrencyCode(p),f=this.commonCurrencyCode(f),v=p+"/"+f,o.push({id:s,symbol:v,base:p,quote:f,baseId:l,quoteId:h,active:!0,info:u});return e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchBalance",value:(_=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances(t);case 5:for(r=e.sent,n=r.data,i=this.omit(n,"uid"),o={info:r},a=Object.keys(i),s=0;s<a.length;s++)u=a[s],u.indexOf("_")>=0||(c=u.toUpperCase(),u in this.currencies_by_id&&(c=this.currencies_by_id[u].code),d=this.account(),l=u+"_lock",d.used=this.safeFloat(i,l),d.total=this.safeFloat(i,u),d.free=d.total-d.used,o[c]=d);return e.abrupt("return",this.parseBalance(o));case 12:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=t.symbol,i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({coin:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchTickers",value:(O=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickerall(t);case 6:for(r=e.sent,n=r.data,i={},o=Object.keys(n),a=0;a<o.length;a++)s=o[a],u=this.markets_by_id[s],c=u.symbol,i[c]=this.parseTicker(n[s],u);return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOrderBook",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepth(this.extend({coin:this.marketId(t)},r));case 6:return n=e.sent,i=n.data,o=1e3*i.date,e.abrupt("return",this.parseOrderBook(i,o));case 10:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.sum(this.milliseconds(),288e5),n=this.iso8601(r);n=(n=n.split("T"))[0]+" "+e.t+"+08";var i=this.parse8601(n),o=this.safeFloat(e,"p"),a=this.safeFloat(e,"n"),s=t.symbol,u=this.priceToPrecision(s,a*o);return{timestamp:i,datetime:this.iso8601(i),symbol:s,id:void 0,order:void 0,type:"limit",side:e.s,price:o,amount:a,cost:u,fee:void 0,info:e}}},{key:"fetchTrades",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetOrders(this.extend({coin:o.id},i));case 8:return a=e.sent,s=a.data.d,e.abrupt("return",this.parseTrades(s,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOHLCV",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.publicGetKline(this.extend({coin:a.id,type:this.timeframes[r]},o));case 9:return s=e.sent,u=JSON.parse(s.data.datas.data),e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 12:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"undefined"!==typeof t&&(r=t.symbol);var n=this.safeString(e,"side");"undefined"===typeof n&&("undefined"!==typeof(n=this.safeString(e,"type"))&&(n="in"===n?"buy":"sell"),"undefined"===typeof n&&(n=this.safeString(e,"flag")));var i=this.safeFloat(e,"number"),o=this.safeFloat(e,"numberover"),a=void 0;"undefined"!==typeof i&&"undefined"!==typeof o&&(a=i-o);var s=void 0,u=void 0;return"datetime"in e&&(s=this.parse8601(e.datetime),u=this.iso8601(s)),{id:e.id,datetime:u,timestamp:s,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:n,price:e.price,cost:void 0,amount:e.number,filled:a,remaining:o,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:(g=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:{},e.next=4,this.loadMarkets();case 4:if(s=this.market(t),u="buy"===n?"in":"out",this.password){e.next=8;break}throw new d(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');case 8:return c={coin:s.id,type:u,price:this.priceToPrecision(t,o),number:this.amountToString(t,i),tradepwd:this.password},e.next=11,this.privatePostTradeAdd(this.extend(c,a));case 11:return l=e.sent,h=l.data.id,p=this.parseOrder({id:h,price:o,number:i,side:n},s),this.orders[h]=p,e.abrupt("return",p);case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return g.apply(this,arguments)})},{key:"cancelOrder",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostTradeCancel(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.privatePostOpenOrders(this.extend({coin:o.id},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrders(a.data,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"nonce",value:function(){var e=this.seconds();return e>this.options.lastNonceTimestamp&&(this.options.lastNonceTimestamp=e,this.options.lastNonce=1e5),this.options.lastNonce=this.sum(this.options.lastNonce,1),this.options.lastNonce}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e,s=void 0;return"public"===t?(s=this.urlencode(n)).length&&(a+="?"+s):(this.checkRequiredCredentials(),o=this.urlencode(this.keysort(this.extend({api_key:this.apiKey,timestamp:this.seconds(),nonce:this.nonce()},n))),o+="&sign="+this.hash(this.encode(o+this.secret)),i={"Content-type":"application/x-www-form-urlencoded"}),{url:a,method:r,body:o,headers:i}}},{key:"request",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:"public",n=y.length>2&&void 0!==y[2]?y[2]:"GET",i=y.length>3&&void 0!==y[3]?y[3]:{},o=y.length>4&&void 0!==y[4]?y[4]:void 0,a=y.length>5&&void 0!==y[5]?y[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"0"===(u=this.safeString(s,"code"))){e.next=13;break}throw c=this.safeValue({103:l,104:l,200:l,202:l,401:l,406:l,203:h,201:f,408:p,106:v},u,d),m=this.safeString(s,"msg","Error"),new c(m);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:["https://bl3p.eu","https://bitonic.nl"],doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025}}})}},{key:"fetchBalance",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privatePostGENMKTMoneyInfo();case 3:for(t=e.sent,r=t.data,n=r.wallets,i={info:r},o=Object.keys(this.currencies),a=0;a<o.length;a++)s=o[a],u=this.account(),s in n&&"available"in n[s]&&(u.free=parseFloat(n[s].available.value)),s in n&&"balance"in n[s]&&(u.total=parseFloat(n[s].balance.value)),u.total&&u.free&&(u.used=u.total-u.free),i[s]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[e[t]/1e5,e[r]/1e8]}},{key:"fetchOrderBook",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},n=this.market(t),e.next=5,this.publicGetMarketOrderbook(this.extend({market:n.id},r));case 5:return i=e.sent,o=i.data,e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price_int","amount_int"));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchTicker",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.publicGetMarketTicker(this.extend({market:this.marketId(t)},r));case 3:return n=e.sent,i=1e3*n.timestamp,o=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(n.volume["24h"]),quoteVolume:void 0,info:n});case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){return{id:e.trade_id.toString(),timestamp:e.date,datetime:this.iso8601(e.date),symbol:t.symbol,type:void 0,side:void 0,price:e.price_int/1e5,amount:e.amount_int/1e8,info:e}}},{key:"fetchTrades",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},o=this.market(t),e.next=6,this.publicGetMarketTrades(this.extend({market:o.id},i));case 6:return a=e.sent,s=this.parseTrades(a.data.trades,o,r,n),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createOrder",value:(d=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s=this.market(t),u={market:s.id,amount_int:parseInt(1e8*i),fee_currency:s.quote,type:"buy"===n?"bid":"ask"},"limit"===r&&(u.price_int=parseInt(1e5*o)),e.next=7,this.privatePostMarketMoneyOrderAdd(this.extend(u,a));case 7:return c=e.sent,e.abrupt("return",{info:c,id:c.data.order_id.toString()});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return d.apply(this,arguments)})},{key:"cancelOrder",value:(c=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostMarketMoneyOrderCancel({order_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),s=this.urls.api+"/"+this.version+"/"+a,u=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c=this.nonce();o=this.urlencode(this.extend({nonce:c},u));var d=this.base64ToBinary(this.secret),l=a+"\0"+o,h=this.hmac(this.encode(l),d,"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(h)}}return{url:s,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(61),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.InvalidOrder,h=u.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bleutrade",name:"Bleutrade",countries:"BR",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30303000-b602dbe6-976d-11e7-956d-36c5049c01e7.jpg",api:{public:"https://bleutrade.com/api",account:"https://bleutrade.com/api",market:"https://bleutrade.com/api"},www:"https://bleutrade.com",doc:"https://bleutrade.com/help/API",fees:"https://bleutrade.com/help/fees_and_deadlines"},fees:{funding:{withdraw:{ADC:.1,BTA:.1,BITB:.1,BTC:.001,BCC:.001,BTCD:.001,BTG:.001,BLK:.1,CDN:.1,CLAM:.01,DASH:.001,DCR:.05,DGC:.1,DP:.1,DPC:.1,DOGE:10,EFL:.1,ETH:.01,EXP:.1,FJC:.1,BSTY:.001,GB:.1,NLG:.1,HTML:1,LTC:.001,MONA:.01,MOON:1,NMC:.015,NEOS:.1,NVC:.05,OK:.1,PPC:.1,POT:.1,XPM:.001,QTUM:.1,RDD:.1,SLR:.1,START:.1,SLG:.1,TROLL:.1,UNO:.01,VRC:.1,VTC:.1,XVP:.1,WDC:.001,ZET:.1}}},commonCurrencies:{EPC:"Epacoin"},exceptions:{"Insufficient funds!":h,"Invalid Order ID":l,"Invalid apikey or apisecret":d},options:{parseOrderStatus:!0}})}},{key:"fetchMarkets",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],n=0;n<t.result.length;n++)i=t.result[n],o=i.MarketName,a=i.MarketCurrency,s=i.BaseCurrency,u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,l={amount:8,price:8},"true"===(h=this.safeString(i,"IsActive"))?h=!0:"false"===h&&(h=!1),r.push({id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:h,info:i,lot:Math.pow(10,-l.amount),precision:l,limits:{amount:{min:i.MinTradeSize,max:void 0},price:{min:void 0,max:void 0},cost:{min:0,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={OK:"closed",OPEN:"open",CANCELED:"canceled"};return e in t?t[e]:e}},{key:"fetchOrders",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:if(o=void 0,!t){e.next=13;break}return e.next=10,this.loadMarkets();case 10:o=this.market(t),e.next=14;break;case 13:o=void 0;case 14:return e.next=16,this.accountGetOrders(this.extend({market:"ALL",orderstatus:"ALL"},i));case 16:return a=e.sent,e.abrupt("return",this.parseOrders(a.result,o,r,n));case 18:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchClosedOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"getOrderIdField",value:function(){return"orderid"}},{key:"fetchOrderBook",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={market:this.marketId(t),type:"ALL"},"undefined"!==typeof r&&(i.depth=r),e.next=8,this.publicGetOrderbook(this.extend(i,n));case 8:if(o=e.sent,a=this.safeValue(o,"result")){e.next=12;break}throw new c(this.id+" publicGetOrderbook() returneded no result "+this.json(o));case 12:return e.abrupt("return",this.parseOrderBook(a,void 0,"buy","sell","Rate","Quantity"));case 13:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InvalidOrder,h=c.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,p,f,v,m,y,b,g,k,w,x,O,T,_;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"braziliex",name:"Braziliex",countries:"BR",rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order"]}},commonCurrencies:{EPC:"Epacoin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:(_=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=r[a],u=this.safeInteger(s,"decimal"),c=a.toUpperCase(),d=this.commonCurrencyCode(c),l=1===this.safeInteger(s,"active"),0!==this.safeInteger(s,"under_maintenance")&&(l=!1),h=1===this.safeInteger(s,"is_withdrawal_active"),p=1===this.safeInteger(s,"is_deposit_active"),h&&p||(l=!1),i[d]={id:a,code:d,name:s.name,active:l,precision:u,funding:{withdraw:{active:h,fee:s.txWithdrawalFee},deposit:{active:p,fee:s.txDepositFee}},limits:{amount:{min:s.minAmountTrade,max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:s.MinWithdrawal,max:Math.pow(10,u)},deposit:{min:s.minDeposit,max:void 0}},info:s};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchMarkets",value:(T=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker();case 2:for(t=e.sent,r=Object.keys(t),n=[],o=0;o<r.length;o++)a=r[o],s=t[a],u=a.split("_"),c=i(u,2),d=c[0],l=c[1],h=d.toUpperCase(),p=l.toUpperCase(),h=this.commonCurrencyCode(h),p=this.commonCurrencyCode(p),f=h+"/"+p,v=1===this.safeInteger(s,"active"),m={amount:8,price:8},y=Math.pow(10,-m.amount),n.push({id:a,symbol:f.toUpperCase(),base:h,quote:p,baseId:d,quoteId:l,active:v,lot:y,precision:m,limits:{amount:{min:y,max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)},cost:{min:void 0,max:void 0}},info:s});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=e.date;e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highestBid24"),low:this.safeFloat(e,"lowestAsk24"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume24"),quoteVolume:this.safeFloat(e,"quoteVolume24"),info:e}}},{key:"fetchTicker",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerMarket(this.extend({market:n.id},r));case 6:return i=e.sent,i={date:this.milliseconds(),ticker:i},e.abrupt("return",this.parseTicker(i,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchTickers",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},i=this.milliseconds(),o=Object.keys(r),a=0;a<o.length;a++)s=o[a],u=this.markets_by_id[s],c=u.symbol,d={date:i,ticker:r[s]},n[c]=this.parseTicker(d,u);return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchOrderBook",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbookMarket(this.extend({market:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;r="date_exec"in e?this.parse8601(e.date_exec):this.parse8601(e.date);var n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=this.safeFloat(e,"total"),s=this.safeString(e,"order_number");return{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"_id"),order:s,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradehistoryMarket(this.extend({market:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostCompleteBalance(t);case 5:for(r=e.sent,n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=this.commonCurrencyCode(a),(c={free:parseFloat(s.available),used:0,total:parseFloat(s.total)}).used=c.total-c.free,n[u]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(!t){var n=this.safeString(e,"market");n&&n in this.markets_by_id&&(t=this.markets_by_id[n])}t&&(r=t.symbol);var i=this.safeValue(e,"timestamp");i||(i=this.parse8601(e.date));var o=this.safeFloat(e,"price"),a=this.safeFloat(e,"total",0),s=this.safeFloat(e,"amount"),u=s*this.safeFloat(e,"progress"),c=this.amountToPrecision(r,s-u),d=e;return"info"in d&&(d=e.info),{id:e.order_number,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:e.type,price:o,cost:a,amount:s,filled:u,remaining:c,trades:void 0,fee:this.safeValue(e,"fee"),info:d}}},{key:"createOrder",value:(b=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u="privatePost"+this.capitalize(n),e.next=8,this[u](this.extend({market:s.id,price:o,amount:i},a));case 8:if(c=e.sent,1===this.safeInteger(c,"success")){e.next=12;break}throw new l(this.id+" "+this.json(c));case 12:return d=(d=c.message.split(" / ")).slice(1),h=d[5].split(" "),p=this.parseOrder({timestamp:this.milliseconds(),order_number:c.order_number,type:d[0].toLowerCase(),market:d[0].toLowerCase(),amount:d[2].split(" ")[1],price:d[3].split(" ")[1],total:d[4].split(" ")[1],fee:{cost:parseFloat(h[1]),currency:h[2]},progress:"0.0",info:c},s),f=p.id,this.orders[f]=p,e.abrupt("return",p);case 19:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return b.apply(this,arguments)})},{key:"cancelOrder",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostCancelOrder(this.extend({order_number:t,market:i.id},n));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchOpenOrders",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.privatePostOpenOrders(this.extend({market:o.id},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrders(a.order_open,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchMyTrades",value:(v=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.privatePostTradeHistory(this.extend({market:o.id},i));case 9:return a=e.sent,e.abrupt("return",this.parseTrades(a.trade_history,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchDepositAddress",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostDepositAddress(this.extend({currency:n.id},r));case 6:return i=e.sent,o=this.safeString(i,"deposit_address"),this.checkAddress(o),a=this.safeString(i,"payment_id"),e.abrupt("return",{currency:t,address:o,tag:a,info:i});case 11:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+t,s=this.omit(n,this.extractParams(e));if("public"===t)a+="/"+this.implodeParams(e,n),Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),s=this.extend({command:e,nonce:this.nonce()},s),o=this.urlencode(s);var u=this.hmac(this.encode(o),this.encode(this.secret),"sha512");i={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.decode(u)}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("success"in(s=e.sent))){e.next=15;break}if(0!==this.safeInteger(s,"success")){e.next=15;break}if("Invalid APIKey"!==(u=this.safeString(s,"message"))){e.next=14;break}throw new h(u);case 14:throw new d(u);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcchina",name:"BTCChina",countries:"CN",rateLimit:1500,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766368-465b3286-5ed6-11e7-9a11-0f6467e1d82b.jpg",api:{plus:"https://plus-api.btcchina.com/market",public:"https://data.btcchina.com/data",private:"https://api.btcchina.com/api_trade_v1.php"},www:"https://www.btcchina.com",doc:"https://www.btcchina.com/apidocs"},api:{plus:{get:["orderbook","ticker","trade"]},public:{get:["historydata","orderbook","ticker","trades"]},private:{post:["BuyIcebergOrder","BuyOrder","BuyOrder2","BuyStopOrder","CancelIcebergOrder","CancelOrder","CancelStopOrder","GetAccountInfo","getArchivedOrder","getArchivedOrders","GetDeposits","GetIcebergOrder","GetIcebergOrders","GetMarketDepth","GetMarketDepth2","GetOrder","GetOrders","GetStopOrder","GetStopOrders","GetTransactions","GetWithdrawal","GetWithdrawals","RequestWithdrawal","SellIcebergOrder","SellOrder","SellOrder2","SellStopOrder"]}},markets:{"BTC/CNY":{id:"btccny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",api:"public",plus:!1},"LTC/CNY":{id:"ltccny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",api:"public",plus:!1},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",api:"public",plus:!1},"BCH/CNY":{id:"bcccny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",api:"plus",plus:!0},"ETH/CNY":{id:"ethcny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",api:"plus",plus:!0}}})}},{key:"fetchMarkets",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker({market:"all"});case 2:for(t=e.sent,r=[],n=Object.keys(t),i=0;i<n.length;i++)o=n[i],a=t[o],s=o.split("_"),u=s[1],c=u.slice(0,3),d=u.slice(3,6),c=c.toUpperCase(),d=d.toUpperCase(),l=c+"/"+d,r.push({id:u,symbol:l,base:c,quote:d,info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchBalance",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.result,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=a.toLowerCase(),u=this.account(),s in r.balance&&(u.total=parseFloat(r.balance[s].amount)),s in r.frozen&&(u.used=parseFloat(r.frozen[s].amount)),u.free=u.total-u.used,n[a]=u;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"createMarketRequest",value:function(e){var t={};return t[e.plus?"symbol":"market"]=e.id,t}},{key:"fetchOrderBook",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),i=n.api+"GetOrderbook",o=this.createMarketRequest(n),e.next=9,this[i](this.extend(o,r));case 9:return a=e.sent,s=1e3*a.date,e.abrupt("return",this.parseOrderBook(a,s));case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"parseTicker",value:function(e,t){var r=1e3*e.date,n=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),vwap:this.safeFloat(e,"vwap"),open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"parseTickerPlus",value:function(e,t){var r=e.Timestamp,n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),ask:this.safeFloat(e,"AskPrice"),vwap:void 0,open:this.safeFloat(e,"Open"),last:this.safeFloat(e,"Last"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24H"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i=n.api+"GetTicker",o=this.createMarketRequest(n),e.next=8,this[i](this.extend(o,r));case 8:if(a=e.sent,s=a.ticker,!n.plus){e.next=12;break}return e.abrupt("return",this.parseTickerPlus(s,n));case 12:return e.abrupt("return",this.parseTicker(s,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"parseTradePlus",value:function(e,t){var r=this.parse8601(e.timestamp);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseTradesPlus",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTradePlus(e[n],t));return r}},{key:"fetchTrades",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a=o.api+"GetTrade",s=this.createMarketRequest(o),o.plus?(u=this.milliseconds(),s.start_time=u-864e5,s.end_time=u):a+="s",e.next=11,this[a](this.extend(s,i));case 11:if(c=e.sent,!o.plus){e.next=14;break}return e.abrupt("return",this.parseTradesPlus(c.trades,o));case 14:return e.abrupt("return",this.parseTrades(c,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createOrder",value:(d=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u="privatePost"+this.capitalize(n)+"Order2",c={},d=s.id.toUpperCase(),c.params="market"===r?[void 0,i,d]:[o,i,d],e.next=11,this[u](this.extend(c,a));case 11:return l=e.sent,e.abrupt("return",{info:l,id:l.id});case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return d.apply(this,arguments)})},{key:"cancelOrder",value:(c=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return n=r.market,e.next=7,this.privatePostCancelOrder(this.extend({params:[t,n]},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var s=[];"params"in n&&(s=n.params);var u=this.nonce(),c={method:e,id:u,params:s};s=s.join(","),o=this.json(c);var d="tonce="+u+"&accesskey="+this.apiKey+"&requestmethod="+r.toLowerCase()+"&id="+u+"&method="+e+"&params="+s,l=this.hmac(this.encode(d),this.encode(this.secret),"sha1"),h=this.encode(this.apiKey+":"+l);i={Authorization:"Basic "+this.stringToBase64(h),"Json-Rpc-Tonce":u}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(63);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcexchange",name:"BTCExchange",countries:"PH",rateLimit:1500,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27993052-4c92911a-64aa-11e7-96d8-ec6ac3435757.jpg",api:"https://www.btcexchange.ph/api",www:"https://www.btcexchange.ph",doc:"https://github.com/BTCTrader/broker-api-docs"},markets:{"BTC/PHP":{id:"BTC/PHP",symbol:"BTC/PHP",base:"BTC",quote:"PHP"}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.OrderNotFound,l=u.NotSupported,h=u.InvalidOrder,p=u.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcmarkets",name:"BTC Markets",countries:"AU",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,cancelOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29142911-0e1acfc2-7d5c-11e7-98c4-07d9532b29d7.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net",web:"https://btcmarkets.net/data"},www:"https://btcmarkets.net/",doc:"https://github.com/BTCMarkets/API"},api:{public:{get:["market/{id}/tick","market/{id}/orderbook","market/{id}/trades"]},private:{get:["account/balance","account/{id}/tradingfee"],post:["fundtransfer/withdrawCrypto","fundtransfer/withdrawEFT","order/create","order/cancel","order/history","order/open","order/trade/history","order/createBatch","order/detail"]},web:{get:["market/BTCMarkets/{id}/tickByTime"]}},markets:{"BTC/AUD":{id:"BTC/AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"LTC/AUD":{id:"LTC/AUD",symbol:"LTC/AUD",base:"LTC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"ETH/AUD":{id:"ETH/AUD",symbol:"ETH/AUD",base:"ETH",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"ETC/AUD":{id:"ETC/AUD",symbol:"ETC/AUD",base:"ETC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"XRP/AUD":{id:"XRP/AUD",symbol:"XRP/AUD",base:"XRP",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"BCH/AUD":{id:"BCH/AUD",symbol:"BCH/AUD",base:"BCH",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"LTC/BTC":{id:"LTC/BTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"ETH/BTC":{id:"ETH/BTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"ETC/BTC":{id:"ETC/BTC",symbol:"ETC/BTC",base:"ETC",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"XRP/BTC":{id:"XRP/BTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"BCH/BTC":{id:"BCH/BTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}}},timeframes:{"1m":"minute","1h":"hour","1d":"day"},exceptions:{3:h,6:p}})}},{key:"fetchBalance",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountBalance();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.currency,a=1e8,s=parseFloat(i.balance/a),u=parseFloat(i.pendingFunds/a),c={free:s-u,used:u,total:s},r[o]=c;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1])/1e8,parseFloat(e[2])/1e8,parseFloat(e[3])/1e8,parseFloat(e[4])/1e8,parseFloat(e[5])/1e8]}},{key:"fetchOHLCV",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.load_markets();case 6:return a=this.market(t),s={id:a.id,timeWindow:this.timeframes[r]},"undefined"!==typeof n&&(s.since=n),e.next=11,this.webGetMarketBTCMarketsIdTickByTime(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.ticks,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetMarketIdOrderbook(this.extend({id:n.id},r));case 7:return i=e.sent,o=1e3*i.timestamp,e.abrupt("return",this.parseOrderBook(i,o));case 10:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"lastPrice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bestBid"),bidVolume:void 0,ask:this.safeFloat(e,"bestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketIdTick(this.extend({id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarketIdTrades(this.extend({id:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"createOrder",value:(x=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return a=this.market(t),s=1e8,u="buy"===n?"Bid":"Ask",(c=this.ordered({currency:a.quote})).currency=a.quote,c.instrument=a.base,c.price=parseInt(o*s),c.volume=parseInt(i*s),c.orderSide=u,c.ordertype=this.capitalize(r),c.clientRequestId=this.nonce().toString(),e.next=17,this.privatePostOrderCreate(c);case 17:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 19:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return x.apply(this,arguments)})},{key:"cancelOrders",value:(w=i(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:for(r=0;r<t.length;r++)t[r]=parseInt(t[r]);return e.next=5,this.privatePostOrderCancel({orderIds:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.cancelOrders([t]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseMyTrade",value:function(e,t){var r=e.creationTime,n="Bid"===e.side?"buy":"sell",i="AUD"===t.quote?t.quote:t.base;return{info:e,id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:n,price:e.price/1e8,fee:{currency:i,cost:e.fee/1e8},amount:e.volume/1e8,order:this.safeString(e,"orderId")}}},{key:"parseMyTrades",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],[]),n=0;n<e.length;n++){var i=this.parseMyTrade(e[n],t);r.push(i)}return r}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="Bid"===e.orderSide?"buy":"sell",n="Limit"===e.ordertype?"limit":"market",i=e.creationTime;t||(t=this.market(e.instrument+"/"+e.currency));var o="open";"Failed"===e.status||"Cancelled"===e.status||"Partially Cancelled"===e.status||"Error"===e.status?o="canceled":"Fully Matched"!==e.status&&"Partially Matched"!==e.status||(o="closed");var a=this.safeFloat(e,"price")/1e8,s=this.safeFloat(e,"volume")/1e8,u=this.safeFloat(e,"openVolume",0)/1e8,c=s-u,d=a*s,l=this.parseMyTrades(e.trades,t);return{info:e,id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:t.symbol,type:n,side:r,price:a,cost:d,amount:s,filled:c,remaining:u,status:o,trades:l,fee:void 0}}},{key:"fetchOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=[parseInt(t)],e.next=7,this.privatePostOrderDetail(this.extend({orderIds:n},r));case 7:if(i=e.sent,!(i.orders.length<1)){e.next=11;break}throw new d(this.id+" No matching order found: "+t);case 11:return o=i.orders[0],e.abrupt("return",this.parseOrder(o));case 13:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"prepareHistoryRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.ordered({currency:e.quote,instrument:e.base});return n.limit="undefined"!==typeof r?r:100,n.since="undefined"!==typeof t?t:0,n}},{key:"fetchOrders",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new l(this.id+": fetchOrders requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a=this.prepareHistoryRequest(o,r,n),e.next=12,this.privatePostOrderHistory(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s.orders,o));case 14:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new l(this.id+": fetchOpenOrders requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a=this.prepareHistoryRequest(o,r,n),e.next=12,this.privatePostOrderOpen(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s.orders,o));case 14:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchClosedOrders",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterBy(o,"status","closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchMyTrades",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new l(this.id+": fetchMyTrades requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a=this.prepareHistoryRequest(o,r,n),e.next=12,this.privatePostOrderTradeHistory(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseMyTrades(s.trades,o));case 14:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.urls.api[t]+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),c=a+"\n"+u+"\n";i={"Content-Type":"application/json",apikey:this.apiKey,timestamp:u},"POST"===r&&(c+=o=this.json(n));var d=this.base64ToBinary(this.secret),l=this.hmac(this.encode(c),d,"sha512","base64");i.signature=this.decode(l)}else Object.keys(n).length&&(s+="?"+this.urlencode(n));return{url:s,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(o.length<2)&&"{"===o[0]){var a=JSON.parse(o);if("success"in a&&!a.success){var s=this.safeString(a,"errorCode"),u=this.id+" "+this.json(a);if(s in this.exceptions)throw new(0,this.exceptions[s])(u);throw new c(u)}}}},{key:"request",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(24),s=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btctradeim",name:"BtcTrade.im",countries:"HK",urls:{logo:"https://user-images.githubusercontent.com/1294454/36770531-c2142444-1c5b-11e8-91e2-a4d90dc85fe8.jpg",api:{web:"https://api.btctrade.im/coin",rest:"https://api.btctrade.im/api/v1"},www:"https://www.btctrade.im",doc:"https://www.btctrade.im/help.api.html",fees:"https://www.btctrade.im/spend.price.html"},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001}}}})}},{key:"request",value:(c=regeneratorRuntime.mark(function e(t){var r,n,i,o,a,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"public",n=l.length>2&&void 0!==l[2]?l[2]:"GET",i=l.length>3&&void 0!==l[3]?l[3]:{},o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(u=e.sent,"web"!==r){e.next=10;break}return e.abrupt("return",u);case 10:if(!(c=this.safeValue(u,"data"))){e.next=17;break}if("0"===this.safeString(u,"code")){e.next=16;break}throw d=this.safeString(u,"msg","Error"),new s(d);case 16:return e.abrupt("return",c);case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}},e,this)}),d=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=c.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(e){return d.apply(this,arguments)})}])&&i(r.prototype,n),u&&i(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btctradeua",name:"BTC Trade UA",countries:"UA",rateLimit:3e3,has:{CORS:!0,createMarketOrder:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}},{key:"signIn",value:function(){return this.privatePostAuth()}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalance();case 3:if(t=e.sent,r={info:t},"accounts"in t)for(n=t.accounts,i=0;i<n.length;i++)o=n[i],a=o.currency,s=parseFloat(o.balance),r[a]={free:s,used:0,total:s};return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},n=this.market(t),e.next=5,this.publicGetTradesBuySymbol(this.extend({symbol:n.id},r));case 5:return i=e.sent,e.next=8,this.publicGetTradesSellSymbol(this.extend({symbol:n.id},r));case 8:return o=e.sent,a={bids:[],asks:[]},i&&"list"in i&&(a.bids=i.list),o&&"list"in o&&(a.asks=o.list),e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price","currency_trade"));case 13:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.publicGetJapanStatHighSymbol(this.extend({symbol:this.marketId(t)},r));case 3:if(n=e.sent,i=n.trades,o=this.milliseconds(),a={symbol:t,timestamp:o,datetime:this.iso8601(o),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:i},(s=i.length)>0){for(u=Math.max(s-48,0),c=u;c<i.length;c++)d=i[c],"undefined"===typeof a.open&&(a.open=d[1]),("undefined"===typeof a.high||a.high<d[2])&&(a.high=d[2]),("undefined"===typeof a.low||a.low>d[3])&&(a.low=d[3]),"undefined"===typeof a.baseVolume?a.baseVolume=-d[5]:a.baseVolume-=d[5];l=s-1,a.last=i[l][4],a.close=a.last,a.baseVolume=-1*a.baseVolume}return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"convertCyrillicMonthNameToString",value:function(e){var t={"\u044f\u043d\u0432\u0430\u0440\u044f":"01","\u0444\u0435\u0432\u0440\u0430\u043b\u044f":"02","\u043c\u0430\u0440\u0442\u0430":"03","\u0430\u043f\u0440\u0435\u043b\u044f":"04","\u043c\u0430\u044f":"05","\u0438\u044e\u043d\u044f":"06","\u0438\u044e\u043b\u044f":"07","\u0430\u0432\u0433\u0443\u0441\u0442\u0430":"08","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":"09","\u043e\u043a\u0442\u044f\u0431\u0440\u044f":"10","\u043d\u043e\u044f\u0431\u0440\u044f":"11","\u0434\u0435\u043a\u0430\u0431\u0440\u044f":"12"},r=void 0;return e in t&&(r=t[e]),r}},{key:"parseCyrillicDatetime",value:function(e){var t=e.split(" "),r=t[0],n=this.convertCyrillicMonthNameToString(t[1]);if(!n)throw new u(this.id+" parseTrade() undefined month name: "+e);var i=t[2],o=t[4];7===o.length&&(o="0"+o),1===r.length&&(r="0"+r);var a=[i,n,r].join("-")+"T"+o,s=this.parse8601(a),c=[n,r].join("");return(c=parseInt(c))<325||c>1028?s-72e5:s-108e5}},{key:"parseTrade",value:function(e,t){var r=this.parseCyrillicDatetime(e.pub_date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:"limit",side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amnt_trade")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},o=this.market(t),e.next=6,this.publicGetDealsSymbol(this.extend({symbol:o.id},i));case 6:for(a=e.sent,s=[],u=0;u<a.length;u++)a[u].id%2&&s.push(a[u]);return e.abrupt("return",this.parseTrades(s,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},"market"!==r){e.next=4;break}throw new u(this.id+" allows limit orders only");case 4:return s=this.market(t),c="privatePost"+this.capitalize(n)+"Id",d={count:i,currency1:s.quote,currency:s.base,price:o},e.abrupt("return",this[c](this.extend(d,a)));case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostRemoveOrderId({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"parseOrder",value:function(e,t){var r=this.milliseconds;return{id:e.id,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amnt_trade,filled:0,remaining:e.amnt_trade,trades:void 0,info:e}}},{key:"fetchOpenOrders",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},"undefined"!==typeof t){e.next=6;break}throw new u(this.id+" fetchOpenOrders requires a symbol argument");case 6:return o=this.market(t),e.next=9,this.privatePostMyOrdersSymbol(this.extend({symbol:o.id},i));case 9:return a=e.sent,s=a.your_open_orders,e.abrupt("return",this.parseOrders(s,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+=this.implodeParams(e,s));else{this.checkRequiredCredentials();var u=this.nonce(),c=(o=this.urlencode(this.extend({out_order_id:u,nonce:u},s)))+this.secret;i={"public-key":this.apiKey,"api-sign":this.hash(this.encode(c),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"btcx",name:"BTCX",countries:["IS","US","EU"],rateLimit:1500,version:"v1",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766385-9fdcc98c-5ed6-11e7-8f14-66d5e5cd47e6.jpg",api:"https://btc-x.is/api",www:"https://btc-x.is",doc:"https://btc-x.is/custom/api-document.html"},api:{public:{get:["depth/{id}/{limit}","ticker/{id}","trade/{id}/{limit}"]},private:{post:["balance","cancel","history","order","redeem","trade","withdraw"]}},markets:{"BTC/USD":{id:"btc/usd",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/EUR":{id:"btc/eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(t),i=0;i<n.length;i++)o=n[i],a=o.toUpperCase(),s={free:t[o],used:0,total:t[o]},r[a]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},i={id:this.marketId(t)},"undefined"!==typeof r&&(i.limit=r),e.next=6,this.publicGetDepthIdLimit(this.extend(i,n));case 6:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.publicGetTickerId(this.extend({id:this.marketId(t)},r));case 3:return n=e.sent,i=1e3*n.time,e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"sell"),ask:this.safeFloat(n,"buy"),vwap:void 0,open:void 0,close:void 0,first:void 0,last:this.safeFloat(n,"last"),change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(n,"volume"),info:n});case 6:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date),n="ask"===e.type?"sell":"buy";return{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:n,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTradeIdLimit(this.extend({id:o.id,limit:1e3},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.privatePostTrade(this.extend({type:n.toUpperCase(),market:this.marketId(t),amount:i,price:o},a));case 4:return s=e.sent,e.abrupt("return",{info:s,id:s.order.id});case 6:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({order:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/";if("public"===t)a+=this.implodeParams(e,n);else{this.checkRequiredCredentials();var s=this.nonce();a+=t,o=this.urlencode(this.extend({Method:e.toUpperCase(),Nonce:s},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Signature:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"bxinth",name:"BX.in.th",countries:"TH",rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766412-567b1eb4-5ed7-11e7-94a8-ff6a3884f6c5.jpg",api:"https://bx.in.th/api",www:"https://bx.in.th",doc:"https://bx.in.th/info/api"},api:{public:{get:["","options","optionbook","orderbook","pairing","trade","tradehistory"]},private:{post:["balance","biller","billgroup","billpay","cancel","deposit","getorders","history","option-issue","option-bid","option-sell","option-myissue","option-mybid","option-myoptions","option-exercise","option-cancel","option-history","order","withdrawal","withdrawal-history"]}},fees:{trading:{taker:.0025,maker:.0025}},commonCurrencies:{DAS:"DASH",DOG:"DOGE"}})}},{key:"fetchMarkets",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairing();case 2:for(t=e.sent,r=Object.keys(t),n=[],i=0;i<r.length;i++)o=t[r[i]],a=o.pairing_id.toString(),s=o.secondary_currency,u=o.primary_currency,s=this.commonCurrencyCode(s),u=this.commonCurrencyCode(u),c=s+"/"+u,n.push({id:a,symbol:c,base:s,quote:u,info:o});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r=t.balance,n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=this.commonCurrencyCode(a),(u={free:parseFloat(r[a].available),used:0,total:parseFloat(r[a].total)}).used=u.total-u.free,n[s]=u;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({pairing:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.orderbook.bids.highbid),bidVolume:void 0,ask:parseFloat(e.orderbook.asks.highbid),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:this.safeFloat(e,"change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_24hours"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGet(t);case 6:for(r=e.sent,n={},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=this.markets_by_id[a],c=u.symbol,n[c]=this.parseTicker(s,u);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGet(this.extend({pairing:n.id},r));case 6:return i=e.sent,o=n.id.toString(),a=i[o],e.abrupt("return",this.parseTicker(a,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.trade_date);return{id:e.trade_id,info:e,order:e.order_id,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.trade_type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrade(this.extend({pairing:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.trades,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"createOrder",value:(f=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrder(this.extend({pairing:this.marketId(t),type:n,amount:i,rate:o},a));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.order_id.toString()});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return r=void 0,e.next=7,this.privatePostCancel({order_id:t,pairing:r});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"parseOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=this.safeString(t,"order_type"),i=void 0,"undefined"===typeof r&&"undefined"!==typeof(o=this.safeString(t,"pairing_id"))&&o in this.markets_by_id&&(r=this.markets_by_id[o]),"undefined"!==typeof r&&(i=r.symbol),a=this.parse8601(t.date),s=this.safeFloat(t,"rate"),u=this.safeFloat(t,"amount"),e.abrupt("return",{info:t,id:t.order_id,timestamp:a,datetime:this.iso8601(a),symbol:i,type:"limit",side:n,price:s,amount:u});case 9:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"fetchOpenOrders",value:(l=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,"undefined"!==typeof t&&(a=this.market(t),o.pairing=a.id),s=this.privatePostGetorders(this.extend(o,i)),u=this.parseOrders(s.orders,a,r,n),e.abrupt("return",this.filterBySymbol(u,t));case 12:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if(e&&(a+=e+"/"),Object.keys(n).length&&(a+="?"+this.urlencode(n)),"private"===t){this.checkRequiredCredentials();var s=this.nonce(),u=this.apiKey+s.toString()+this.secret,c=this.hash(this.encode(u),"sha256");o=this.urlencode(this.extend({key:this.apiKey,nonce:s,signature:c},n)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"public"!==r){e.next=10;break}return e.abrupt("return",s);case 10:if(!("success"in s)){e.next=13;break}if(!s.success){e.next=13;break}return e.abrupt("return",s);case 13:throw new u(this.id+" "+this.json(s));case 14:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"ccex",name:"C-CEX",countries:["DE","EU"],rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOrderBooks:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766433-16881f90-5ed8-11e7-92f8-3d92cc747a6c.jpg",api:{web:"https://c-cex.com/t",public:"https://c-cex.com/t/api_pub.html",private:"https://c-cex.com/t/api.html"},www:"https://c-cex.com",doc:"https://c-cex.com/?id=api"},api:{web:{get:["coinnames","{market}","pairs","prices","volume_{coin}"]},public:{get:["balancedistribution","markethistory","markets","marketsummaries","orderbook","fullorderbook"]},private:{get:["buylimit","cancel","getbalance","getbalances","getopenorders","getorder","getorderhistory","mytrades","selllimit"]}},fees:{trading:{taker:.002,maker:.002}},commonCurrencies:{BLC:"Cryptobullcoin",CRC:"CoreCoin",IOT:"IoTcoin",LUX:"Luxmi",VIT:"VitalCoin",XID:"InternationalDiamond"}})}},{key:"fetchMarkets",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,this.webGetPairs();case 3:for(r=e.sent,n=r.pairs,o=0;o<n.length;o++)a=n[o],s=a.split("-"),u=i(s,2),c=u[0],d=u[1],l=c.toUpperCase(),h=d.toUpperCase(),l=this.commonCurrencyCode(l),h=this.commonCurrencyCode(h),t[p=l+"/"+h]={id:a,symbol:p,base:l,quote:h,baseId:c,quoteId:d,info:a};return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetbalances();case 5:for(t=e.sent,r=t.result,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.Currency,s=this.commonCurrencyCode(a),u={free:o.Available,used:o.Pending,total:o.Balance},n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={market:this.marketId(t),type:"both"},"undefined"!==typeof r&&(i.depth=r),e.next=8,this.publicGetOrderbook(this.extend(i,n));case 8:return o=e.sent,a=o.result,e.abrupt("return",this.parseOrderBook(a,void 0,"buy","sell","Rate","Quantity"));case 11:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOrderBooks",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g,k,w,x,O,T,_=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.length>0&&void 0!==_[0]?_[0]:void 0,_.length>1&&void 0!==_[1]?_[1]:{},e.next=4,this.loadMarkets();case 4:return t={},e.next=7,this.publicGetFullorderbook();case 7:for(r=e.sent,n=Object.keys(r.result),o=0;o<n.length;o++)for(a=n[o],s=r.result[a],u=this.groupBy(s,"Market"),c=Object.keys(u),d=0;d<c.length;d++)l=c[d],h=l.toUpperCase(),p=a,h in this.markets_by_id?(f=this.markets_by_id[h],h=f.symbol):(v=h.split("-"),m=i(v,2),y=m[0],b=m[1],(g=b+"-"+y)in this.markets_by_id&&(k=this.markets_by_id[g],h=k.symbol)),h in t||(t[h]={}),t[h][p]=u[l];for(w={},x=Object.keys(t),O=0;O<x.length;O++)T=x[O],w[T]=this.parseOrderBook(t[T],void 0,"buy","sell","Rate","Quantity");return e.abrupt("return",w);case 14:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;"undefined"!==typeof t&&(n=t.symbol);var i=this.safeFloat(e,"lastprice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"buysupport"),info:e}}},{key:"fetchTickers",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:void 0,t=m.length>1&&void 0!==m[1]?m[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.webGetPrices(t);case 6:for(r=e.sent,n={},o=Object.keys(r),a=0;a<o.length;a++)s=o[a],u=r[s],c=void 0,d=void 0,s in this.markets_by_id?(c=this.markets_by_id[s],d=c.symbol):(l=s.toUpperCase(),h=l.split("-"),p=i(h,2),f=p[0],v=p[1],f=this.commonCurrencyCode(f),v=this.commonCurrencyCode(v),d=f+"/"+v),n[d]=this.parseTicker(u,c);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.webGetMarket(this.extend({market:n.id.toLowerCase()},r));case 6:return i=e.sent,o=i.ticker,e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.TimeStamp);return{id:e.Id.toString(),info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.OrderType.toLowerCase(),price:e.Price,amount:e.Quantity}}},{key:"fetchTrades",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarkethistory(this.extend({market:o.id,type:"both",depth:100},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.result,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s="privateGet"+this.capitalize(n)+r,e.next=7,this[s](this.extend({market:this.marketId(t),quantity:i,rate:o},a));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.result.uuid});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetCancel({uuid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("private"===t){this.checkRequiredCredentials();var s=this.nonce().toString(),u=this.keysort(this.extend({a:e,apikey:this.apiKey,nonce:s},n));a+="?"+this.urlencode(u),i={apisign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}else a+="public"===t?"?"+this.urlencode(this.extend({a:"get"+e},n)):"/"+this.implodeParams(e,n)+".json";return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"web"!==r){e.next=10;break}return e.abrupt("return",s);case 10:if(!("success"in s)){e.next=13;break}if(!s.success){e.next=13;break}return e.abrupt("return",s);case 13:throw new c(this.id+" "+this.json(s));case 14:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.NullResponse,h=c.InvalidOrder,p=c.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},options:{fetchOHLCVWarning:!0}})}},{key:"fetchMarkets",value:(R=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyLimits();case 2:for(t=e.sent,r=[],n=0;n<t.data.pairs.length;n++)o=t.data.pairs[n],a=o.symbol1+"/"+o.symbol2,u=(s=a).split("/"),c=i(u,2),d=c[0],l=c[1],r.push({id:a,info:o,symbol:s,base:d,quote:l,lot:o.minLotSize,precision:{price:this.precisionFromString(o.minPrice),amount:-1*Math.log10(o.minLotSize)},limits:{amount:{min:o.minLotSize,max:o.maxLotSize},price:{min:this.safeFloat(o,"minPrice"),max:this.safeFloat(o,"maxPrice")},cost:{min:o.minLotSizeS2,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"fetchBalance",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},n=["username","timestamp"],i=this.omit(t,n),o=Object.keys(i),a=0;a<o.length;a++)(s=o[a])in i&&((u={free:this.safeFloat(i[s],"available",0),used:this.safeFloat(i[s],"orders",0),total:0}).total=this.sum(u.free,u.used),r[s]=u);return e.abrupt("return",this.parseBalance(r));case 12:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrderBook",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={pair:this.marketId(t)},"undefined"!==typeof r&&(i.depth=r),e.next=8,this.publicGetOrderBookPair(this.extend(i,n));case 8:return o=e.sent,a=1e3*o.timestamp,e.abrupt("return",this.parseOrderBook(o,a));case 11:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:"1m",n=f.length>2&&void 0!==f[2]?f[2]:void 0,i=f.length>3&&void 0!==f[3]?f[3]:void 0,o=f.length>4&&void 0!==f[4]?f[4]:{},e.next=6,this.loadMarkets();case 6:if(a=this.market(t),n){e.next=11;break}n=this.milliseconds()-864e5,e.next=13;break;case 11:if(!this.options.fetchOHLCVWarning){e.next=13;break}throw new d(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");case 13:return s=(s=(s=this.ymd(n)).split("-")).join(""),u={pair:a.id,yyyymmdd:s},e.prev=17,e.next=20,this.publicGetOhlcvHdYyyymmddPair(this.extend(u,o));case 20:return c=e.sent,h="data"+this.timeframes[r],p=JSON.parse(c[h]),e.abrupt("return",this.parseOHLCVs(p,a,r,n,i));case 26:if(e.prev=26,e.t0=e.catch(17),!(e.t0 instanceof l)){e.next=30;break}return e.abrupt("return",[]);case 30:case"end":return e.stop()}},e,this,[[17,26]])})),function(e){return T.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"timestamp"in e&&(r=1e3*parseInt(e.timestamp),n=this.iso8601(r));var i=this.safeFloat(e,"volume"),o=this.safeFloat(e,"high"),a=this.safeFloat(e,"low"),s=this.safeFloat(e,"bid"),u=this.safeFloat(e,"ask"),c=this.safeFloat(e,"last"),d=void 0;return t&&(d=t.symbol),{symbol:d,timestamp:r,datetime:n,high:o,low:a,bid:s,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(O=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return r=Object.keys(this.currencies),e.next=7,this.publicGetTickersCurrencies(this.extend({currencies:r.join("/")},t));case 7:for(n=e.sent,i=n.data,o={},a=0;a<i.length;a++)s=i[a],u=s.pair.replace(":","/"),c=this.markets[u],o[u]=this.parseTicker(s,c);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchTicker",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerPair(this.extend({pair:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date);return{info:e,id:e.tid,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradeHistoryPair(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"createOrder",value:(k=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:if(s={pair:this.marketId(t),type:n,amount:i},"limit"!==r){e.next=9;break}s.price=o,e.next=14;break;case 9:if("buy"!==n){e.next=13;break}if(o){e.next=12;break}throw new h("For market buy orders "+this.id+" requires the amount of quote currency to spend, to calculate proper costs call createOrder (symbol, 'market', 'buy', amount, price)");case 12:s.amount=i*o;case 13:s.order_type=r;case 14:return e.next=16,this.privatePostPlaceOrderPair(this.extend(s,a));case 16:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 18:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return k.apply(this,arguments)})},{key:"cancelOrder",value:(g=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time;r="string"===typeof e.time&&e.time.indexOf("T")>=0?this.parse8601(r):parseInt(r);var n=void 0;if(!t){var i=e.symbol1+"/"+e.symbol2;i in this.markets&&(t=this.market(i))}var o=e.status;"a"===o?o="open":"cd"===o?o="canceled":"c"===o?o="canceled":"d"===o&&(o="closed");var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),u=this.safeFloat(e,"pending");u||(u=this.safeFloat(e,"remains"));var c=s-u,d=void 0,l=void 0;if(t){n=t.symbol,"undefined"===typeof(l=this.safeFloat(e,"ta:"+t.quote))&&(l=this.safeFloat(e,"tta:"+t.quote));var h="fa:"+t.base,p="tfa:"+t.base,f="fa:"+t.quote,v="tfa:"+t.quote,m=this.safeFloat(e,"tradingFeeMaker");if(m||(m=this.safeFloat(e,"tradingFeeTaker",m)),m&&(m/=100),h in e||p in e){var y=this.safeFloat(e,h);"undefined"===typeof y&&(y=this.safeFloat(e,p)),d={currency:t.base,rate:m,cost:y}}else if(f in e||v in e){var b=this.safeFloat(e,f);"undefined"===typeof b&&(b=this.safeFloat(e,v)),d={currency:t.quote,rate:m,cost:b}}}return l||(l=a*c),{id:e.id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:n,type:void 0,side:e.type,price:a,cost:l,amount:s,filled:c,remaining:u,trades:void 0,fee:d,info:e}}},{key:"fetchOpenOrders",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a="privatePostOpenOrders",s=void 0,t&&(s=this.market(t),o.pair=s.id,a+="Pair"),e.next=12,this[a](this.extend(o,i));case 12:for(u=e.sent,c=0;c<u.length;c++)u[c]=this.extend(u[c],{status:"open"});return e.abrupt("return",this.parseOrders(u,s,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchClosedOrders",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:if(o="privatePostArchivedOrdersPair","undefined"!==typeof t){e.next=9;break}throw new p(this.id+" fetchClosedOrders requires a symbol argument");case 9:return a=this.market(t),s={pair:a.id},e.next=13,this[o](this.extend(s,i));case 13:return u=e.sent,e.abrupt("return",this.parseOrders(u,a,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrder",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrder(this.extend({id:t.toString()},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=u+this.uid+this.apiKey,d=this.hmac(this.encode(c),this.encode(this.secret));o=this.urlencode(this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:u},s)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent){e.next=12;break}throw new l(this.id+" returned "+this.json(s));case 12:if(!0!==s){e.next=16;break}return e.abrupt("return",s);case 16:if(!("e"in s)){e.next=23;break}if(!("ok"in s)){e.next=20;break}if("ok"!==s.ok){e.next=20;break}return e.abrupt("return",s);case 20:throw new d(this.id+" "+this.json(s));case 23:if(!("error"in s)){e.next=26;break}if(!s.error){e.next=26;break}throw new d(this.id+" "+this.json(s));case 26:return e.abrupt("return",s);case 27:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchDepositAddress",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:{},"XRP"!==t){e.next=3;break}throw new p(this.id+" fetchDepositAddress does not support XRP addresses yet (awaiting docs from CEX.io)");case 3:return e.next=5,this.loadMarkets();case 5:return n=this.currency(t),i={currency:n.id},e.next=9,this.privatePostGetAddress(this.extend(i,r));case 9:return o=e.sent,a=this.safeString(o,"data"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:void 0,info:o});case 13:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(23),s=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"chbtc",name:"CHBTC",countries:"CN",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28555659-f0040dc2-7109-11e7-9d99-688a438bf9f4.jpg",api:{public:"http://api.chbtc.com/data",private:"https://trade.chbtc.com/api"},www:"https://trade.chbtc.com/api",doc:"https://www.chbtc.com/i/developer"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY"},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY"},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY"},"BTS/CNY":{id:"bts_cny",symbol:"BTS/CNY",base:"BTS",quote:"CNY"},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY"},"HSR/CNY":{id:"hsr_cny",symbol:"HSR/CNY",base:"HSR",quote:"CNY"},"QTUM/CNY":{id:"qtum_cny",symbol:"QTUM/CNY",base:"QTUM",quote:"CNY"}}})}},{key:"getMarketFieldName",value:function(){return"currency"}},{key:"request",value:(c=regeneratorRuntime.mark(function e(t){var r,n,i,o,a,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(u=e.sent,"private"!==r){e.next=11;break}if(!("code"in u)){e.next=11;break}throw new s(this.id+" "+this.json(u));case 11:if(!("result"in u)){e.next=14;break}if(u.result){e.next=14;break}throw new s(this.id+" "+this.json(u));case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}},e,this)}),d=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=c.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(e){return d.apply(this,arguments)})}])&&i(r.prototype,n),u&&i(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(11);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"chilebit",name:"ChileBit",countries:"CL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991414-1298f0d8-647f-11e7-9c40-d56409266336.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://chilebit.net",doc:"https://blinktrade.com/docs"},options:{brokerId:"9"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InsufficientFunds,h=c.InvalidNonce,p=c.InvalidOrder,f=c.PermissionDenied;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"cobinhood",name:"COBINHOOD",countries:"TW",rateLimit:100,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchDepositAddress:!0,createDepositAddress:!0,withdraw:!0,fetchMyTrades:!0},requiredCredentials:{apiKey:!0,secret:!1},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","7d":"7D","14d":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35755576-dee02e5c-0878-11e8-989f-1595d80ba47f.jpg",api:{web:"https://api.cobinhood.com/v1",ws:"wss://feed.cobinhood.com"},www:"https://cobinhood.com",doc:"https://cobinhood.github.io/api-public"},api:{system:{get:["info","time","messages","messages/{message_id}"]},admin:{get:["system/messages","system/messages/{message_id}"],post:["system/messages"],patch:["system/messages/{message_id}"],delete:["system/messages/{message_id}"]},public:{get:["market/tickers","market/currencies","market/trading_pairs","market/orderbooks/{trading_pair_id}","market/stats","market/tickers/{trading_pair_id}","market/trades/{trading_pair_id}","chart/candles/{trading_pair_id}"]},private:{get:["trading/orders/{order_id}","trading/orders/{order_id}/trades","trading/orders","trading/order_history","trading/trades","trading/trades/{trade_id}","wallet/balances","wallet/ledger","wallet/deposit_addresses","wallet/withdrawal_addresses","wallet/withdrawals/{withdrawal_id}","wallet/withdrawals","wallet/deposits/{deposit_id}","wallet/deposits"],post:["trading/orders","wallet/deposit_addresses","wallet/withdrawal_addresses","wallet/withdrawals"],delete:["trading/orders/{order_id}"]}},fees:{trading:{maker:0,taker:0}},precision:{amount:8,price:8},exceptions:{insufficient_balance:l,invalid_nonce:h,unauthorized_scope:f}})}},{key:"fetchCurrencies",value:(B=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetMarketCurrencies(t);case 3:for(r=e.sent,n=r.result.currencies,i={},o=0;o<n.length;o++)a=n[o],s=a.currency,u=this.commonCurrencyCode(s),c=this.safeFloat(a,"min_unit"),i[u]={id:s,code:u,name:a.name,active:!0,fiat:!1,precision:this.precisionFromString(a.min_unit),limits:{amount:{min:c,max:void 0},price:{min:c,max:void 0},deposit:{min:c,max:void 0},withdraw:{min:c,max:void 0}},funding:{withdraw:{fee:this.safeFloat(a,"withdrawal_fee")},deposit:{fee:this.safeFloat(a,"deposit_fee")}},info:a};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchMarkets",value:(E=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketTradingPairs();case 2:for(t=e.sent,r=t.result.trading_pairs,n=[],o=0;o<r.length;o++)a=r[o],s=a.id,u=s.split("-"),c=i(u,2),d=c[0],l=c[1],h=this.commonCurrencyCode(d),p=this.commonCurrencyCode(l),f=h+"/"+p,v={amount:8,price:this.precisionFromString(a.quote_increment)},m=this.safeValue(a,"is_active",!0),n.push({id:s,symbol:f,base:h,quote:p,baseId:d,quoteId:l,active:m,precision:v,limits:{amount:{min:this.safeFloat(a,"base_min_size"),max:this.safeFloat(a,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:a});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("undefined"===typeof t){var r=this.safeString(e,"trading_pair_id");t=this.findMarket(r)}var n=void 0;"undefined"!==typeof t&&(n=t.symbol);var i=this.safeInteger(e,"timestamp"),o=this.safeFloat(e,"last_trade_price");return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"24h_high"),low:this.safeFloat(e,"24h_low"),bid:this.safeFloat(e,"highest_bid"),bidVolume:void 0,ask:this.safeFloat(e,"lowest_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:this.safeFloat(e,"percentChanged24hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"24h_volume"),quoteVolume:this.safeFloat(e,"quote_volume"),info:e}}},{key:"fetchTicker",value:(P=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketTickersTradingPairId(this.extend({trading_pair_id:n.id},r));case 6:return i=e.sent,o=i.result.ticker,e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"fetchTickers",value:(S=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:void 0,t=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketTickers(t);case 6:for(r=e.sent,n=r.result.tickers,i=[],o=0;o<n.length;o++)i.push(this.parseTicker(n[o]));return e.abrupt("return",this.indexBy(i,"symbol"));case 11:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchOrderBook",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={trading_pair_id:this.marketId(t)},"undefined"!==typeof r&&(i.limit=r),e.next=8,this.publicGetMarketOrderbooksTradingPairId(this.extend(i,n));case 8:return o=e.sent,e.abrupt("return",this.parseOrderBook(o.result.orderbook,void 0,"bids","asks",0,2));case 10:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=e.timestamp,i=this.safeFloat(e,"price"),o=this.safeFloat(e,"size"),a=parseFloat(this.costToPrecision(r,i*o)),s="bid"===e.maker_side?"sell":"buy";return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:r,id:e.id,order:void 0,type:void 0,side:s,price:i,amount:o,cost:a,fee:void 0}}},{key:"fetchTrades",value:(C=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:50,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarketTradesTradingPairId(this.extend({trading_pair_id:o.id,limit:n},i));case 8:return a=e.sent,s=a.result.trades,e.abrupt("return",this.parseTrades(s,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.timestamp,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"1m",n=l.length>2&&void 0!==l[2]?l[2]:void 0,i=l.length>3&&void 0!==l[3]?l[3]:void 0,o=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s=this.milliseconds(),u={trading_pair_id:a.id,timeframe:this.timeframes[r],end_time:s},"undefined"!==typeof n&&(u.start_time=n),e.next=12,this.publicGetChartCandlesTradingPairId(this.extend(u,o));case 12:return c=e.sent,d=c.result.candles,e.abrupt("return",this.parseOHLCVs(d,a,r,n,i));case 15:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchBalance",value:(T=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetWalletBalances(t);case 5:for(r=e.sent,n={info:r},i=r.result.balances,o=0;o<i.length;o++)a=i[o],(s=a.currency)in this.currencies_by_id&&(s=this.currencies_by_id[s].code),(u={used:parseFloat(a.on_order),total:parseFloat(a.total)}).free=parseFloat(u.total-u.used),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={filled:"closed",rejected:"closed",partially_filled:"open",pending_cancellation:"open",pending_modification:"open",open:"open",new:"open",queued:"open",cancelled:"canceled",triggered:"triggered"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if("undefined"===typeof t){var n=this.safeString(e,"trading_pair");n=this.safeString(e,"trading_pair_id",n),t=this.safeValue(this.markets_by_id,n)}"undefined"!==typeof t&&(r=t.symbol);var i=this.safeInteger(e,"timestamp"),o=this.safeFloat(e,"eq_price"),a=this.safeFloat(e,"size"),s=this.safeFloat(e,"filled"),u=void 0,c=void 0;"undefined"!==typeof a&&("undefined"!==typeof s&&(u=a-s),"undefined"!==typeof o&&(c=o*a));var d=this.parseOrderStatus(this.safeString(e,"state")),l=this.safeString(e,"side");return"bid"===l?l="buy":"ask"===l&&(l="sell"),{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:r,type:this.safeString(e,"type"),side:l,price:o,cost:c,amount:a,filled:s,remaining:u,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:(O=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),n="sell"===n?"ask":"bid",u={trading_pair_id:s.id,type:r,side:n,size:this.amountToString(t,i)},"market"!==r&&(u.price=this.priceToPrecision(t,o)),e.next=10,this.privatePostTradingOrders(this.extend(u,a));case 10:return c=e.sent,d=this.parseOrder(c.result.order,s),l=d.id,this.orders[l]=d,e.abrupt("return",d);case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return O.apply(this,arguments)})},{key:"cancelOrder",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privateDeleteTradingOrdersOrderId(this.extend({order_id:t},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrder(this.extend(n,{id:t})));case 6:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchOrder",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetTradingOrdersOrderId(this.extend({order_id:t.toString()},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.result.order));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradingOrders(i);case 8:if(o=e.sent,a=this.parseOrders(o.result.orders,void 0,r,n),"undefined"===typeof t){e.next=12;break}return e.abrupt("return",this.filterBySymbol(a,t));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderTrades",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetTradingOrdersOrderIdTrades(this.extend({order_id:t},n));case 6:return i=e.sent,o="undefined"===typeof r?void 0:this.market(r),e.abrupt("return",this.parseTrades(i.result.trades,o));case 9:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"createDepositAddress",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privatePostWalletDepositAddresses({currency:r.id});case 6:return n=e.sent,i=this.safeString(n.result.deposit_address,"address"),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchDepositAddress",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetWalletDepositAddresses(this.extend({currency:n.id},r));case 6:return i=e.sent,o=this.safeValue(i.result,"deposit_addresses",[]),a=void 0,o.length>0&&(a=this.safeString(o[0],"address")),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"withdraw",value:(m=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=3,this.loadMarkets();case 3:return o=this.currency(t),e.next=6,this.privatePostWalletWithdrawals(this.extend({currency:o.id,amount:r,address:n},i));case 6:return a=e.sent,e.abrupt("return",{id:a.result.withdrawal_id,info:a});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r){return m.apply(this,arguments)})},{key:"fetchMyTrades",value:(v=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={},"undefined"!==typeof t&&(a.trading_pair_id=o.id),e.next=11,this.privateGetTradingTrades(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s.result.trades,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api.web+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));return i={},"private"===t&&(this.checkRequiredCredentials(),i.nonce=this.nonce().toString(),i.Authorization=this.apiKey),"GET"===r?(s=this.urlencode(s)).length&&(a+="?"+s):(i["Content-type"]="application/json; charset=UTF-8",o=this.json(s)),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(e<400||e>=600)){if("{"!==o[0])throw new d(this.id+" "+o);var a=JSON.parse(o),s=this.id+" "+this.json(a),u=this.safeValue(a.error,"error_code");if(("DELETE"===n||"GET"===n)&&"parameter_error"===u&&r.indexOf("trading/orders/")>=0)throw new p(s);var c=this.exceptions;if(u in c)throw new c[u](s);throw new d(s)}}},{key:"nonce",value:function(){return this.milliseconds()}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinbase",name:"coinbase",countries:"US",rateLimit:400,version:"v2",userAgent:this.userAgents.chrome,headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!1,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!1,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!1,fetchWithdrawals:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{two_factor_required:d,param_required:c,validation_error:c,invalid_request:c,personal_details_required:d,identity_verification_required:d,jumio_verification_required:d,jumio_face_match_verification_required:d,unverified_email:d,authentication_error:d,invalid_token:d,revoked_token:d,expired_token:d,invalid_scope:d,not_found:c,rate_limit_exceeded:l,internal_server_error:c},markets:{"BTC/USD":{id:"btc-usd",symbol:"BTC/USD",base:"BTC",quote:"USD"},"LTC/USD":{id:"ltc-usd",symbol:"LTC/USD",base:"LTC",quote:"USD"},"ETH/USD":{id:"eth-usd",symbol:"ETH/USD",base:"ETH",quote:"USD"},"BCH/USD":{id:"bch-usd",symbol:"BCH/USD",base:"BCH",quote:"USD"}},options:{accounts:["wallet","fiat"]}})}},{key:"fetchTime",value:(v=i(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,r=t.data,e.abrupt("return",this.parse8601(r.iso));case 5:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchCurrencies",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=r.data,i={},o=0;o<n.length;o++)a=n[o],s=a.id,u=a.name,c=this.commonCurrencyCode(s),d=this.safeFloat(a,"min_size"),i[c]={id:s,code:c,info:a,name:u,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:d,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchTicker",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.seconds(),i=this.market(t),o=this.extend({symbol:i.id},r),e.next=8,this.publicGetPricesSymbolBuy(o);case 8:return a=e.sent,e.next=11,this.publicGetPricesSymbolSell(o);case 11:return s=e.sent,e.next=14,this.publicGetPricesSymbolSpot(o);case 14:return u=e.sent,c=this.safeFloat(a.data,"amount"),d=this.safeFloat(s.data,"amount"),l=this.safeFloat(u.data,"amount"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),bid:d,ask:c,last:l,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:a,sell:s,spot:u}});case 19:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchBalance",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.privateGetAccounts();case 3:for(r=e.sent,n=r.data,i=this.safeValue(t,"type",this.options.accounts),o={info:r},a=0;a<n.length;a++)s=n[a],this.inArray(s.type,i)&&(u=s.balance.currency,c=u,u in this.currencies_by_id&&(c=this.currencies_by_id[u].code),d=this.safeFloat(s.balance,"amount"),l=d,h=void 0,c in o?(o[c].free+=d,o[c].total+=d):(p={free:l,used:h,total:d},o[c]=p));return e.abrupt("return",this.parseBalance(o));case 9:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s));var u=this.urls.api+"/"+this.version+a;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),d="";"GET"!==r&&Object.keys(s).length&&(d=o=this.json(s));var l=c+r+"/"+this.version+a+d,h=this.hmac(this.encode(l),this.encode(this.secret));i={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":h,"CB-ACCESS-TIMESTAMP":c,"Content-Type":"application/json"}}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o),s=this.id+" "+o,u=this.exceptions,d=this.safeString(a,"error");if("undefined"!==typeof d)throw d in u?new u[d](s):new c(s);var l=this.safeValue(a,"errors");if("undefined"!==typeof l)if(Array.isArray(l))if(l.length>0&&"undefined"!==typeof(d=this.safeString(l[0],"id")))throw d in u?new u[d](s):new c(s);if("undefined"===typeof this.safeValue(a,"data"))throw new c(this.id+" failed due to a malformed response "+this.json(a))}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(64);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinbasepro",name:"Coinbase Pro",urls:{logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:"https://api.pro.coinbase.com",www:"https://pro.coinbase.com/",doc:"https://docs.gdax.com",fees:["https://www.gdax.com/fees","https://support.gdax.com/customer/en/portal/topics/939402-depositing-and-withdrawing-funds/articles"]}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766464-3b5c3c74-5ed9-11e7-840e-31b32968e1da.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api"},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY"}}})}},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privateGetAccountsBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s=this.account(),a in t&&(s.free=parseFloat(t[a])),(u=a+"_reserved")in t&&(s.used=parseFloat(t[u])),s.total=this.sum(s.free,s.used),r[o]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},"BTC/JPY"===t){e.next=4;break}throw new d(this.id+" fetchOrderBook () supports BTC/JPY only");case 4:return e.next=6,this.publicGetOrderBooks(r);case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},"BTC/JPY"===t){e.next=3;break}throw new d(this.id+" fetchTicker () supports BTC/JPY only");case 3:return e.next=5,this.publicGetTicker(r);case 5:return n=e.sent,i=1e3*n.timestamp,o=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(n,"volume"),quoteVolume:void 0,info:n});case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.order_type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount"),info:e}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},"BTC/JPY"===t){e.next=5;break}throw new d(this.id+" fetchTrades () supports BTC/JPY only");case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({pair:o.id},i));case 8:if(!("success"in(a=e.sent))){e.next=13;break}if(!a.success){e.next=13;break}if("undefined"===typeof a.data){e.next=13;break}return e.abrupt("return",this.parseTrades(a.data,o,r,n));case 13:throw new c(this.id+" "+this.json(a));case 14:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s={pair:this.marketId(t)},"market"===r?(u=r+"_"+n,s.order_type=u,s[("buy"===n?u+"_":"")+"amount"]=i):(s.order_type=n,s.rate=o,s.amount=i),e.next=6,this.privatePostExchangeOrders(this.extend(s,a));case 6:return c=e.sent,e.abrupt("return",{info:c,id:c.id.toString()});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privateDeleteExchangeOrdersId({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c="";"GET"===r?Object.keys(s).length&&(a+="?"+this.urlencode(this.keysort(s))):Object.keys(s).length&&(c=o=this.urlencode(this.keysort(s)));var d=u+a+c;i={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":u,"ACCESS-SIGNATURE":this.hmac(this.encode(d),this.encode(this.secret))}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"public"!==r){e.next=10;break}return e.abrupt("return",s);case 10:if(!("success"in s)){e.next=13;break}if(!s.success){e.next=13;break}return e.abrupt("return",s);case 13:throw new c(this.id+" "+this.json(s));case 14:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.InsufficientFunds,l=u.OrderNotFound,h=u.InvalidOrder,p=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T,_,C,R;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinex",name:"CoinEx",version:"v1",countries:"CN",rateLimit:1e3,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38046312-0b450aac-32c8-11e8-99ab-bc6b136b6cc7.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",web:"https://www.coinex.com"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees"},api:{web:{get:["res/market"]},public:{get:["market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance","order","order/pending","order/finished","order/finished/{id}","order/user/deals"],post:["order/limit","order/market"],delete:["order/pending"]}},fees:{trading:{maker:0,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webGetResMarket();case 2:for(t=e.sent,r=t.data.market_info,n=[],i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=s.market,c=s.buy_asset_type,d=s.sell_asset_type,l=this.commonCurrencyCode(d),h=this.commonCurrencyCode(c),p=l+"/"+h,f={amount:s.sell_asset_type_places,price:s.buy_asset_type_places},v=s.merge.length,n.push({id:u,symbol:p,base:l,quote:h,baseId:d,quoteId:c,active:!0,taker:this.safeFloat(s,"taker_fee_rate"),maker:this.safeFloat(s,"maker_fee_rate"),info:s,precision:f,limits:{amount:{min:this.safeFloat(s,"least_amount"),max:void 0},price:{min:parseFloat(s.merge[v-1]),max:void 0}}});return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.date,n=t.symbol;e=e.ticker;var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketTicker(this.extend({market:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchTickers",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:void 0,t=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketTickerAll(t);case 6:for(r=e.sent,n=r.data,i=n.date,o=n.ticker,a=Object.keys(o),s={},u=0;u<a.length;u++)c=a[u],d=this.markets_by_id[c],l=d.symbol,h={date:i,ticker:o[c]},s[l]=this.parseTicker(h,d);return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchOrderBook",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketDepth(this.extend({market:this.marketId(t),merge:"0.00000001"},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.data));case 8:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"create_time"),n=this.safeString(e,"id"),i=this.safeString(e,"id");r?n=void 0:(r=e.date,i=void 0),r*=1e3;var o=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),s=t.symbol,u=this.safeFloat(e,"deal_money");u||(u=parseFloat(this.costToPrecision(s,o*a)));var c=this.safeFloat(e,"fee");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,id:n,order:i,type:"limit",side:e.type,price:o,amount:a,cost:u,fee:c}}},{key:"fetchTrades",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarketDeals(this.extend({market:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.data,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"5m",n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.publicGetMarketKline(this.extend({market:a.id,type:this.timeframes[r]},o));case 9:return s=e.sent,e.abrupt("return",this.parseOHLCVs(s.data,a,r,n,i));case 11:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchBalance",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance(t);case 5:for(r=e.sent,n={info:r},i=r.data,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],u=i[s],c=this.commonCurrencyCode(s),(d={free:parseFloat(u.available),used:parseFloat(u.frozen),total:0}).total=this.sum(d.free,d.used),n[c]=d;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeInteger(e,"create_time"),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"deal_money"),o=this.safeFloat(e,"amount"),a=this.safeFloat(e,"deal_amount"),s=t.symbol,u=this.amountToPrecision(s,o-a),c=e.status;return c="done"===c?"closed":"open",{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:c,symbol:s,type:e.order_type,side:e.type,price:n,cost:i,amount:o,filled:a,remaining:u,trades:void 0,fee:{currency:t.quote,cost:this.safeFloat(e,"deal_fee")},info:e}}},{key:"createOrder",value:(k=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>4&&void 0!==p[4]?p[4]:void 0,a=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return s="privatePostOrder"+this.capitalize(r),u=this.market(t),i=parseFloat(i),c={market:u.id,amount:this.amountToPrecision(t,i),type:n},"limit"===r&&(o=parseFloat(o),c.price=this.priceToPrecision(t,o)),e.next=11,this[s](this.extend(c,a));case 11:return d=e.sent,l=this.parseOrder(d.data,u),h=l.id,this.orders[h]=l,e.abrupt("return",l);case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return k.apply(this,arguments)})},{key:"cancelOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateDeleteOrderPending(this.extend({id:t,market:i.id},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o.data,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOrder",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateGetOrder(this.extend({id:t,market:i.id},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o.data,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:void 0,n=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return i=this.market(t),o={market:i.id},r&&(o.limit=r),e.next=11,this.privateGetOrderPending(this.extend(o,n));case 11:return a=e.sent,e.abrupt("return",this.parseOrders(a.data.data,i));case 13:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchClosedOrders",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:void 0,n=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return i=this.market(t),o={market:i.id},r&&(o.limit=r),e.next=11,this.privateGetOrderFinished(this.extend(o,n));case 11:return a=e.sent,e.abrupt("return",this.parseOrders(a.data.data,i));case 13:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchMyTrades",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.privateGetOrderUserDeals(this.extend({market:o.id,page:1,limit:100},i));case 9:return a=e.sent,e.abrupt("return",this.parseTrades(a.data.data,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;e=this.implodeParams(e,n);var a=this.urls.api[t]+"/"+this.version+"/"+e,s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else if("web"===t)a=this.urls.api[t]+"/"+e,Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce();s=this.extend({access_id:this.apiKey,tonce:u.toString()},s),s=this.keysort(s);var c=this.urlencode(s);i={Authorization:this.hash(this.encode(c+"&secret_key="+this.secret)).toUpperCase(),"Content-Type":"application/json"},"GET"===r||"DELETE"===r?a+="?"+c:o=this.json(s)}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:"public",n=m.length>2&&void 0!==m[2]?m[2]:"GET",i=m.length>3&&void 0!==m[3]?m[3]:{},o=m.length>4&&void 0!==m[4]?m[4]:void 0,a=m.length>5&&void 0!==m[5]?m[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,u=this.safeString(s,"code"),f=this.safeValue(s,"data"),"0"===u&&f){e.next=14;break}throw v={24:p,25:p,107:d,600:l,601:h,602:h,606:h},new(this.safeValue(v,u,c))(s.message);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinexchange",name:"CoinExchange",countries:["IN","JP","KR","VN","US"],rateLimit:1e3,has:{privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchTrades:!1,fetchOHLCV:!1,fetchCurrencies:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34842303-29c99fca-f71c-11e7-83c1-09d900cb2334.jpg",api:"https://www.coinexchange.io/api/v1",www:"https://www.coinexchange.io",doc:"https://coinexchangeio.github.io/slate/",fees:"https://www.coinexchange.io/fees"},api:{public:{get:["getcurrency","getcurrencies","getmarkets","getmarketsummaries","getmarketsummary","getorderbook"]}},fees:{trading:{maker:.0015,taker:.0015},funding:{withdraw:{1337:.01,"420G":.01,611:.1,ACC:.01,ACES:.01,ACO:.01,ACP:.01,ADCN:500,ADST:1,ADZ:.1,AGRI:.01,AI:1,AKY:.01,ALIS:1,ALL:.2,AMC:.1,AMMO:.01,AMS:.01,ANTX:.01,ANY:1,ARG:.1,ARGUS:.01,ARGUSOLD:.01,ASN:.01,ATOM:.01,ATX:.01,AU:.01,B2B:1,B3:.01,BAKED:.01,BCC:.01,BCH:.001,BCM:.01,BDL:.01,BEER:.01,BELA:.01,BENJI:.05,BET:.01,BFI:1,BIGUP:1,BIRDS:.01,BITB:.1,BIXC:.01,BIZ:.01,BLAS:.1,BLAZR:.2,BLK:.01,BLN:1,BLUE:1,BOAT:1,BON:.01,BONPAY:1,BOPS:.01,BPOK:.1,BQ:1,BRAT:.01,BRC:1,BRIT:.01,BSN:1,BSR:.01,BTBc:.01,BTC:.001,BTCRED:1,BTCRF:.01,BTDX:.1,BTE:1,BTPL:.01,BULLS:.01,BUZZ:.01,BXT:.01,C47:1,CACH:.2,CALC:.01,CANN:.01,CBANK:1,CDX:1,CHEAP:.01,CHESS:.01,CHILI:.01,CHIPS:.1,CJ:.1,CLT:.1,CMPCO:.2,CMX:.01,CNNC:.02,CNT:.01,CO2:1,COOC:.01,COUPE:.01,CQST:.1,CRACKERS:.01,CRDNC:.01,CREA:.02,CREAK:.01,CREVA2:.01,CRMSN:.01,CRN:.01,CRW:.01,CTIC2:.01,CUBE:.01,CXT:.01,CYCLONE:.01,CYDER:.01,DAG:.01,DALC:1,DARI:.01,DASH:.01,DAV:.01,DBIC:.1,DCN:1,DEM:.01,DFS:.01,DGB:.1,DGC:.1,DIME:.01,DMB:.01,DMC:.1,DNCV2:.01,DNE:1,DNR:.01,DOGE:2,DOGEJ:1,DP:.01,DRGN:1,DRS:.1,DSE:.01,DSR:.01,DTCT:1,DUTCH:.01,EBC:.01,EBT:.01,ECC:.1,ECN:.01,EDRC:.01,EECN:.01,EGC:.1,ELCO:.1,ELIX:1,ELS:.01,ELT:1,EMC:.01,EMIRG:.01,ENTRC:1,ENZO:.1,EQL:1,EQT:.1,ERSO:.01,ERT:1,ERY:.01,ESP:.1,ETBS:1,ETC:.1,ETG:1,ETH:.01,ETHD:.01,ETHOS:1,ETN:2,EUROP:.1,EXCL:.1,EXTN:.01,FAIR:.01,FAP:1,FAZZ:.01,FCH:.01,FGZ:.1,FLASH:.01,FLIK:1,FRT:.1,FSX:.1,FTC:.01,FXE:2,GAIN:1,GB:.1,GBX:.01,GDC:1,GEERT:.01,GET:.01,GFC:1,GLS:.01,GLT:.01,GLTC:.01,GMB:.01,GMX:.01,GOKUOLD:.1,GOLD:.01,GOLF:.1,GOOD:2,GP:.01,GRE:.01,GREENF:.01,GRMD:1,GRS:.01,GRX:1,GTC:.01,GWC:.2,HALLO:.01,HBC:.01,HC:.01,HEALTHY:.01,HIGH:.01,HarmonyCoin:.01,HNC:.01,HOC:.01,HODL:.01,HOLLY:1,HONEY:.01,HOPE:.01,HPC:.01,HUB:1,HYP:.01,HYPER:.01,IBC:1,ICE:1,ICOT:1,IFT:1,ILC:.01,IMX:.01,INDIA:.01,INFO:.01,INSN:.01,INXT:1,IOE:.01,IQT:1,IXC:.01,JAPAN:.01,JEDI:.01,JET:1,JIN:.2,KAYI:.01,KB3:.01,KGB:.01,KLC:.1,KMD:.01,KOBO:1,KOI:.01,KORUNA:.1,KRA:.01,KUBO:.01,KURT:.01,LA:1,LAMBO:.01,LCT:1,LDC:.01,LEVO:.1,LIFE:1,LINDA:.01,LINX:.01,LIZ:.01,LMC:.1,LNK:.05,LRC:1,LTC:.01,LTG:1,LUCK:.01,LUNA:.01,LVPS:.01,MAC:2,MAG:.01,MALC:.01,MARS:.01,MARS2:.01,MAXI:.01,MAY:.01,MBC:.01,MBIT:.01,MCB:1,MEC:.1,MENTAL:.1,MER:.1,MET:.01,MGM:.01,MGT:.01,MILO:.5,MINEX:1,MINT:1,MIPS:1,MNX:.01,MOIN:.1,MOON:.1,MSCN:.01,MSP:1,MST:.1,MTH:1,MUE:.1,MUX:1,MXC:.01,MXT:.1,MYB:1,NBIT:.1,NBX:.01,NEOG:1,NEON:.01,NLC2:.01,NLG:.1,NRN:.01,NRO:.01,NTC:1,NTO:1,NUA:1,NUMUS:.01,OC:.01,OGN:.01,ORO:.01,PARIS:.01,PAYU:.1,PCN:1,PCS:.01,PDG:.01,PEC:.01,PGL:1,PHN:1,PICO:.1,PIE:.01,PIGGY:.1,PIVX:.2,PIX:1,PKT:1,PLACO:.01,PLX:1,POL:.01,POLOB:.1,POS:1,POST:1,POSW:.01,POT:.1,PRE:1,PRIMU:.01,PRL:1,PRN:1,PRX:.01,PT:1,PTS:1,PURA:1,PURE:.01,PUT:.1,PWC:.01,PWR:.1,QTUM:.01,QUANT:.01,RAIN:.5,RBL:.01,RDC:.01,REC:.01,REGA:.1,REX:1,RHO:.1,RIYA:1,RMC:2,RNS:.01,ROC:0,ROOFS:.01,RUB:.01,RUNE:.01,RUNNERS:.01,RUP:.01,SBIT:.01,SCL:1,SCORE:.01,SCOREOLD:.01,SDASH:.01,SFC:.01,SFE:.01,SGR:1,SHIT:.1,SHM:.1,SHND:.1,SHOT:.1,SIC:.1,SILK2:.01,SIMP:.001,SISA:1,SKOIN:.01,SKULL:.01,SLEVIN:.01,SLR:.01,SMART:.01,SMS:.002,SNOW:.01,SOLAR:.01,SPRTS:1,SRC:.01,SST:.1,STARS:.01,STN:.01,STO:.01,STX:1,SUPER:.01,SUPERMAN:.01,SURGE:.01,SWC:.1,SYNQ:.01,SYNX:.01,TAAS:2,TBS:.01,TCOIN:.01,TELL:.1,TER:.005,TGT:1,TIGER:.01,TIPS:.01,TLE:.01,TOPAZ:.01,TOR:.01,TPC:.01,TPG:.01,TPI:1,TRANCE:.01,TRC:.01,TRUX:.01,TSE:.1,TSTR:.01,TURBO:.01,UFO:.01,UK:.01,ULA:.01,UNIFY:0,UNIT:.1,UNO:.001,UP:.01,UQC:1,USA:.01,VC:.01,VGS:.01,VIDZ:.01,VISIO:.05,VLTC:.1,VOISE:1,VONE:.01,VOX:.01,VSX:.01,VULCANO:.01,WASH:.1,WCL:1,WINK:.01,WOMEN:.01,WORM:.01,WOW:.1,WRP:.01,WYV:.01,XBC:.01,XBL:1,XBU:1,XCHE:.1,XCS:.01,XCT:.01,XCXT:.01,XDE2:.01,XEV:.1,XGOX:.01,XGTC:.01,XLR:.1,XMCC:.01,XP:1,XPASC:.01,XQN:.01,XSA:.1,XSTC:2,XTD:.01,XVS:.01,XXX:.1,XYOC:1,XYZ:.01,XZC:.1,XZCD:.01,YHC:.01,ZCC:.01,ZCG:1,ZCL:.001,ZEC:.001,ZEIT:.1,ZENI:.01,ZERO:.01,ZMC:.1,ZOI:.01,ZSE:.01,ZURMO:.1,ZZC:.01}}},precision:{amount:8,price:8},commonCurrencies:{ACC:"AdCoin",ANC:"AnyChain",BON:"BonPeKaO",BONPAY:"BON",eNAU:"ENAU",ETN:"Ethernex",FRC:"FireRoosterCoin",GET:"GreenEnergyToken",GDC:"GoldenCryptoCoin",GOLD:"GoldenCoin",GTC:"GlobalTourCoin",HMC:"HarmonyCoin",HNC:"Huncoin",IBC:"RCoin",MARS:"MarsBux",MER:"TheMermaidCoin",PUT:"PutinCoin",RUB:"RubbleCoin",UP:"UpscaleToken",VULCANO:"VULC"}})}},{key:"fetchCurrencies",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetGetcurrencies(t);case 3:for(r=e.sent,n=r.result,i=this.precision.amount,o={},a=0;a<n.length;a++)s=n[a],u=s.CurrencyID,c=this.commonCurrencyCode(s.TickerCode),d="online"===s.WalletStatus,o[c]={id:u,code:c,name:s.Name,active:d,precision:i,limits:{amount:{min:void 0,max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,i)}},info:s};return e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchMarkets",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetmarkets();case 2:for(t=e.sent,r=t.result,n=[],i=0;i<r.length;i++)o=r[i],a=o.MarketID,s=this.commonCurrencyCode(o.MarketAssetCode),u=this.commonCurrencyCode(o.BaseCurrencyCode),c=s+"/"+u,n.push({id:a,symbol:c,base:s,quote:u,baseId:o.MarketAssetID,quoteId:o.BaseCurrencyID,active:o.Active,lot:void 0,info:o});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(!t){var n=e.MarketID;n in this.markets_by_id?t=this.markets_by_id[n]:r=n}t&&(r=t.symbol);var i=this.milliseconds(),o=this.safeFloat(e,"LastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"HighPrice"),low:this.safeFloat(e,"LowPrice"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:this.safeFloat(e,"Change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"Volume"),info:e}}},{key:"fetchTicker",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetGetmarketsummary(this.extend({market_id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.result,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchTickers",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetmarketsummaries(t);case 6:for(r=e.sent,n=r.result,i={},o=0;o<n.length;o++)a=this.parseTicker(n[o]),s=a.symbol,i[s]=a;return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"fetchOrderBook",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetorderbook(this.extend({market_id:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.result,void 0,"BuyOrders","SellOrders","Price","Quantity"));case 8:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;return"public"===t&&(n=this.urlencode(n)).length&&(a+="?"+n),{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"public",n=d.length>2&&void 0!==d[2]?d[2]:"GET",i=d.length>3&&void 0!==d[3]?d[3]:{},o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,1===this.safeInteger(s,"success")){e.next=12;break}throw c=this.safeString(s,"message","Error"),new u(c);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError,h=c.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,p,f,v,m,y,b,g,k,w;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinfalcon",name:"CoinFalcon",countries:"GB",rateLimit:1e3,has:{fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com/api/v1",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees"},api:{public:{get:["markets","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/trades"],post:["user/orders"],delete:["user/orders"]}},fees:{trading:{maker:.0025,taker:.0025}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=t.data,n=[],o=0;o<r.length;o++)a=r[o],s=a.name.split("-"),u=i(s,2),c=u[0],d=u[1],l=this.commonCurrencyCode(c),h=this.commonCurrencyCode(d),p=l+"/"+h,f={amount:this.safeInteger(a,"size_precision"),price:this.safeInteger(a,"price_precision")},n.push({id:a.name,symbol:p,base:l,quote:h,baseId:c,quoteId:d,active:!0,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:Math.pow(10,-f.price),max:void 0},cost:{min:void 0,max:void 0}},info:a});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!t){var r=e.name;t=this.marketsById[r]}var n=t.symbol,i=this.milliseconds(),o=parseFloat(e.last_price);return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:parseFloat(e.change_in_24h),percentage:void 0,average:void 0,baseVolume:parseFloat(e.volume),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchTickers(r);case 5:return n=e.sent,e.abrupt("return",n[t]);case 7:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchTickers",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,this.publicGetMarkets();case 4:for(t=e.sent,r=t.data,n={},i=0;i<r.length;i++)o=this.parseTicker(r[i]),a=o.symbol,n[a]=o;return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsMarketOrders(this.extend({market:this.marketId(t),level:"3"},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.data,void 0,"bids","asks","price","size"));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=parseFloat(e.price),i=parseFloat(e.size),o=t.symbol,a=parseFloat(this.costToPrecision(o,n*i));return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:void 0,order:void 0,type:void 0,side:void 0,price:n,amount:i,cost:a,fee:void 0}}},{key:"fetchTrades",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={market:o.id},r&&(a.since=this.iso8601(r)),e.next=10,this.publicGetMarketsMarketTrades(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.data,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchBalance",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserAccounts(t);case 5:for(r=e.sent,n={info:r},i=r.data,o=0;o<i.length;o++)a=i[o],s=a.currency,u=this.commonCurrencyCode(s),c={free:parseFloat(a.available),used:parseFloat(a.hold),total:parseFloat(a.balance)},n[u]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t||(t=this.marketsById[e.market]);var r=t.symbol,n=this.parse8601(e.created_at),i=parseFloat(e.price),o=this.safeFloat(e,"size"),a=this.safeFloat(e,"size_filled"),s=this.amountToPrecision(r,o-a),u=this.priceToPrecision(r,o*i),c=e.status;c="fulfilled"===c?"closed":"canceled"===c?"canceled":"open";var d=e.operation_type.split("_");return{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,status:c,symbol:r,type:d[0],side:e.order_type,price:i,cost:u,amount:o,filled:a,remaining:s,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:(v=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),i=this.amountToPrecision(t,parseFloat(i)),u={market:s.id,size:i.toString(),order_type:n},"limit"===r&&(o=this.priceToPrecision(t,parseFloat(o)),u.price=o.toString()),u.operation_type=r+"_order",e.next=11,this.privatePostUserOrders(this.extend(u,a));case 11:return c=e.sent,d=this.parseOrder(c.data,s),l=d.id,this.orders[l]=d,e.abrupt("return",d);case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return v.apply(this,arguments)})},{key:"cancelOrder",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteUserOrders(this.extend({id:t},n));case 6:return i=e.sent,o=this.market(r),e.abrupt("return",this.parseOrder(i.data,o));case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchOpenOrders",value:(p=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:void 0,n=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return i={},t&&(i.market=this.marketId(t)),r&&(i.since_time=this.iso8601(this.milliseconds())),e.next=11,this.privateGetUserOrders(this.extend(i,n));case 11:return o=e.sent,e.abrupt("return",this.parseOrders(o.data));case 13:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)(s=this.urlencode(s)).length&&(a+="?"+s);else{this.checkRequiredCredentials(),"GET"===r?a+="?"+this.urlencode(s):o=this.json(s);var u=this.seconds(),c=a.split("/"),d=[u,r,c="/"+(c=c.slice(3)).join("/")].join("|");o&&(d+="|"+o);var l=this.hmac(this.encode(d),this.encode(this.secret));i={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":u,"CF-API-SIGNATURE":l,"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(e<400))throw new(this.safeValue({401:l,429:h},e,d))(o)}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:"UK",has:{CORS:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28246081-623fc164-6a1c-11e7-913f-bac0d5576c90.jpg",api:"https://webapi.coinfloor.co.uk:8090/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{id}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP"},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"BTC/USD":{id:"XBT/USD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/PLN":{id:"XBT/PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},"BCH/GBP":{id:"BCH/GBP",symbol:"BCH/GBP",base:"BCH",quote:"GBP"}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=void 0,"symbol"in t&&(r=this.findMarket(t.symbol)),"id"in t&&(r=this.findMarket(t.id)),r){e.next=6;break}throw new u(this.id+" fetchBalance requires a symbol param");case 6:return e.next=8,this.privatePostIdBalance({id:r.id});case 8:return n=e.sent,i={info:n},o=r.id.toLowerCase().split("/"),i[r.base]={free:parseFloat(n[o[0]+"_available"]),used:parseFloat(n[o[0]+"_reserved"]),total:parseFloat(n[o[0]+"_balance"])},i[r.quote]={free:parseFloat(n[o[1]+"_available"]),used:parseFloat(n[o[1]+"_reserved"]),total:parseFloat(n[o[1]+"_balance"])},e.abrupt("return",this.parseBalance(i));case 14:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetIdOrderBook(this.extend({id:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"vwap"),o=this.safeFloat(e,"volume"),a=void 0;"undefined"!==typeof i&&(a=o*i);var s=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:i,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:a,info:e}}},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=this.market(t),e.next=4,this.publicGetIdTicker(this.extend({id:n.id},r));case 4:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 6:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetIdTransactions(this.extend({id:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},s={id:this.marketId(t)},u="privatePostId"+this.capitalize(n),"market"===r?(s.quantity=i,u+="Market"):(s.price=o,s.amount=i),e.abrupt("return",this[u](this.extend(s,a)));case 6:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostIdCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseDate(e.datetime),n=this.iso8601(r),i=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),a=i*o,s=void 0,u=this.safeString(e,"status");0===e.type?s="buy":1===e.type&&(s="sell");var c=void 0;return"undefined"!==typeof t&&(c=t.symbol),{info:e,id:e.id.toString(),datetime:n,timestamp:r,lastTradeTimestamp:void 0,status:u,symbol:c,type:"limit",side:s,price:i,amount:o,filled:void 0,remaining:void 0,cost:a,fee:void 0}}},{key:"fetchOpenOrders",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:{},t){e.next=6;break}throw new u(this.id+" fetchOpenOrders requires a symbol param");case 6:return e.next=8,this.loadMarkets();case 8:return i=this.market(t),e.next=11,this.privatePostIdOpenOrders({id:i.id});case 11:for(o=e.sent,a=0;a<o.length;a++)o[a]=this.extend(o[a],{status:"open"});return e.abrupt("return",this.parseOrders(o,i,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce();o=this.urlencode(this.extend({nonce:u},s));var c=this.uid+"/"+this.apiKey+":"+this.password;i={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+this.decode(this.stringToBase64(this.encode(c)))}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coingi",name:"Coingi",rateLimit:1e3,countries:["PA","BG","CN","US"],has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28619707-5c9232a8-7212-11e7-86d6-98fe5d15cc6e.jpg",api:{www:"https://coingi.com",current:"https://api.coingi.com",user:"https://api.coingi.com"},www:"https://coingi.com",doc:"http://docs.coingi.apiary.io/"},api:{www:{get:[""]},current:{get:["order-book/{pair}/{askCount}/{bidCount}/{depth}","transactions/{pair}/{maxCount}","24hour-rolling-aggregation"]},user:{post:["balance","add-order","cancel-order","orders","transactions","create-crypto-withdrawal"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,PPC:.02,VTC:.2,NMC:2,DASH:.002,USD:10,EUR:10},deposit:{BTC:0,LTC:0,DOGE:0,PPC:0,VTC:0,NMC:0,DASH:0,USD:5,EUR:1}}}})}},{key:"fetchMarkets",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,this.parseJsonResponse=!1,e.next=5,this.wwwGet();case 5:t=e.sent,this.parseJsonResponse=!0,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),this.parseJsonResponse=!0,e.t0;case 13:for(r=t.split('do=currencyPairSelector-selectCurrencyPair" class="active">'),n=r[1].split('<div class="currency-pair-label">'),o=[],a=1;a<n.length;a++)s=n[a],u=s.split("</div>"),c=u[0],d=c,c=(c=c.replace("/","-")).toLowerCase(),l=d.split("/"),h=i(l,2),p=h[0],f=h[1],v={amount:8,price:8},m=Math.pow(10,-v.amount),o.push({id:c,symbol:d,base:p,quote:f,info:c,lot:m,active:!0,precision:v,limits:{amount:{min:m,max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:0,max:void 0}}});return e.abrupt("return",o);case 18:case"end":return e.stop()}},e,this,[[1,9]])})),function(){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:for(t=[],r=Object.keys(this.currencies),n=0;n<r.length;n++)i=r[n],t.push(i.toLowerCase());return e.next=8,this.userPostBalance({currencies:t.join(",")});case 8:for(o=e.sent,a={info:o},s=0;s<o.length;s++)u=o[s],c=(c=u.currency.name).toUpperCase(),(d={free:u.available,used:u.blocked+u.inOrders+u.withdrawing,total:0}).total=this.sum(d.free,d.used),a[c]=d;return e.abrupt("return",this.parseBalance(a));case 12:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:512,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.currentGetOrderBookPairAskCountBidCountDepth(this.extend({pair:i.id,depth:32,askCount:r,bidCount:r},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price","baseAmount"));case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e.high,low:e.low,bid:e.highestBid,bidVolume:void 0,ask:e.lowestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.baseVolume,quoteVolume:e.counterVolume,info:e}}},{key:"fetchTickers",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.currentGet24hourRollingAggregation(t);case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.currencyPair.base.toUpperCase(),s=o.currencyPair.counter.toUpperCase(),c=void 0,(u=a+"/"+s)in this.markets&&(c=this.markets[u]),n[u]=this.parseTicker(o,c);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchTickers(void 0,r);case 5:if(n=e.sent,!(t in n)){e.next=8;break}return e.abrupt("return",n[t]);case 8:throw new c(this.id+" return did not contain "+t);case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.id,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.currentGetTransactionsPairMaxCount(this.extend({pair:o.id,maxCount:128},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={currencyPair:this.marketId(t),volume:i,price:o,orderType:"buy"===n?0:1},e.next=7,this.userPostAddOrder(this.extend(s,a));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.result});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=o(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.userPostCancelOrder({orderId:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];"www"!==t&&(a+="/"+t+"/"+this.implodeParams(e,n));var s=this.omit(n,this.extractParams(e));if("current"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else if("user"===t){this.checkRequiredCredentials();var u=this.nonce(),c=this.extend({token:this.apiKey,nonce:u},s),d=u.toString()+"$"+this.apiKey;c.signature=this.hmac(this.encode(d),this.encode(this.secret)),o=this.json(c),i={"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"current",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if("string"===typeof(s=e.sent)){e.next=11;break}if(!("errors"in s)){e.next=11;break}throw new c(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:"US",has:{CORS:!0,privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchBalance:!1,fetchOrderBook:!1,fetchOHLCV:!1,fetchTrades:!1,fetchTickers:!0,fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28244244-9be6312a-69ed-11e7-99c1-7c1797275265.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new u("Fetching order books is not supported by the API of "+this.id);case 3:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"currencyCode",value:function(e,t){var r={ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT",Catcoin:"Catcoin","Content and AD Network":"Content and AD Network",Comet:"Comet",CPChain:"CPChain",Cubits:"Cubits","DAO.Casino":"DAO.Casino",ENTCash:"ENTCash",FairGame:"FairGame","GET Protocol":"GET Protocol","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie",MIOTA:"IOTA",NetCoin:"NetCoin",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin"};return t in r?r[t]:e}},{key:"fetchMarkets",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker({limit:0});case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)for(i=t[n],o=this.currencyCodes,a=0;a<o.length;a++)s=o[a],u=s.toLowerCase(),c=i.id,d=this.currencyCode(i.symbol,i.name),l=d+"/"+s,h=c+"/"+u,r.push({id:h,symbol:l,base:d,quote:s,baseId:c,quoteId:u,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchGlobal",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"USD",e.next=3,this.loadMarkets();case 3:return r={},t&&(r.convert=t),e.next=7,this.publicGetGlobal(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds();"last_updated"in e&&e.last_updated&&(r=1e3*parseInt(e.last_updated));var n=void 0;"percent_change_24h"in e&&e.percent_change_24h&&(n=this.safeFloat(e,"percent_change_24h"));var i=void 0,o=void 0,a=void 0;if(t){var s="price_"+t.quoteId;s in e&&e[s]&&(i=this.safeFloat(e,s)),o=t.symbol;var u="24h_volume_"+t.quoteId;u in e&&e[u]&&(a=this.safeFloat(e,u))}return{symbol:o,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:n,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:a,info:e}}},{key:"fetchTickers",value:(p=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:"USD",r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return n={limit:1e4},t&&(n.convert=t),e.next=8,this.publicGetTicker(this.extend(n,r));case 8:for(i=e.sent,o={},a=0;a<i.length;a++)s=i[a],u=t.toLowerCase(),c=s.id+"/"+u,d=c,l=void 0,c in this.markets_by_id&&(l=this.markets_by_id[c],d=l.symbol),o[d]=this.parseTicker(s,l);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchTicker",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i=this.extend({convert:n.quote,id:n.baseId},r),e.next=7,this.publicGetTickerId(i);case 7:return o=e.sent,a=o[0],e.abrupt("return",this.parseTicker(a,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"fetchCurrencies",value:(l=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetTicker(this.extend({limit:0},t));case 3:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.symbol,s=o.name,u=8,c=this.currencyCode(a,s),n[c]={id:a,code:c,info:o,name:s,active:!0,fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));return Object.keys(s).length&&(a+="?"+this.urlencode(s)),{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=11;break}if(!s.error){e.next=11;break}throw new u(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27811229-c1efb510-606c-11e7-9a36-84ba2ce412d8.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",doc:["http://docs.coinmate.apiary.io","https://coinmate.io/developers"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions"]},private:{post:["balances","bitcoinWithdrawal","bitcoinDepositAddresses","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","openOrders","redeemVoucher","sellInstant","sellLimit","transactionHistory","unconfirmedBitcoinDeposits"]}},markets:{"BTC/EUR":{id:"BTC_EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",precision:{amount:4,price:2}},"BTC/CZK":{id:"BTC_CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK",precision:{amount:4,price:2}},"LTC/BTC":{id:"LTC_BTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",precision:{amount:4,price:5}}},fees:{trading:{maker:5e-4,taker:.0035}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalances();case 3:for(t=e.sent,r=t.data,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=this.account(),a in r&&(s.free=r[a].available,s.used=r[a].reserved,s.total=r[a].balance),n[a]=s;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.publicGetOrderBook(this.extend({currencyPair:this.marketId(t),groupByPriceLimit:"False"},r));case 4:return n=e.sent,i=n.data,o=1e3*i.timestamp,e.abrupt("return",this.parseOrderBook(i,o,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.publicGetTicker(this.extend({currencyPair:this.marketId(t)},r));case 3:return n=e.sent,i=n.data,o=1e3*i.timestamp,a=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"amount"),quoteVolume:void 0,info:i});case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.transactionId,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTransactions(this.extend({currencyPair:o.id,minutesIntoHistory:10},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a.data,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s="privatePost"+this.capitalize(n),u={currencyPair:this.marketId(t)},"market"===r?("buy"===n?u.total=i:u.amount=i,s+="Instant"):(u.amount=i,u.price=o,s+=this.capitalize(r)),e.next=7,this[s](this.extend(u,a));case 7:return c=e.sent,e.abrupt("return",{info:c,id:c.data.toString()});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({orderId:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce().toString(),u=s+this.uid+this.apiKey,c=this.hmac(this.encode(u),this.encode(this.secret));o=this.urlencode(this.extend({clientId:this.uid,nonce:s,publicKey:this.apiKey,signature:c.toUpperCase()},n)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=11;break}if(!s.error){e.next=11;break}throw new u(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v,m,y,b,g,k,w,x;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinnest",name:"coinnest",countries:"KR",rateLimit:1e3,has:{fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38065728-7289ff5c-330d-11e8-9cc1-cf0cbcb606bc.jpg",api:{public:"https://api.coinnest.co.kr/api",private:"https://api.coinnest.co.kr/api",web:"https://www.coinnest.co.kr"},www:"https://www.coinnest.co.kr",doc:"https://www.coinnest.co.kr/doc/intro.html",fees:["https://coinnesthelp.zendesk.com/hc/ko/articles/115002110252-%EA%B1%B0%EB%9E%98-%EC%88%98%EC%88%98%EB%A3%8C%EB%8A%94-%EC%96%BC%EB%A7%88%EC%9D%B8%EA%B0%80%EC%9A%94-","https://coinnesthelp.zendesk.com/hc/ko/articles/115002110272-%EB%B9%84%ED%8A%B8%EC%BD%94%EC%9D%B8-%EC%88%98%EC%88%98%EB%A3%8C%EB%A5%BC-%EC%84%A0%ED%83%9D%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EA%B0%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%EC%9A%94-"]},api:{web:{get:["coin/allcoin"]},public:{get:["pub/ticker","pub/depth","pub/trades"]},private:{post:["account/balance","trade/add","trade/cancel","trade/fetchtrust","trade/trust"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.002"}}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=(t="KRW").toLowerCase(),n=["btc","bch","btg","bcd","ubtc","btn","kst","ltc","act","eth","etc","ada","qtum","xlm","neo","gas","rpx","hsr","knc","tsl","tron","omg","wtc","mco","storm","gto","pxs","chat","ink","oc","hlc","ent","qbt","spc","put"],i=[],o=0;o<n.length;o++)a=n[o],s=a+"/"+r,u=this.commonCurrencyCode(a.toUpperCase()),c=u+"/"+t,i.push({id:s,symbol:c,base:u,quote:t,baseId:a,quoteId:r,active:!0,info:void 0});return e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.time,n=t.symbol,i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPubTicker(this.extend({coin:n.baseId},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOrderBook",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetPubDepth(this.extend({coin:n.baseId},r));case 7:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 9:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=this.priceToPrecision(o,i*n);return{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:parseFloat(a),fee:void 0,info:e}}},{key:"fetchTrades",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetPubTrades(this.extend({coin:o.baseId},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAccountBalance(t);case 5:r=e.sent,n={info:r},i=Object.keys(r),o=0;case 9:if(!(o<i.length)){e.next=27;break}if(a=i[o],2===(s=a.split("_")).length){e.next=14;break}return e.abrupt("continue",24);case 14:if("reserved"===(u=s[1])||"balance"===u){e.next=17;break}return e.abrupt("continue",24);case 17:c=s[0].toUpperCase(),(c=this.commonCurrencyCode(c))in n||(n[c]={free:0,used:0,total:0}),u="reserved"===u?"used":"free",n[c][u]=parseFloat(r[a]),("used"===u?"free":"used")in n[c]&&(n[c].total=this.sum(n[c].free,n[c].used));case 24:o++,e.next=9;break;case 27:return e.abrupt("return",this.parseBalance(n));case 28:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"parseOrder",value:function(e,t){var r=t.symbol,n=1e3*parseInt(e.time),i=parseInt(e.status);i=4===i?"closed":3===i?"canceled":"open";var o=this.safeFloat(e,"amount_total"),a=this.safeFloat(e,"amount_over"),s=this.safeValue(e,"deals");return s=s?this.safeFloat(s,"sum_amount"):o-a,{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:i,symbol:r,type:"limit",side:e.type,price:this.safeFloat(e,"price"),cost:void 0,amount:o,filled:s,remaining:a,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.privatePostTradeAdd(this.extend({coin:s.baseId,type:n,number:i,price:o},a));case 7:return u=e.sent,c={id:u.id,time:this.seconds(),type:n,price:o,amount_total:i,amount_over:i,info:u},d=c.id,this.orders[d]=this.parseOrder(c,s),e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"cancelOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostTradeCancel(this.extend({id:t,coin:i.baseId},n));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostTradeFetchtrust(this.extend({id:t,coin:i.baseId},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={coin:o.baseId},r&&(a.since=parseInt(r/1e3)),n&&(a.limit=n),e.next=12,this.privatePostTradeTrust(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s,o));case 14:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchOpenOrders",value:(p=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({type:"1"},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e,s=void 0;if("public"===t)(s=this.urlencode(n)).length&&(a+="?"+s);else{this.checkRequiredCredentials(),o=this.urlencode(this.extend(n,{key:this.apiKey,nonce:this.nonce()}));var u=this.hash(this.secret);o+="&signature="+this.hmac(this.encode(o),this.encode(u)),i={"Content-type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:"public",n=f.length>2&&void 0!==f[2]?f[2]:"GET",i=f.length>3&&void 0!==f[3]?f[3]:{},o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,u=this.safeString(s,"status"),s&&"nil"!==s&&!u){e.next=13;break}throw h=this.safeValue({100:l,101:l,104:d,105:d,106:l},u,c),p=this.safeString(s,"msg",this.json(s)),new h(p);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.ExchangeNotAvailable,l=u.InvalidOrder;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinone",name:"CoinOne",countries:"KR",rateLimit:667,version:"v2",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},markets:{"BCH/KRW":{id:"bch",symbol:"BCH/KRW",base:"BCH",quote:"KRW",baseId:"bch",quoteId:"krw"},"BTC/KRW":{id:"btc",symbol:"BTC/KRW",base:"BTC",quote:"KRW",baseId:"btc",quoteId:"krw"},"BTG/KRW":{id:"btg",symbol:"BTG/KRW",base:"BTG",quote:"KRW",baseId:"btg",quoteId:"krw"},"ETC/KRW":{id:"etc",symbol:"ETC/KRW",base:"ETC",quote:"KRW",baseId:"etc",quoteId:"krw"},"ETH/KRW":{id:"eth",symbol:"ETH/KRW",base:"ETH",quote:"KRW",baseId:"eth",quoteId:"krw"},"IOTA/KRW":{id:"iota",symbol:"IOTA/KRW",base:"IOTA",quote:"KRW",baseId:"iota",quoteId:"krw"},"LTC/KRW":{id:"ltc",symbol:"LTC/KRW",base:"LTC",quote:"KRW",baseId:"ltc",quoteId:"krw"},"OMG/KRW":{id:"omg",symbol:"OMG/KRW",base:"OMG",quote:"KRW",baseId:"omg",quoteId:"krw"},"QTUM/KRW":{id:"qtum",symbol:"QTUM/KRW",base:"QTUM",quote:"KRW",baseId:"qtum",quoteId:"krw"},"XRP/KRW":{id:"xrp",symbol:"XRP/KRW",base:"XRP",quote:"KRW",baseId:"xrp",quoteId:"krw"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001,tiers:{taker:[[0,.001],[1e8,9e-4],[1e9,8e-4],[5e9,7e-4],[1e10,6e-4],[2e10,5e-4],[3e10,4e-4],[4e10,3e-4],[5e10,2e-4]],maker:[[0,.001],[1e8,8e-4],[1e9,6e-4],[5e9,4e-4],[1e10,2e-4],[2e10,0],[3e10,0],[4e10,0],[5e10,0]]}}},exceptions:{405:d}})}},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.privatePostAccountBalance();case 3:for(t=e.sent,r={info:t},n=this.omit(t,["errorCode","result","normalWallets"]),i=Object.keys(n),o=0;o<i.length;o++)a=i[o],s=n[a],u=a.toUpperCase(),a in this.currencies_by_id&&(u=this.currencies_by_id[a].code),c=parseFloat(s.avail),d=parseFloat(s.balance),l={free:c,used:d-c,total:d},r[u]=l;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},n=this.market(t),e.next=5,this.publicGetOrderbook(this.extend({currency:n.id,format:"json"},r));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bid","ask","price","qty"));case 7:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchTickers",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(this.extend({currency:"all",format:"json"},t));case 6:for(r=e.sent,n={},i=r,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],u=s,c=void 0,s in this.markets_by_id&&(c=this.markets_by_id[s],u=c.symbol,d=i[s],n[u]=this.parseTicker(d,c));return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=this.market(t),e.next=4,this.publicGetTicker(this.extend({currency:n.id,format:"json"},r));case 4:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=this.safeFloat(e,"last"),i=this.safeFloat(e,"yesterday_last"),o=void 0;return"undefined"!==typeof n&&"undefined"!==typeof i&&(o=i-n),{symbol:"undefined"!==typeof t?t.symbol:void 0,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:n,last:n,previousClose:i,change:o,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.timestamp),n="undefined"!==typeof t?t.symbol:void 0;return{id:void 0,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:n,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"qty"),fee:void 0,info:e}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTrades(this.extend({currency:o.id,period:"hour",format:"json"},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a.completeOrders,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},"limit"===r){e.next=4;break}throw new c(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s={price:o,currency:this.marketId(t),qty:i},u="privatePostOrder"+this.capitalize(r)+this.capitalize(n),e.next=10,this[u](this.extend(s,a));case 10:return d=e.sent,l=this.safeString(d,"orderId"),h=this.milliseconds(),p=o*i,f={info:d,id:l,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,symbol:t,type:r,side:n,price:o,cost:p,average:void 0,amount:i,filled:void 0,remaining:void 0,status:void 0,fee:void 0},this.orders[l]=f,e.abrupt("return",f);case 17:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},i=this.safeValue(this.orders,t),o=void 0,a=void 0,s=void 0,"undefined"!==typeof i){e.next=20;break}if("undefined"!==typeof r){e.next=9;break}throw new l(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `symbol` argument is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 9:if("undefined"!==typeof(a=this.safeFloat(n,"price"))){e.next=12;break}throw new l(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `price` parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 12:if("undefined"!==typeof(o=this.safeFloat(n,"qty"))){e.next=15;break}throw new l(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `qty` (amount) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 15:if("undefined"!==typeof(s=this.safeFloat(n,"is_ask"))){e.next=18;break}throw new l(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `is_ask` (side) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 18:e.next=24;break;case 20:a=i.price,o=i.amount,s="buy"===i.side?0:1,r=i.symbol;case 24:return u={order_id:t,price:a,qty:o,is_ask:s,currency:this.marketId(r)},e.next=27,this.privatePostOrderCancel(this.extend(u,n));case 27:return e.abrupt("return",e.sent);case 28:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),s=this.omit(n,this.extractParams(e)),u=this.urls.api+"/";if("public"===t)u+=a,Object.keys(s).length&&(u+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),u+=this.version+"/"+a;var c=this.nonce().toString(),d=this.json(this.extend({access_token:this.apiKey,nonce:c},n)),l=this.stringToBase64(this.encode(d));o=this.decode(l);var h=this.secret.toUpperCase();i={"content-type":"application/json","X-COINONE-PAYLOAD":l,"X-COINONE-SIGNATURE":this.hmac(l,this.encode(h),"sha512")}}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("{"===o[0]||"["===o[0]){var a=JSON.parse(o);if(!("result"in a))throw new c(this.id+" "+o);if("success"!==a.result){var s=this.safeString(a,"errorCode"),u=this.id+" "+this.json(a),d=this.exceptions;throw s in d?new d[s](u):new c(u)}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinsecure",name:"Coinsecure",countries:"IN",rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766472-9cbd200a-5ed9-11e7-9551-2267ad7bac08.jpg",api:"https://api.coinsecure.in",www:"https://coinsecure.in",doc:["https://api.coinsecure.in","https://github.com/coinsecure/plugins"]},requiredCredentials:{apiKey:!0,secret:!1},api:{public:{get:["bitcoin/search/confirmation/{txid}","exchange/ask/low","exchange/ask/orders","exchange/bid/high","exchange/bid/orders","exchange/lastTrade","exchange/max24Hr","exchange/min24Hr","exchange/ticker","exchange/trades"]},private:{get:["mfa/authy/call","mfa/authy/sms","netki/search/{netkiName}","user/bank/otp/{number}","user/kyc/otp/{number}","user/profile/phone/otp/{number}","user/wallet/coin/address/{id}","user/wallet/coin/deposit/confirmed/all","user/wallet/coin/deposit/confirmed/{id}","user/wallet/coin/deposit/unconfirmed/all","user/wallet/coin/deposit/unconfirmed/{id}","user/wallet/coin/wallets","user/exchange/bank/fiat/accounts","user/exchange/bank/fiat/balance/available","user/exchange/bank/fiat/balance/pending","user/exchange/bank/fiat/balance/total","user/exchange/bank/fiat/deposit/cancelled","user/exchange/bank/fiat/deposit/unverified","user/exchange/bank/fiat/deposit/verified","user/exchange/bank/fiat/withdraw/cancelled","user/exchange/bank/fiat/withdraw/completed","user/exchange/bank/fiat/withdraw/unverified","user/exchange/bank/fiat/withdraw/verified","user/exchange/ask/cancelled","user/exchange/ask/completed","user/exchange/ask/pending","user/exchange/bid/cancelled","user/exchange/bid/completed","user/exchange/bid/pending","user/exchange/bank/coin/addresses","user/exchange/bank/coin/balance/available","user/exchange/bank/coin/balance/pending","user/exchange/bank/coin/balance/total","user/exchange/bank/coin/deposit/cancelled","user/exchange/bank/coin/deposit/unverified","user/exchange/bank/coin/deposit/verified","user/exchange/bank/coin/withdraw/cancelled","user/exchange/bank/coin/withdraw/completed","user/exchange/bank/coin/withdraw/unverified","user/exchange/bank/coin/withdraw/verified","user/exchange/bank/summary","user/exchange/coin/fee","user/exchange/fiat/fee","user/exchange/kycs","user/exchange/referral/coin/paid","user/exchange/referral/coin/successful","user/exchange/referral/fiat/paid","user/exchange/referrals","user/exchange/trade/summary","user/login/token/{token}","user/summary","user/wallet/summary","wallet/coin/withdraw/cancelled","wallet/coin/withdraw/completed","wallet/coin/withdraw/unverified","wallet/coin/withdraw/verified"],post:["login","login/initiate","login/password/forgot","mfa/authy/initiate","mfa/ga/initiate","signup","user/netki/update","user/profile/image/update","user/exchange/bank/coin/withdraw/initiate","user/exchange/bank/coin/withdraw/newVerifycode","user/exchange/bank/fiat/withdraw/initiate","user/exchange/bank/fiat/withdraw/newVerifycode","user/password/change","user/password/reset","user/wallet/coin/withdraw/initiate","wallet/coin/withdraw/newVerifycode"],put:["signup/verify/{token}","user/exchange/kyc","user/exchange/bank/fiat/deposit/new","user/exchange/ask/new","user/exchange/bid/new","user/exchange/instant/buy","user/exchange/instant/sell","user/exchange/bank/coin/withdraw/verify","user/exchange/bank/fiat/account/new","user/exchange/bank/fiat/withdraw/verify","user/mfa/authy/initiate/enable","user/mfa/ga/initiate/enable","user/netki/create","user/profile/phone/new","user/wallet/coin/address/new","user/wallet/coin/new","user/wallet/coin/withdraw/sendToExchange","user/wallet/coin/withdraw/verify"],delete:["user/gcm/{code}","user/logout","user/exchange/bank/coin/withdraw/unverified/cancel/{withdrawID}","user/exchange/bank/fiat/deposit/cancel/{depositID}","user/exchange/ask/cancel/{orderID}","user/exchange/bid/cancel/{orderID}","user/exchange/bank/fiat/withdraw/unverified/cancel/{withdrawID}","user/mfa/authy/disable/{code}","user/mfa/ga/disable/{code}","user/profile/phone/delete","user/profile/image/delete/{netkiName}","user/wallet/coin/withdraw/unverified/cancel/{withdrawID}"]}},markets:{"BTC/INR":{id:"BTC/INR",symbol:"BTC/INR",base:"BTC",quote:"INR"}},fees:{trading:{maker:.004,taker:.004}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserExchangeBankSummary();case 5:return t=e.sent,r=t.message,n={free:r.availableCoinBalance,used:r.pendingCoinBalance,total:r.totalCoinBalance},i={free:r.availableFiatBalance,used:r.pendingFiatBalance,total:r.totalFiatBalance},o={info:r,BTC:n,INR:i},e.abrupt("return",this.parseBalance(o));case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetExchangeBidOrders(r);case 6:return n=e.sent,e.next=9,this.publicGetExchangeAskOrders(r);case 9:return i=e.sent,o={bids:n.message,asks:i.message},e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","rate","vol"));case 12:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetExchangeTicker(r);case 5:return n=e.sent,i=n.message,o=i.timestamp,a=this.safeFloat(i,"coinvolume"),"BTC/INR"===t&&(a*=1e-8),s=this.safeFloat(i,"fiatvolume")/100,u=s/a,c=this.safeFloat(i,"lastPrice")/100,e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high")/100,low:this.safeFloat(i,"low")/100,bid:this.safeFloat(i,"bid")/100,bidVolume:void 0,ask:this.safeFloat(i,"ask")/100,askVolume:void 0,vwap:u,open:this.safeFloat(i,"open")/100,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:i});case 14:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time,n="bid"===e.ordType?"buy":"sell";return{id:void 0,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:t,type:void 0,side:n,price:this.safeFloat(e,"rate")/100,amount:this.safeFloat(e,"vol")/1e8,fee:void 0,info:e}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:void 0,r=a.length>3&&void 0!==a[3]?a[3]:{},e.next=5,this.loadMarkets();case 5:return n=this.market(t),e.next=8,this.publicGetExchangeTrades(r);case 8:if(!("message"in(i=e.sent))){e.next=12;break}return o=i.message,e.abrupt("return",this.parseTrades(o,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s="privatePutUserExchange",u={},"market"===r?(s+="Instant"+this.capitalize(n),"buy"===n?u.maxFiat=i:u.maxVol=i):(s+=("buy"===n?"Bid":"Ask")+"New",u.rate=o,u.vol=i),e.next=9,this[s](this.extend(u,a));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.message.orderID});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:throw new d(this.id+" cancelOrder () is not fully implemented yet");case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));return"private"===t&&(this.checkRequiredCredentials(),i={Authorization:this.apiKey},Object.keys(s).length&&(o=this.json(s),i["Content-Type"]="application/json")),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(200===e){if("{"!==o[0]&&"["!==o[0])throw new c(this.id+" returned a non-JSON reply: "+o);var a=JSON.parse(o);if(!("success"in a))throw new c(this.id+' malformed response: no "success" in response: '+o);if(!a.success)throw new c(this.id+" error returned: "+o);if(!("message"in a))throw new c(this.id+' malformed response: no "message" in response: '+o)}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.NotSupported;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coinspot",name:"CoinSpot",countries:"AU",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel"]}},markets:{"BTC/AUD":{id:"BTC",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},"LTC/AUD":{id:"LTC",symbol:"LTC/AUD",base:"LTC",quote:"AUD"},"DOGE/AUD":{id:"DOGE",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD"}}})}},{key:"fetchBalance",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privatePostMyBalances();case 3:if(t=e.sent,r={info:t},"balance"in t)for(n=t.balance,i=Object.keys(n),o=0;o<i.length;o++)a=i[o],s=a.toUpperCase(),u={free:n[a],used:0,total:n[a]},"DRK"===s&&(s="DASH"),r[s]=u;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchOrderBook",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},n=this.market(t),e.next=5,this.privatePostOrders(this.extend({cointype:n.id},r));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"buyorders","sellorders","rate","amount"));case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchTicker",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.publicGetLatest(r);case 3:return n=e.sent,i=(i=this.marketId(t)).toLowerCase(),o=n.prices[i],a=this.milliseconds(),s=this.safeFloat(o,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeFloat(o,"bid"),bidVolume:void 0,ask:this.safeFloat(o,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:o});case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchTrades",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.privatePostOrdersHistory(this.extend({cointype:this.marketId(e)},t))}},{key:"createOrder",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a="privatePostMy"+this.capitalize(r);if("market"===t)throw new c(this.id+" allows limit orders only");var s={cointype:this.marketId(e),amount:n,rate:i};return this[a](this.extend(s,o))}},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new l(this.id+" cancelOrder () is not fully implemented yet");case 3:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new d(this.id+" requires apiKey for all requests");var a=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var s=this.nonce();o=this.json(this.extend({nonce:s},n)),i={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(17),u=r(0),c=u.ExchangeError,d=u.ExchangeNotAvailable,l=u.AuthenticationError,h=u.InvalidOrder,p=u.InsufficientFunds,f=u.OrderNotFound,v=r(13),m=v.ROUND,y=v.TRUNCATE;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,v,b,g,k,w,x,O,T,_,C,R,S,P;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"cointiger",name:"CoinTiger",countries:"CN",hostname:"api.cointiger.pro",has:{fetchCurrencies:!1,fetchTickers:!0,fetchTradingLimits:!1,fetchOrder:!1},headers:{Language:"en_US"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39797261-d58df196-5363-11e8-9880-2ec78ec5bd25.jpg",api:{public:"https://api.cointiger.pro/exchange/trading/api/market",private:"https://api.cointiger.pro/exchange/trading/api",exchange:"https://www.cointiger.pro/exchange"},www:"https://www.cointiger.pro",referral:"https://www.cointiger.pro/exchange/register.html?refCode=FfvDtt",doc:"https://github.com/cointiger/api-docs-en/wiki"},api:{public:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},exchange:{get:["footer/tradingrule.html","api/public/market/detail"]},private:{get:["user/balance","order/new","order/history","order/trade"],post:["order"],delete:["order"]}},exceptions:{1:p,2:c,5:h,6:h,8:f,16:l,100001:c,100002:d,100003:c,100005:l}})}},{key:"fetchMarkets",value:(P=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"aacbtc",uppercaseId:"AACBTC",symbol:"AAC/BTC",base:"AAC",quote:"BTC",baseId:"aac",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"afcbtc",uppercaseId:"AFCBTC",symbol:"AFC/BTC",base:"AFC",quote:"BTC",baseId:"afc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"avhbtc",uppercaseId:"AVHBTC",symbol:"AVH/BTC",base:"AVH",quote:"BTC",baseId:"avh",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"baieth",uppercaseId:"BAIETH",symbol:"BAI/ETH",base:"BAI",quote:"ETH",baseId:"bai",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bchbtc",uppercaseId:"BCHBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbtbtc",uppercaseId:"BKBTBTC",symbol:"BKBT/BTC",base:"BKBT",quote:"BTC",baseId:"bkbt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbteth",uppercaseId:"BKBTETH",symbol:"BKBT/ETH",base:"BKBT",quote:"ETH",baseId:"bkbt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bptnbtc",uppercaseId:"BPTNBTC",symbol:"BPTN/BTC",base:"BPTN",quote:"BTC",baseId:"bptn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btcbitcny",uppercaseId:"BTCBITCNY",symbol:"BTC/BitCNY",base:"BTC",quote:"BitCNY",baseId:"btc",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmbtc",uppercaseId:"BTMBTC",symbol:"BTM/BTC",base:"BTM",quote:"BTC",baseId:"btm",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmeth",uppercaseId:"BTMETH",symbol:"BTM/ETH",base:"BTM",quote:"ETH",baseId:"btm",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbitcny",uppercaseId:"BTSBITCNY",symbol:"BTS/BitCNY",base:"BTS",quote:"BitCNY",baseId:"bts",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbtc",uppercaseId:"BTSBTC",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btseth",uppercaseId:"BTSETH",symbol:"BTS/ETH",base:"BTS",quote:"ETH",baseId:"bts",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxcbtc",uppercaseId:"CTXCBTC",symbol:"CTXC/BTC",base:"CTXC",quote:"BTC",baseId:"ctxc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxceth",uppercaseId:"CTXCETH",symbol:"CTXC/ETH",base:"CTXC",quote:"ETH",baseId:"ctxc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"elfbtc",uppercaseId:"ELFBTC",symbol:"ELF/BTC",base:"ELF",quote:"BTC",baseId:"elf",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eosbtc",uppercaseId:"EOSBTC",symbol:"EOS/BTC",base:"EOS",quote:"BTC",baseId:"eos",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eoseth",uppercaseId:"EOSETH",symbol:"EOS/ETH",base:"EOS",quote:"ETH",baseId:"eos",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"etcbtc",uppercaseId:"ETCBTC",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbitcny",uppercaseId:"ETHBITCNY",symbol:"ETH/BitCNY",base:"ETH",quote:"BitCNY",baseId:"eth",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbtc",uppercaseId:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gtobitcny",uppercaseId:"GTOBITCNY",symbol:"GTO/BitCNY",base:"GTO",quote:"BitCNY",baseId:"gto",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gusbtc",uppercaseId:"GUSBTC",symbol:"GUS/BTC",base:"GUS",quote:"BTC",baseId:"gus",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"icxbtc",uppercaseId:"ICXBTC",symbol:"ICX/BTC",base:"ICX",quote:"BTC",baseId:"icx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"incbtc",uppercaseId:"INCBTC",symbol:"INC/BTC",base:"INC",quote:"BTC",baseId:"inc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"inceth",uppercaseId:"INCETH",symbol:"INC/ETH",base:"INC",quote:"ETH",baseId:"inc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgbtc",uppercaseId:"KKGBTC",symbol:"KKG/BTC",base:"KKG",quote:"BTC",baseId:"kkg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgeth",uppercaseId:"KKGETH",symbol:"KKG/ETH",base:"KKG",quote:"ETH",baseId:"kkg",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ltcbtc",uppercaseId:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mexbtc",uppercaseId:"MEXBTC",symbol:"MEX/BTC",base:"MEX",quote:"BTC",baseId:"mex",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mtbtc",uppercaseId:"MTBTC",symbol:"MT/BTC",base:"MT",quote:"BTC",baseId:"mt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mteth",uppercaseId:"MTETH",symbol:"MT/ETH",base:"MT",quote:"ETH",baseId:"mt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbitcny",uppercaseId:"OCNBITCNY",symbol:"OCN/BitCNY",base:"OCN",quote:"BitCNY",baseId:"ocn",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbtc",uppercaseId:"OCNBTC",symbol:"OCN/BTC",base:"OCN",quote:"BTC",baseId:"ocn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"olebtc",uppercaseId:"OLEBTC",symbol:"OLE/BTC",base:"OLE",quote:"BTC",baseId:"ole",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"oleeth",uppercaseId:"OLEETH",symbol:"OLE/ETH",base:"OLE",quote:"ETH",baseId:"ole",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"omgbtc",uppercaseId:"OMGBTC",symbol:"OMG/BTC",base:"OMG",quote:"BTC",baseId:"omg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"repbtc",uppercaseId:"REPBTC",symbol:"REP/BTC",base:"REP",quote:"BTC",baseId:"rep",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdabtc",uppercaseId:"SDABTC",symbol:"SDA/BTC",base:"SDA",quote:"BTC",baseId:"sda",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdaeth",uppercaseId:"SDAETH",symbol:"SDA/ETH",base:"SDA",quote:"ETH",baseId:"sda",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sntbtc",uppercaseId:"SNTBTC",symbol:"SNT/BTC",base:"SNT",quote:"BTC",baseId:"snt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"socbtc",uppercaseId:"SOCBTC",symbol:"SOC/BTC",base:"SOC",quote:"BTC",baseId:"soc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sphbtc",uppercaseId:"SPHBTC",symbol:"SPH/BTC",base:"SPH",quote:"BTC",baseId:"sph",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"storjbtc",uppercaseId:"STORJBTC",symbol:"STORJ/BTC",base:"STORJ",quote:"BTC",baseId:"storj",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbitcny",uppercaseId:"TCHBITCNY",symbol:"TCH/BitCNY",base:"TCH",quote:"BitCNY",baseId:"tch",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbtc",uppercaseId:"TCHBTC",symbol:"TCH/BTC",base:"TCH",quote:"BTC",baseId:"tch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbitcny",uppercaseId:"TRXBITCNY",symbol:"TRX/BitCNY",base:"TRX",quote:"BitCNY",baseId:"trx",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbtc",uppercaseId:"TRXBTC",symbol:"TRX/BTC",base:"TRX",quote:"BTC",baseId:"trx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxeth",uppercaseId:"TRXETH",symbol:"TRX/ETH",base:"TRX",quote:"ETH",baseId:"trx",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdbtc",uppercaseId:"TUSDBTC",symbol:"TUSD/BTC",base:"TUSD",quote:"BTC",baseId:"tusd",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdeth",uppercaseId:"TUSDETH",symbol:"TUSD/ETH",base:"TUSD",quote:"ETH",baseId:"tusd",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"xembitcny",uppercaseId:"XEMBITCNY",symbol:"XEM/BitCNY",base:"XEM",quote:"BitCNY",baseId:"xem",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeebtc",uppercaseId:"YEEBTC",symbol:"YEE/BTC",base:"YEE",quote:"BTC",baseId:"yee",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeeeth",uppercaseId:"YEEETH",symbol:"YEE/ETH",base:"YEE",quote:"ETH",baseId:"yee",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"zrxbtc",uppercaseId:"ZRXBTC",symbol:"ZRX/BTC",base:"ZRX",quote:"BTC",baseId:"zrx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btcusdt",uppercaseId:"BTCUSDT",symbol:"BTC/USDT",base:"BTC",quote:"USDT",baseId:"btc",quoteId:"usdt",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethusdt",uppercaseId:"ETHUSDT",symbol:"ETH/USDT",base:"ETH",quote:"USDT",baseId:"eth",quoteId:"usdt",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ltcusdt",uppercaseId:"LTCUSDT",symbol:"LTC/USDT",base:"LTC",quote:"USDT",baseId:"ltc",quoteId:"usdt",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}}],this.options.marketsByUppercaseId=this.indexBy(t,"uppercaseId"),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeInteger(e,"id"),i=this.safeFloat(e,"last"),o=this.safeFloat(e,"percentChange");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:o,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchOrderBook",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetDepth(this.extend({symbol:n.id,type:"step0"},r));case 7:if(i=e.sent,!("tick"in(o=i.data.depth_data))){e.next=15;break}if(o.tick){e.next=12;break}throw new c(this.id+" fetchOrderBook() returned empty response: "+this.json(i));case 12:return a=o.tick,s=o.ts,e.abrupt("return",this.parseOrderBook(a,s,"buys"));case 15:throw new c(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(i));case 16:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"fetchTicker",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),i=n.uppercaseId,e.next=7,this.exchangeGetApiPublicMarketDetail(r);case 7:if(o=e.sent,i in o){e.next=10;break}throw new c(this.id+" fetchTicker symbol "+t+" ("+i+") not found");case 10:return e.abrupt("return",this.parseTicker(o[i],n));case 11:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"fetchTickers",value:(C=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.exchangeGetApiPublicMarketDetail(t);case 6:for(r=e.sent,n={},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=void 0,u=a,a in this.options.marketsByUppercaseId&&(u=this.options.marketsByUppercaseId[a].symbol,s=this.options.marketsByUppercaseId[a]),n[u]=this.parseTicker(r[a],s);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"side"),n=void 0,i=void 0,o=void 0;"undefined"!==typeof r?(r=r.toLowerCase(),i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount")):(i=this.safeFloat(e.price,"amount"),n=this.safeFloat(e.volume,"amount"),o=this.safeFloat(e.deal_price,"amount")),"undefined"!==typeof n&&"undefined"!==typeof i&&"undefined"===typeof o&&(o=n*i);var a=this.safeValue(e,"created_at");"undefined"===typeof a&&(a=this.safeValue(e,"ts"));var s="undefined"!==typeof a?this.iso8601(a):void 0,u=void 0;return"undefined"!==typeof t&&(u=t.symbol),{info:e,id:e.id.toString(),order:void 0,timestamp:a,datetime:s,symbol:u,type:void 0,side:r,price:i,amount:n,cost:o,fee:void 0}}},{key:"fetchTrades",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:1e3,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof n&&(a.size=n),e.next=10,this.publicGetHistoryTrade(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.data.trade_data,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchMyTrades",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},"undefined"!==typeof t){e.next=6;break}throw new c(this.id+" fetchOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),"undefined"===typeof n&&(n=100),e.next=12,this.privateGetOrderTrade(this.extend({symbol:o.id,offset:1,limit:n},i));case 12:return a=e.sent,e.abrupt("return",this.parseTrades(a.data.list,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchOHLCV",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:1e3,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,period:this.timeframes[r]},"undefined"!==typeof i&&(s.size=i),e.next=11,this.publicGetHistoryKline(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data.kline_data,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchBalance",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserBalance(t);case 5:for(r=e.sent,n=r.data,i={info:r},o=0;o<n.length;o++)a=n[o],s=a.coin,u=s.toUpperCase(),u=this.commonCurrencyCode(u),s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),(c=this.account()).used=parseFloat(a.lock),c.free=parseFloat(a.normal),c.total=this.sum(c.used,c.free),i[u]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchOrdersByStatus",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},"undefined"!==typeof r){e.next=7;break}throw new c(this.id+" fetchOrders requires a symbol argument");case 7:return e.next=9,this.loadMarkets();case 9:return a=this.market(r),"undefined"===typeof i&&(i=100),s="open"===t?"privateGetOrderNew":"privateGetOrderHistory",e.next=14,this[s](this.extend({symbol:a.id,offset:1,limit:i},o));case 14:return u=e.sent,e.abrupt("return",this.parseOrders(u.data.list,a,n,i));case 16:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.abrupt("return",this.fetchOrdersByStatus("open",t,r,n,i));case 5:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchClosedOrders",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.abrupt("return",this.fetchOrdersByStatus("closed",t,r,n,i));case 5:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"side");r=r.toLowerCase();var n=void 0,i=void 0;"undefined"!==typeof t&&(i=t.symbol);var o=e.created_at,a=this.safeFloat(e.volume,"amount"),s="remain_volume"in e?this.safeFloat(e.remain_volume,"amount"):void 0,u="deal_volume"in e?this.safeFloat(e.deal_volume,"amount"):void 0,c="age_price"in e?this.safeFloat(e.age_price,"amount"):void 0;"undefined"===typeof c&&(c="price"in e?this.safeFloat(e.price,"amount"):void 0);var d=void 0,l=void 0;return"undefined"!==typeof a&&("undefined"!==typeof s?"undefined"===typeof u&&(u=a-s):"undefined"!==typeof u&&(d=u*c,l=parseFloat(d/u),"undefined"===typeof s&&(s=a-u))),"undefined"!==typeof s&&s>0&&(n="open"),{info:e,id:e.id.toString(),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:i,type:void 0,side:r,price:c,average:l,cost:d,amount:a,filled:u,remaining:s,status:n,fee:void 0}}},{key:"costToPrecision",value:function(e,t){return this.decimalToPrecision(t,m,this.markets[e].precision.price)}},{key:"priceToPrecision",value:function(e,t){return this.decimalToPrecision(t,m,this.markets[e].precision.price)}},{key:"amountToPrecision",value:function(e,t){return this.decimalToPrecision(t,y,this.markets[e].precision.amount)}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,m,this.currencies[e].precision)}},{key:"createOrder",value:(b=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:{},e.next=4,this.loadMarkets();case 4:if(this.password){e.next=6;break}throw new l(this.id+" createOrder requires exchange.password to be set to user trading password (not login password!)");case 6:if(this.checkRequiredCredentials(),s=this.market(t),u="limit"===r?1:2,c={symbol:s.id,side:n.toUpperCase(),type:u,volume:this.amountToPrecision(t,i),capital_password:this.password},"market"!==r||"buy"!==n){e.next=14;break}if("undefined"!==typeof o){e.next=13;break}throw new h(this.id+" createOrder requires price argument for market buy orders to calculate total cost according to exchange rules");case 13:c.volume=this.amountToPrecision(t,i*o);case 14:return c.price="limit"===r?this.priceToPrecision(t,o):"undefined"===typeof o?this.priceToPrecision(t,0):this.priceToPrecision(t,o),e.next=17,this.privatePostOrder(this.extend(c,a));case 17:return d=e.sent,p=this.milliseconds(),e.abrupt("return",{info:d,id:d.data.order_id.toString(),timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:n,price:o,amount:i,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 20:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return b.apply(this,arguments)})},{key:"cancelOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:if("undefined"!==typeof r){e.next=6;break}throw new c(this.id+" cancelOrder requires a symbol argument");case 6:return i=this.market(r),e.next=9,this.privateDeleteOrder(this.extend({symbol:i.id,order_id:t},n));case 9:return o=e.sent,e.abrupt("return",{id:t,symbol:r,info:o});case 11:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.checkRequiredCredentials();var a=this.urls.api[t]+"/"+this.implodeParams(e,n);if("private"===t){for(var s=this.milliseconds().toString(),u=this.keysort(this.extend({time:s},n)),c=Object.keys(u),d="",l=0;l<c.length;l++)d+=c[l]+u[c[l]];d+=this.secret;var h=this.hmac(this.encode(d),this.encode(this.secret),"sha512"),p="order"===e&&"POST"===r?{}:u;a+="?"+this.urlencode(this.keysort(this.extend({api_key:this.apiKey,time:s},p))),a+="&sign="+h,"POST"===r&&(o=this.urlencode(u),i={"Content-Type":"application/x-www-form-urlencoded"})}else"public"===t?a+="?"+this.urlencode(this.extend({api_key:this.apiKey},n)):Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("code"in a){var s=this.safeString(a,"code");if("undefined"!==typeof s&&"0"!==s){var u=this.safeString(a,"msg"),d=this.id+" "+this.json(a),l=this.exceptions;if(s in l){if(2===s){if("offsetNot Null"===u)throw new c(d);if("Parameter error"===u)throw new c(d)}throw new l[s](d)}throw new c(this.id+' unknown "error" value: '+this.json(a))}}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(24);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"coolcoin",name:"CoolCoin",countries:"HK",urls:{logo:"https://user-images.githubusercontent.com/1294454/36770529-be7b1a04-1c5b-11e8-9600-d11f1996b539.jpg",api:{web:"https://www.coolcoin.com/coin",rest:"https://www.coolcoin.com/api/v1"},www:"https://www.coolcoin.com",doc:"https://www.coolcoin.com/help.api.html",fees:"https://www.coolcoin.com/spend.price.html"},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,BCH:.002,ETH:.01,ETC:.01,LTC:.001,TBC:"1%",HSR:"1%",NEO:"1%",SDC:"1%",EOS:"1%",BTM:"1%",XAS:"1%",ACT:"1%",SAK:"1%",GCS:"1%",HCC:"1%",QTUM:"1%",GEC:"1%",TRX:"1%",IFC:"1%",PAY:"1%",PGC:"1%",KTC:"1%",INT:"1%",LSK:"0.5%",SKT:"1%",SSS:"1%",BT1:"1%",BT2:"1%"}}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k,w;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"crypton",name:"Crypton",countries:"EU",rateLimit:500,version:"1",has:{fetchDepositAddress:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTicker:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41334251-905b5a78-6eed-11e8-91b9-f3aa435078a1.jpg",api:"https://api.cryptonbtc.com",www:"https://cryptonbtc.com",doc:"https://cryptonbtc.docs.apiary.io/",fees:"https://help.cryptonbtc.com/hc/en-us/articles/360004089872-Fees"},api:{public:{get:["currencies","markets","markets/{id}","markets/{id}/orderbook","markets/{id}/trades","tickers"]},private:{get:["balances","orders","orders/{id}","fills","deposit_address/{currency}","deposits"],post:["orders"],delete:["orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}}})}},{key:"fetchMarkets",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=t.result,n=[],i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=s.base,c=s.quote,d=this.commonCurrencyCode(u),l=this.commonCurrencyCode(c),h=d+"/"+l,p={amount:8,price:this.precisionFromString(this.safeString(s,"priceStep"))},f=s.enabled,n.push({id:a,symbol:h,base:d,quote:l,baseId:u,quoteId:c,active:f,info:s,precision:p,limits:{amount:{min:this.safeFloat(s,"minSize"),max:void 0},price:{min:this.safeFloat(s,"priceStep"),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchBalance",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalances(t);case 5:for(r=e.sent,n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=this.commonCurrencyCode(a),u=this.account(),c=r[a],d=parseFloat(c.total),l=parseFloat(c.free),h=parseFloat(c.locked),u.total=d,u.free=l,u.used=h,n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsIdOrderbook(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeFloat(e,"last"),i=this.safeFloat(e,"change24h",0);return{symbol:r,timestamp:void 0,datetime:void 0,high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:100*i,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=r[a],u=void 0,c=a,a in this.markets_by_id?(u=this.markets_by_id[a],c=u.symbol):c=this.parseSymbol(a),i[c]=this.parseTicker(s,u);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.time),n=void 0;if("market"in e){var i=e.market;i in this.markets_by_id?t=this.markets_by_id[i]:n=this.parseSymbol(i)}t&&(n=t.symbol);var o=void 0;return"fee"in e&&(o={cost:this.safeFloat(e,"fee"),currency:this.commonCurrencyCode(e.feeCurrency)}),{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"size"),order:this.safeString(e,"orderId"),fee:o}}},{key:"fetchTrades",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={id:o.id},n&&(a.limit=n),e.next=10,this.publicGetMarketsIdTrades(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.result,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchMyTrades",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={},n&&(a.limit=n),e.next=11,this.privateGetFills(this.extend(a,i));case 11:return s=e.sent,u=this.parseTrades(s.result,o,r,n),e.abrupt("return",this.filterBySymbol(u,t));case 14:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.id.toString(),r=e.status,n=e.side,i=e.type,o=void 0,a=e.market;o=a in this.markets_by_id?this.markets_by_id[a].symbol:this.parseSymbol(a);var s=this.parse8601(e.createdAt),u=this.iso8601(s),c=void 0;"fee"in e&&(c={cost:parseFloat(e.fee),currency:this.commonCurrencyCode(e.feeCurrency)});var d=this.safeFloat(e,"price"),l=this.safeFloat(e,"size"),h=this.safeFloat(e,"filledSize");return{info:e,id:t,timestamp:s,datetime:u,lastTradeTimestamp:void 0,symbol:o,type:i,side:n,price:d,cost:h*d,average:void 0,amount:l,filled:h,remaining:l-h,status:r,fee:c}}},{key:"fetchOrder",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n={id:t},e.next=7,this.privateGetOrdersId(this.extend(n,r));case 7:return i=e.sent,e.abrupt("return",this.parseOrder(i.result));case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOpenOrders",value:(f=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(o.market=this.marketId(t)),e.next=11,this.privateGetOrders(this.extend(o,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s.result,a,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"createOrder",value:(p=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:return s={market:this.marketId(t),side:n,type:r,size:this.amountToPrecision(t,i),price:this.priceToPrecision(t,o)},e.next=7,this.privatePostOrders(this.extend(s,a));case 7:return u=e.sent,e.abrupt("return",this.parseOrder(u.result));case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n={id:t},e.next=7,this.privateDeleteOrdersId(this.extend(n,r));case 7:return i=e.sent,e.abrupt("return",this.parseOrder(i.result));case 9:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"parseSymbol",value:function(e){var t=i(e.split("-"),2),r=t[0],n=t[1];return(r=this.commonCurrencyCode(r))+"/"+(n=this.commonCurrencyCode(n))}},{key:"fetchDepositAddress",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetDepositAddressCurrency(this.extend({currency:n.id},r));case 6:return i=e.sent,o=i.result,a=this.safeString(o,"address"),s=this.safeString(o,"tag"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:s,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s));var u=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var c=this.milliseconds().toString(),d="";"GET"!==r&&Object.keys(s).length&&(d=o=this.json(s));var l=c+r+a+d,h=this.hmac(this.encode(l),this.encode(this.secret),"sha256");i={"CRYPTON-APIKEY":this.apiKey,"CRYPTON-SIGNATURE":h,"CRYPTON-TIMESTAMP":c,"Content-Type":"application/json"}}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("{"===o[0]){var a=JSON.parse(o);if(!this.safeValue(a,"success"))throw new c(this.id+" "+o)}}}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:s(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InsufficientFunds,h=c.OrderNotFound,p=c.OrderNotCached,f=c.InvalidNonce;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"cryptopia",name:"Cryptopia",rateLimit:1500,countries:"NZ",has:{CORS:!1,createMarketOrder:!1,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:"emulated",fetchOrderBooks:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchTickers:!0,deposit:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29484394-7b4ea6e2-84c6-11e7-83e5-1fccf4b2dc81.jpg",api:{public:"https://www.cryptopia.co.nz/api",private:"https://www.cryptopia.co.nz/api",web:"https://www.cryptopia.co.nz"},www:"https://www.cryptopia.co.nz",referral:"https://www.cryptopia.co.nz/Register?referrer=kroitor",doc:["https://www.cryptopia.co.nz/Forum/Category/45","https://www.cryptopia.co.nz/Forum/Thread/255","https://www.cryptopia.co.nz/Forum/Thread/256"]},timeframes:{"15m":15,"30m":30,"1h":60,"2h":120,"4h":240,"12h":720,"1d":1440,"1w":10080},api:{web:{get:["Exchange/GetTradePairChart"]},public:{get:["GetCurrencies","GetTradePairs","GetMarkets","GetMarkets/{id}","GetMarkets/{hours}","GetMarkets/{id}/{hours}","GetMarket/{id}","GetMarket/{id}/{hours}","GetMarketHistory/{id}","GetMarketHistory/{id}/{hours}","GetMarketOrders/{id}","GetMarketOrders/{id}/{count}","GetMarketOrderGroups/{ids}","GetMarketOrderGroups/{ids}/{count}"]},private:{post:["CancelTrade","GetBalance","GetDepositAddress","GetOpenOrders","GetTradeHistory","GetTransactions","SubmitTip","SubmitTrade","SubmitTransfer","SubmitWithdraw"]}},commonCurrencies:{ACC:"AdCoin",BAT:"BatCoin",BLZ:"BlazeCoin",BTG:"Bitgem",CAN:"CanYa",CAT:"Catcoin",CC:"CCX",CMT:"Comet",EPC:"ExperienceCoin",FCN:"Facilecoin",FUEL:"FC2",HAV:"Havecoin",KARM:"KARMA",LBTC:"LiteBitcoin",LDC:"LADACoin",MARKS:"Bitmark",NET:"NetCoin",RED:"RedCoin",STC:"StopTrumpCoin",QBT:"Cubits",WRC:"WarCoin"},options:{fetchTickersErrors:!0}})}},{key:"fetchMarkets",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetTradePairs();case 2:for(t=e.sent,r=[],n=t.Data,i=0;i<n.length;i++)o=n[i],a=o.Id,s=o.Label,u=o.Symbol,c=o.BaseSymbol,d=this.commonCurrencyCode(u),l=this.commonCurrencyCode(c),s=d+"/"+l,h={amount:8,price:8},p=o.MinimumTrade,f={min:o.MinimumPrice,max:o.MaximumPrice},v={min:p,max:o.MaximumTrade},m={amount:v,price:f,cost:{min:o.MinimumBaseTrade,max:void 0}},y="OK"===o.Status,r.push({id:a,symbol:s,label:o.Label,base:d,quote:l,baseId:u,quoteId:c,info:o,maker:o.TradeFee/100,taker:o.TradeFee/100,lot:m.amount.min,active:y,precision:h,limits:m});return this.options.marketsByLabel=this.indexBy(r,"label"),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchOrderBook",value:(B=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetMarketOrdersId(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,i=n.Data,e.abrupt("return",this.parseOrderBook(i,void 0,"Buy","Sell","Price","Volume"));case 9:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"fetchOHLCV",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y,b=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>1&&void 0!==b[1]?b[1]:"15m",n=b.length>2&&void 0!==b[2]?b[2]:void 0,i=b.length>3&&void 0!==b[3]?b[3]:void 0,o=b.length>4&&void 0!==b[4]?b[4]:{},a=0,"undefined"!==typeof n)for(u=(s=[86400,172800,604800,1209600,2592e3,7776e3,15552e3]).length,c=this.seconds(),d=parseInt(n/1e3),l=1;l<u;l++)c-d>s[l]&&(a=l);return e.next=8,this.loadMarkets();case 8:return h=this.market(t),p={tradePairId:h.id,dataRange:a,dataGroup:this.timeframes[r]},e.next=12,this.webGetExchangeGetTradePairChart(this.extend(p,o));case 12:for(f=e.sent,v=f.Candle,m=f.Volume,y=0;y<v.length;y++)v[y].push(m[y].basev);return e.abrupt("return",this.parseOHLCVs(v,h,r,n,i));case 17:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"joinMarketIds",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=e[0].toString(),n=1;n<e.length;n++)r+=t+e[n].toString();return r}},{key:"fetchOrderBooks",value:(P=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:if("undefined"!==typeof t){e.next=6;break}throw new d(this.id+" fetchOrderBooks requires the symbols argument as of May 2018 (up to 5 symbols at max)");case 6:if(!(t.length>5)){e.next=9;break}throw new d(this.id+" fetchOrderBooks accepts 5 symbols at max");case 9:return n=this.joinMarketIds(this.marketIds(t)),e.next=12,this.publicGetGetMarketOrderGroupsIds(this.extend({ids:n},r));case 12:for(i=e.sent,o=i.Data,a={},s=0;s<o.length;s++)u=o[s],c=this.safeInteger(u,"TradePairId"),l=c,c in this.markets_by_id&&(h=this.markets_by_id[c],l=h.symbol),a[l]=this.parseOrderBook(u,void 0,"Buy","Sell","Price","Volume");return e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"Open"),o=this.safeFloat(e,"LastPrice"),a=o-i,s=this.safeFloat(e,"Volume"),u=this.safeFloat(e,"BaseVolume"),c=void 0;return"undefined"!==typeof u&&"undefined"!==typeof s&&s>0&&(c=u/s),{symbol:n,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:c,open:i,close:o,last:o,previousClose:void 0,change:a,percentage:this.safeFloat(e,"Change"),average:this.sum(o,i)/2,baseVolume:s,quoteVolume:u}}},{key:"fetchTicker",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetGetMarketId(this.extend({id:n.id},r));case 6:return i=e.sent,o=i.Data,e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"fetchTickers",value:(R=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetMarkets(r);case 6:n=e.sent,i={},o=n.Data,a=0;case 10:if(!(a<o.length)){e.next=25;break}if(s=o[a],u=s.TradePairId,u in this.markets_by_id){e.next=19;break}if(!this.options.fetchTickersErrors){e.next=17;break}throw new d(this.id+" fetchTickers() returned unrecognized pair id "+u.toString());case 17:e.next=22;break;case 19:c=this.markets_by_id[u],l=c.symbol,i[l]=this.parseTicker(s,c);case 22:a++,e.next=10;break;case 25:return e.abrupt("return",this.filterByArray(i,"symbol",t));case 26:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"Timestamp"in e?r=1e3*e.Timestamp:"TimeStamp"in e&&(r=this.parse8601(e.TimeStamp));var n=this.safeFloat(e,"Price");n||(n=this.safeFloat(e,"Rate"));var i=this.safeFloat(e,"Total"),o=this.safeString(e,"TradeId");t||"TradePairId"in e&&e.TradePairId in this.markets_by_id&&(t=this.markets_by_id[e.TradePairId]);var a=void 0,s=void 0;return t&&(a=t.symbol,"Fee"in e&&(s={currency:t.quote,cost:e.Fee})),{id:o,info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:a,type:"limit",side:e.Type.toLowerCase(),price:n,cost:i,amount:e.Amount,fee:s}}},{key:"fetchTrades",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:void 0,i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a=24,"undefined"!==typeof r&&(s=this.milliseconds()-r,u=36e5,a=parseInt(Math.ceil(s/u))),c={id:o.id,hours:a},e.next=11,this.publicGetGetMarketHistoryIdHours(this.extend(c,i));case 11:return d=e.sent,l=d.Data,e.abrupt("return",this.parseTrades(l,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchMyTrades",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(a=this.market(t),o.TradePairId=a.id),"undefined"!==typeof n&&(o.Count=n),e.next=12,this.privatePostGetTradeHistory(this.extend(o,i));case 12:return s=e.sent,e.abrupt("return",this.parseTrades(s.Data,a,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchCurrencies",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetGetCurrencies(t);case 3:for(r=e.sent,n=r.Data,i={},o=0;o<n.length;o++)a=n[o],s=a.Symbol,u=8,c=this.commonCurrencyCode(s),d="Active"===a.ListingStatus,"ok"!==(l=a.Status.toLowerCase())&&(d=!1),i[c]={id:s,code:c,info:a,name:a.Name,active:d,status:l,fee:a.WithdrawFee,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:a.MinBaseTrade,max:void 0},withdraw:{min:a.MinWithdraw,max:a.MaxWithdraw}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchBalance",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetBalance(t);case 5:for(r=e.sent,n=r.Data,i={info:r},o=0;o<n.length;o++)a=n[o],s=a.Symbol,u=this.commonCurrencyCode(s),(c={free:a.Available,used:0,total:a.Total}).used=c.total-c.free,i[u]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"createOrder",value:(x=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},"market"!==r){e.next=4;break}throw new d(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(t),u={TradePairId:s.id,Type:this.capitalize(n),Rate:o,Amount:i},e.next=10,this.privatePostSubmitTrade(this.extend(u,a));case 10:if(c=e.sent){e.next=13;break}throw new d(this.id+" createOrder returned unknown error: "+this.json(c));case 13:return l=void 0,h=0,p="open","Data"in c&&"OrderId"in c.Data&&(c.Data.OrderId?l=c.Data.OrderId.toString():(h=i,p="closed")),f={id:l,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,status:p,symbol:t,type:r,side:n,price:o,cost:o*i,amount:i,remaining:i-h,filled:h,fee:void 0},l&&(this.orders[l]=f),e.abrupt("return",this.extend({info:c},f));case 20:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return x.apply(this,arguments)})},{key:"cancelOrder",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,e.next=8,this.privatePostCancelTrade(this.extend({Type:"Trade",OrderId:t},r));case 8:n=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.next=20;break;case 12:if(e.prev=12,e.t0=e.catch(5),!this.last_json_response){e.next=19;break}if(!(i=this.safeString(this.last_json_response,"Error"))){e.next=19;break}if(!(i.indexOf("does not exist")>=0)){e.next=19;break}throw new h(this.id+" cancelOrder() error: "+this.last_http_response);case 19:throw e.t0;case 20:return e.abrupt("return",this.parseOrder(n));case 21:case"end":return e.stop()}},e,this,[[5,12]])})),function(e){return w.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else if("Market"in e){var n=e.Market;n in this.markets_by_id?r=(t=this.markets_by_id[n]).symbol:n in this.options.marketsByLabel&&(r=(t=this.options.marketsByLabel[n]).symbol)}var i=this.safeInteger(e,"TimeStamp"),o=void 0;i&&(o=this.iso8601(i));var a=this.safeFloat(e,"Amount"),s=this.safeFloat(e,"Remaining"),u=void 0;"undefined"!==typeof a&&"undefined"!==typeof s&&(u=a-s);var c=this.safeValue(e,"OrderId");"undefined"!==typeof c&&(c=c.toString());var d=this.safeString(e,"Type");return"undefined"!==typeof d&&(d=d.toLowerCase()),{id:c,info:this.omit(e,"status"),timestamp:i,datetime:o,lastTradeTimestamp:void 0,status:this.safeString(e,"status"),symbol:r,type:"limit",side:d,price:this.safeFloat(e,"Rate"),cost:this.safeFloat(e,"Total"),amount:a,filled:u,remaining:s,fee:void 0}}},{key:"fetchOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:void 0,r=g.length>1&&void 0!==g[1]?g[1]:void 0,n=g.length>2&&void 0!==g[2]?g[2]:void 0,i=g.length>3&&void 0!==g[3]?g[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},"undefined"!==typeof t&&(o=this.market(t),a.TradePairId=o.id),e.next=11,this.privatePostGetOpenOrders(this.extend(a,i));case 11:for(s=e.sent,u=[],c=0;c<s.Data.length;c++)u.push(this.extend(s.Data[c],{status:"open"}));for(d=this.parseOrders(u,o),l=0;l<d.length;l++)this.orders[d[l].id]=d[l];for(h=this.indexBy(d,"id"),p=Object.keys(this.orders),f=[],v=0;v<p.length;v++)(m=p[v])in h?this.orders[m]=this.extend(this.orders[m],h[m]):"open"===(y=this.orders[m]).status&&("undefined"!==typeof t&&y.symbol!==t||(this.orders[m]=this.extend(y,{status:"closed",cost:y.amount*y.price,filled:y.amount,remaining:0}))),b=this.orders[m],"undefined"!==typeof t&&b.symbol!==t||f.push(b);return e.abrupt("return",this.filterBySinceLimit(f,r,n));case 21:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},t=t.toString(),e.next=5,this.fetchOrders(r,void 0,void 0,n);case 5:i=e.sent,o=0;case 7:if(!(o<i.length)){e.next=13;break}if(i[o].id!==t){e.next=10;break}return e.abrupt("return",i[o]);case 10:o++,e.next=7;break;case 13:throw new p(this.id+" order "+t+" not found in cached .orders, fetchOrder requires .orders (de)serialization implemented for this method to work properly");case 14:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOpenOrders",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:for(o=e.sent,a=[],s=0;s<o.length;s++)"open"===o[s].status&&a.push(o[s]);return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchClosedOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:for(o=e.sent,a=[],s=0;s<o.length;s++)"closed"===o[s].status&&a.push(o[s]);return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchDepositAddress",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostGetDepositAddress(this.extend({Currency:n.id},r));case 6:return i=e.sent,(o=this.safeString(i.Data,"BaseAddress"))||(o=this.safeString(i.Data,"Address")),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,info:i});case 11:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"withdraw",value:(v=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=4,this.loadMarkets();case 4:return a=this.currency(t),this.checkAddress(n),s={Currency:a.id,Amount:r,Address:n},i&&(s.PaymentId=i),e.next=10,this.privatePostSubmitWithdraw(this.extend(s,o));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.Data});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString();o=this.json(s,{convertArraysToObjects:!0});var c=this.hash(this.encode(o),"md5","base64"),d=this.base64ToBinary(this.secret),l=this.encodeURIComponent(a).toLowerCase();c=this.binaryToString(c);var h=this.apiKey+r+l+u+c,p=this.hmac(this.encode(h),d,"sha256","base64");i={"Content-Type":"application/json",Authorization:"amx "+this.apiKey+":"+this.binaryToString(p)+":"+u}}else Object.keys(s).length&&(a+="?"+this.urlencode(s));return{url:a,method:r,body:o,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)){var a=this.sanitizeBrokenJSONString(o);if("{"===a[0]){var s=JSON.parse(a);if("Success"in s){var u=this.safeValue(s,"Success");if("undefined"!==typeof u&&!u){var c=this.safeString(s,"Error"),p=this.id;if("string"===typeof c){if(p=p+" "+c,c.indexOf("does not exist")>=0)throw new h(p);if(c.indexOf("Insufficient Funds")>=0)throw new l(p);if(c.indexOf("Nonce has already been used")>=0)throw new f(p)}else p=p+" "+a;throw new d(p)}}}}}},{key:"sanitizeBrokenJSONString",value:function(e){var t=e.indexOf("{");return t>=0?e.slice(t):e}},{key:"parseJson",value:function(e,r,n,i){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parseJson",this).call(this,e,this.sanitizeBrokenJSONString(r),n,i)}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(12);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s,u,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"dsx",name:"DSX",countries:"UK",rateLimit:1500,has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTickers:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27990275-1413158a-645a-11e7-931c-94717f7510e3.jpg",api:{public:"https://dsx.uk/mapi",private:"https://dsx.uk/tapi",dwapi:"https://dsx.uk/dwapi"},www:"https://dsx.uk",doc:["https://api.dsx.uk","https://dsx.uk/api_docs/public","https://dsx.uk/api_docs/private",""]},api:{public:{get:["barsFromMoment/{id}/{period}/{start}","depth/{pair}","info","lastBars/{id}/{period}/{amount}","periodBars/{id}/{period}/{start}/{end}","ticker/{pair}","trades/{pair}"]},private:{post:["getInfo","TransHistory","TradeHistory","OrderHistory","ActiveOrders","Trade","CancelOrder"]},dwapi:{post:["getCryptoDepositAddress","cryptoWithdraw","fiatWithdraw","getTransactionStatus","getTransactions"]}}})}},{key:"getBaseQuoteFromMarketId",value:function(e){var t=e.toUpperCase(),r=t.slice(0,3),n=t.slice(3,6);return[r=this.commonCurrencyCode(r),n=this.commonCurrencyCode(n)]}},{key:"fetchBalance",value:(u=regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,n={info:r},i=r.funds,o=Object.keys(i),a=0;a<o.length;a++)s=o[a],u=s.toUpperCase(),u=this.commonCurrencyCode(u),(c={free:i[s],used:0,total:r.total[s]}).used=c.total-c.free,n[u]=c;return e.abrupt("return",this.parseBalance(n));case 12:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=u.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(){return c.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"avg");"undefined"!==typeof i&&i>0&&(i=1/i);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:i,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_cur"),info:e}}},{key:"getOrderIdKey",value:function(){return"orderId"}},{key:"signBodyWithSecret",value:function(e){return this.decode(this.hmac(this.encode(e),this.encode(this.secret),"sha512","base64"))}},{key:"getVersionString",value:function(){return""}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(22);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"ethfinex",name:"Ethfinex",countries:"VG",version:"v1",rateLimit:1500,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37555526-7018a77c-29f9-11e8-8835-8e415c038a18.jpg",api:"https://api.ethfinex.com",www:"https://www.ethfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node","https://www.ethfinex.com/api_docs"]}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.ExchangeNotAvailable,h=c.OrderNotFound,p=c.AuthenticationError,f=c.InsufficientFunds,v=c.InvalidOrder,m=c.InvalidNonce;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1",has:{CORS:!1,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOrderTrades:!0,fetchOrderBooks:!0,fetchMyTrades:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:"https://api.exmo.com",www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{public:{get:["currency","order_book","pair_settings","ticker","trades"]},private:{post:["user_info","order_create","order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","required_amount","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","wallet_history"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001,LTC:.01,DOGE:1,DASH:.01,ETH:.01,WAVES:.001,ZEC:.001,USDT:25,XMR:.05,XRP:.02,KICK:350,ETC:.01,BCH:.001},deposit:{USDT:15,KICK:50}}},exceptions:{40005:p,40009:m,40015:d,40016:l,40017:p,50052:f,50054:f,50304:h,50173:h,50319:v,50321:v}})}},{key:"fetchMarkets",value:(F=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairSettings();case 2:for(t=e.sent,r=Object.keys(t),n=[],o=0;o<r.length;o++)a=r[o],s=t[a],u=a.replace("_","/"),c=u.split("/"),d=i(c,2),l=d[0],h=d[1],n.push({id:a,symbol:u,base:l,quote:h,active:!0,limits:{amount:{min:this.safeFloat(s,"min_quantity"),max:this.safeFloat(s,"max_quantity")},price:{min:this.safeFloat(s,"min_price"),max:this.safeFloat(s,"max_price")},cost:{min:this.safeFloat(s,"min_amount"),max:this.safeFloat(s,"max_amount")}},precision:{amount:8,price:8},info:s});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchBalance",value:(I=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserInfo();case 5:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=this.account(),o in t.balances&&(a.free=parseFloat(t.balances[o])),o in t.reserved&&(a.used=parseFloat(t.reserved[o])),a.total=this.sum(a.free,a.used),r[o]=a;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchOrderBook",value:(B=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o=this.extend({pair:i.id},n),"undefined"!==typeof r&&(o.limit=r),e.next=9,this.publicGetOrderBook(o);case 9:return a=e.sent,s=a[i.id],e.abrupt("return",this.parseOrderBook(s,void 0,"bid","ask"));case 12:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"fetchOrderBooks",value:(E=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,t){e.next=12;break}if(!((n=this.ids.join(",")).length>2048)){e.next=10;break}throw i=this.ids.length,new d(this.id+" has "+i.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join(",");case 14:return e.next=16,this.publicGetOrderBook(this.extend({pair:n},r));case 16:for(o=e.sent,a={},n=Object.keys(o),s=0;s<n.length;s++)u=n[s],c=this.findSymbol(u),a[c]=this.parseOrderBook(o[u],void 0,"bid","ask");return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_curr"),info:e}}},{key:"fetchTickers",value:(P=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=this.markets_by_id[a],u=s.symbol,c=r[a],n[u]=this.parseTicker(c,s);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"fetchTicker",value:(S=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTicker(r);case 5:return n=e.sent,i=this.market(t),e.abrupt("return",this.parseTicker(n[i.id],i));case 8:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.trade_id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:this.safeString(e,"order_id"),type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"quantity"),cost:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a[o.id],o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"fetchMyTrades",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,"undefined"!==typeof t&&(a=this.market(t),o.pair=a.id),e.next=11,this.privatePostUserTrades(this.extend(o,i));case 11:return s=e.sent,"undefined"!==typeof a&&(s=s[a.id]),e.abrupt("return",this.parseTrades(s,a,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"createOrder",value:(_=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:return s="market"===r?r+"_":"",u=this.market(t),"market"===r&&"undefined"===typeof o&&(o=0),c={pair:u.id,quantity:this.amountToString(t,i),type:s+n,price:this.priceToPrecision(t,o)},e.next=10,this.privatePostOrderCreate(this.extend(c,a));case 10:return d=e.sent,l=this.safeString(d,"order_id"),h=this.milliseconds(),i=parseFloat(i),o=parseFloat(o),p="open",f={id:l,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:p,symbol:t,type:r,side:n,price:o,cost:o*i,amount:i,remaining:i,filled:0,fee:void 0,trades:void 0},this.orders[l]=f,e.abrupt("return",this.extend({info:d},f));case 19:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return _.apply(this,arguments)})},{key:"cancelOrder",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:t});case 6:return r=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchOrder",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.prev=4,e.next=7,this.privatePostOrderTrades({order_id:t.toString()});case 7:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0 instanceof h)){e.next=16;break}if(!(t in this.orders)){e.next=16;break}return e.abrupt("return",this.orders[t]);case 16:throw new h(this.id+" fetchOrder order id "+t.toString()+" not found in cache.");case 17:case"end":return e.stop()}},e,this,[[4,11]])})),function(e){return O.apply(this,arguments)})},{key:"fetchOrderTrades",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:void 0,s.length>4&&void 0!==s[4]?s[4]:{},o=void 0,"undefined"!==typeof r&&(o=this.market(r)),e.next=8,this.privatePostOrderTrades({order_id:t.toString()});case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,n,i));case 10:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r].id;this.orders[n]=e[r]}for(var i=this.indexBy(e,"id"),o=Object.keys(this.orders),a=0;a<o.length;a++){var s=o[a],u=this.orders[s];if(!(s in i)){if("undefined"!==typeof t&&t!==u.symbol)continue;"open"===u.status&&("undefined"===typeof(u=this.extend(u,{status:"closed",cost:void 0,filled:u.amount,remaining:0})).cost&&"undefined"!==typeof u.filled&&(u.cost=u.filled*u.price),this.orders[s]=u)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:void 0,i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostUserOpenOrders(i);case 8:for(o=e.sent,a=Object.keys(o),s=[],u=0;u<a.length;u++)c=a[u],d=void 0,c in this.markets_by_id&&(d=this.markets_by_id[c]),l=this.parseOrders(o[c],d),s=this.arrayConcat(s,l);return this.updateCachedOrders(s,t),e.abrupt("return",this.filterBySymbolSinceLimit(this.toArray(this.orders),t,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=this.filterBy(this.orders,"status","open"),e.abrupt("return",this.filterBySymbolSinceLimit(o,t,r,n));case 8:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchClosedOrders",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=this.filterBy(this.orders,"status","closed"),e.abrupt("return",this.filterBySymbolSinceLimit(o,t,r,n));case 8:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"order_id"),n=this.safeInteger(e,"created");"undefined"!==typeof n&&(n*=1e3);var i=void 0,o=void 0,a=this.safeString(e,"type");if("undefined"===typeof t){var s=void 0;"pair"in e?s=e.pair:"in_currency"in e&&"out_currency"in e&&(s="buy"===a?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),"undefined"!==typeof s&&s in this.markets_by_id&&(t=this.markets_by_id[s])}var u=this.safeFloat(e,"quantity");if("undefined"===typeof u){var c="buy"===a?"in_amount":"out_amount";u=this.safeFloat(e,c)}var d=this.safeFloat(e,"price"),l=this.safeFloat(e,"amount"),h=0,p=[],f=this.safeValue(e,"trades"),v=void 0;if("undefined"!==typeof f&&Array.isArray(f))for(var m=0;m<f.length;m++){var y=this.parseTrade(f[m],t);"undefined"===typeof r&&(r=y.order),"undefined"===typeof n&&(n=y.timestamp),n>y.timestamp&&(n=y.timestamp),h+=y.amount,"undefined"===typeof v&&(v=0),"undefined"===typeof l&&(l=0),l+=y.cost,p.push(y)}"undefined"!==typeof n&&(i=this.iso8601(n));var b=void 0;"undefined"!==typeof u&&(b=u-h);var g=this.safeString(e,"status");g=h>=u?"closed":"open","undefined"===typeof t&&(t=this.getMarketFromTrades(p));var k=void 0;return"undefined"!==typeof t&&(o=t.symbol,k=t.quote),"undefined"===typeof l?"undefined"!==typeof d&&(l=d*h):"undefined"===typeof d&&h>0&&(d=l/h),{id:r,datetime:i,timestamp:n,lastTradeTimestamp:void 0,status:g,symbol:o,type:"limit",side:a,price:d,cost:l,amount:u,filled:h,remaining:b,trades:p,fee:{cost:v,currency:k},info:e}}},{key:"fetchDepositAddress",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostDepositAddress(r);case 5:return n=e.sent,i=this.safeString(n,t),o=void 0,a=void 0,i&&(s=i.split(","),o=s[0],s.length>1&&(a=s[1])),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:a,info:n});case 12:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"pair"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s=a[o],u=parseFloat(this.costToPrecision(e,n*s)),c="quote";return"sell"===r?u*=i:c="base",{type:o,currency:a[c],rate:s,cost:parseFloat(this.feeToPrecision(e,u))}}},{key:"withdraw",value:(y=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=4,this.loadMarkets();case 4:return a={amount:r,currency:t,address:n},"undefined"!==typeof i&&(a.invoice=i),e.next=8,this.privatePostWithdrawCrypt(this.extend(a,o));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.task_id});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return y.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce();o=this.urlencode(this.extend({nonce:s},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o);if("result"in a){var s=this.safeValue(a,"result",!1);if("string"===typeof s&&(s="true"===s||"1"===s),!s){var u=void 0,c=this.safeString(a,"error").split(":");if(c.length>1){var l=c[0].split(" ");u=l.length>1?l[1]:l[0]}var h=this.id+" "+this.json(a),p=this.exceptions;throw u in p?new p[u](h):new d(h)}}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,h,p,f,v,m,y,b,g,k,w,x;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"exx",name:"EXX",countries:"CN",rateLimit:100,has:{fetchOrder:!0,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{CAN:"Content and AD Network"}})}},{key:"fetchMarkets",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=Object.keys(t),n=[],o=0;o<r.length;o++)a=r[o],s=t[a],u=a.split("_"),c=i(u,2),d=c[0],l=c[1],h=a.toUpperCase(),p=h.split("_"),f=i(p,2),v=f[0],m=f[1],v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(m),y=v+"/"+m,b=!0===s.isOpen,g={amount:parseInt(s.amountScale),price:parseInt(s.priceScale)},k=Math.pow(10,-g.amount),n.push({id:a,symbol:y,base:v,quote:m,baseId:d,quoteId:l,active:b,lot:k,precision:g,limits:{amount:{min:k,max:Math.pow(10,g.amount)},price:{min:Math.pow(10,-g.price),max:Math.pow(10,g.price)},cost:{min:void 0,max:void 0}},info:s});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=parseInt(e.date);e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({currency:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchTickers",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:r=e.sent,n={},i=this.milliseconds(),o=Object.keys(r),a=0;case 11:if(!(a<o.length)){e.next=22;break}if((s=o[a])in this.marketsById){e.next=15;break}return e.abrupt("continue",19);case 15:u=this.marketsById[s],c=u.symbol,d={date:i,ticker:r[s]},n[c]=this.parseTicker(d,u);case 19:a++,e.next=11;break;case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepth(this.extend({currency:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,n.timestamp));case 8:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=this.costToPrecision(o,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({currency:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetBalance(t);case 5:for(r=e.sent,n={info:r},r=r.funds,i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=this.commonCurrencyCode(a),c={free:parseFloat(s.balance),used:parseFloat(s.freeze),total:parseFloat(s.total)},n[u]=c;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,n=parseInt(e.trade_date),i=this.safeFloat(e,"price"),o=this.safeFloat(e,"trade_money"),a=this.safeFloat(e,"total_amount"),s=this.safeFloat(e,"trade_amount",0),u=this.amountToPrecision(r,a-s),c=this.safeInteger(e,"status");c=1===c?"canceled":2===c?"closed":"open";var d=void 0;return"fees"in e&&(d={cost:this.safeFloat(e,"fees"),currency:t.quote}),{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:e.type,price:i,cost:o,amount:a,filled:s,remaining:u,trades:void 0,fee:d,info:e}}},{key:"createOrder",value:(m=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.privateGetOrder(this.extend({currency:s.id,type:n,price:o,amount:i},a));case 7:return u=e.sent,c=u.id,d=this.parseOrder({id:c,trade_date:this.milliseconds(),total_amount:i,price:o,type:n,info:u},s),this.orders[c]=d,e.abrupt("return",d);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateGetCancel(this.extend({id:t,currency:i.id},n));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOrder",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateGetGetOrder(this.extend({id:t,currency:i.id},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o,i));case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchOpenOrders",value:(p=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.privateGetOpenOrders(this.extend({currency:o.id},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrders(a,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},n)));a+="?"+s+"&signature="+this.hmac(this.encode(s),this.encode(this.secret),"sha512")}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(h=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"public",n=h.length>2&&void 0!==h[2]?h[2]:"GET",i=h.length>3&&void 0!==h[3]?h[3]:{},o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,u=this.safeInteger(s,"code"),c=this.safeString(s,"message"),!u||100===u||!c){e.next=14;break}if(103!==u){e.next=13;break}throw new l(c);case 13:throw new d(c);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError,c=r(13).ROUND;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"flowbtc",name:"flowBTC",countries:"BR",version:"v1",rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28162465-cd815d4c-67cf-11e7-8e57-438bea0523a2.jpg",api:"https://api.flowbtc.com:8405/ajax",www:"https://trader.flowbtc.com",doc:"http://www.flowbtc.com.br/api/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0035,taker:.0035}}})}},{key:"fetchMarkets",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicPostGetProductPairs();case 2:for(t=e.sent,r=t.productPairs,n={},i=0;i<r.length;i++)o=r[i],a=o.name,s=o.product1Label,u=o.product2Label,c={amount:this.safeInteger(o,"product1DecimalPlaces"),price:this.safeInteger(o,"product2DecimalPlaces")},n[d=s+"/"+u]={id:a,symbol:d,base:s,quote:u,precision:c,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:o};return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.currencies,n={info:t},i=0;i<r.length;i++)o=r[i],a=o.name,(s={free:o.balance,used:o.hold,total:0}).total=this.sum(s.free,s.used),n[a]=s;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicPostGetOrderBook(this.extend({productPair:n.id},r));case 7:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","px","qty"));case 9:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicPostGetTicker(this.extend({productPair:n.id},r));case 6:return i=e.sent,o=this.milliseconds(),a=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"volume24hr"),quoteVolume:this.safeFloat(i,"volume24hrProduct2"),info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.unixtime,n=0===e.incomingOrderSide?"buy":"sell";return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:n,price:e.px,amount:e.qty}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicPostGetTrades(this.extend({ins:o.id,startIndex:-1},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.trades,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"priceToPrecision",value:function(e,t){return this.decimalToPrecision(t,c,this.markets[e].precision.price,this.precisionMode)}},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s="market"===r?1:0,u={ins:this.marketId(t),side:n,orderType:s,qty:i,px:this.priceToPrecision(t,o)},e.next=8,this.privatePostCreateOrder(this.extend(u,a));case 8:return c=e.sent,e.abrupt("return",{info:c,id:c.serverOrderId});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:if(!("ins"in r)){e.next=8;break}return e.next=7,this.privatePostCancelOrder(this.extend({serverOrderId:t},r));case 7:return e.abrupt("return",e.sent);case 8:throw new u(this.id+" requires `ins` symbol parameter for cancelling an order");case 9:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(o=this.json(n));else{this.checkRequiredCredentials();var s=this.nonce(),u=s.toString()+this.uid+this.apiKey,c=this.hmac(this.encode(u),this.encode(this.secret));o=this.json(this.extend({apiKey:this.apiKey,apiNonce:s,apiSig:c.toUpperCase()},n)),i={"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("isAccepted"in(s=e.sent))){e.next=11;break}if(!s.isAccepted){e.next=11;break}return e.abrupt("return",s);case 11:throw new u(this.id+" "+this.json(s));case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),d&&o(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(65);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"fybsg",name:"FYB-SG",countries:"SG",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766513-3364d56a-5edb-11e7-9e6b-d5898bb89c81.jpg",api:"https://www.fybsg.com/api/SGD",www:"https://www.fybsg.com",doc:"http://docs.fyb.apiary.io"},markets:{"BTC/SGD":{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError,l=u.InvalidAddress,h=u.InsufficientFunds,p=u.OrderNotFound,f=u.InvalidOrder,v=u.PermissionDenied;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"gatecoin",name:"Gatecoin",rateLimit:2e3,countries:"HK",comment:"a regulated/licensed exchange",has:{CORS:!1,createDepositAddress:!0,fetchDepositAddress:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1m","15m":"15m","1h":"1h","6h":"6h","1d":"24h"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28646817-508457f2-726c-11e7-9eeb-3528d2413a58.jpg",api:"https://api.gatecoin.com",www:"https://gatecoin.com",doc:["https://gatecoin.com/api","https://github.com/Gatecoin/RESTful-API-Implementation","https://api.gatecoin.com/swagger-ui/index.html"]},api:{public:{get:["Public/ExchangeRate","Public/LiveTicker","Public/LiveTicker/{CurrencyPair}","Public/LiveTickers","Public/MarketDepth/{CurrencyPair}","Public/NetworkStatistics/{DigiCurrency}","Public/StatisticHistory/{DigiCurrency}/{Typeofdata}","Public/TickerHistory/{CurrencyPair}/{Timeframe}","Public/Transactions/{CurrencyPair}","Public/TransactionsHistory/{CurrencyPair}","Reference/BusinessNatureList","Reference/Countries","Reference/Currencies","Reference/CurrencyPairs","Reference/CurrentStatusList","Reference/IdentydocumentTypes","Reference/IncomeRangeList","Reference/IncomeSourceList","Reference/VerificationLevelList","Stream/PublicChannel"],post:["Export/Transactions","Ping","Public/Unsubscribe/{EmailCode}","RegisterUser"]},private:{get:["Account/CorporateData","Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/FeeRate","Account/Level","Account/PersonalInformation","Account/Phone","Account/Profile","Account/Questionnaire","Account/Referral","Account/ReferralCode","Account/ReferralNames","Account/ReferralReward","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","APIKey/APIKey","Auth/ConnectionHistory","Balance/Balances","Balance/Balances/{Currency}","Balance/Deposits","Balance/Withdrawals","Bank/Accounts/{Currency}/{Location}","Bank/Transactions","Bank/UserAccounts","Bank/UserAccounts/{Currency}","ElectronicWallet/DepositWallets","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions","ElectronicWallet/Transactions/{DigiCurrency}","ElectronicWallet/UserWallets","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage","Notification/Messages","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrdersHistory","Trade/Trades","Trade/UserTrades"],post:["Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/Email/RequestVerify","Account/Email/Verify","Account/GoogleAuth","Account/Level","Account/Questionnaire","Account/Referral","APIKey/APIKey","Auth/ChangePassword","Auth/ForgotPassword","Auth/ForgotUserID","Auth/Login","Auth/Logout","Auth/LogoutOtherSessions","Auth/ResetPassword","Bank/Transactions","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions/Deposits/{DigiCurrency}","ElectronicWallet/Transactions/Withdrawals/{DigiCurrency}","ElectronicWallet/UserWallets/{DigiCurrency}","ElectronicWallet/Withdrawals/{DigiCurrency}","Notification/Messages","Notification/Messages/{ID}","Trade/Orders","Trade/StopOrders"],put:["Account/CorporateData","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/PersonalInformation","Account/Phone","Account/Questionnaire","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage"],delete:["APIKey/APIKey/{PublicKey}","Bank/Transactions/{RequestID}","Bank/UserAccounts/{Currency}/{Label}","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}/{AddressName}","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrders/{ID}"]}},fees:{trading:{maker:.0025,taker:.0035}},commonCurrencies:{BCP:"BCPT",FLI:"FLIXX",MAN:"MANA",SLT:"SALT",TRA:"TRAC",WGS:"WINGS"},exceptions:{1005:h,1008:p,1057:f,1044:p,1054:p}})}},{key:"fetchMarkets",value:(E=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetReferenceCurrencyPairs();case 2:for(t=e.sent,r=t.currencyPairs,n=[],i=0;i<r.length;i++)o=r[i],a=o.tradingCode,s=o.baseCurrency,u=o.quoteCurrency,c=this.commonCurrencyCode(s),d=this.commonCurrencyCode(u),l=c+"/"+d,h={amount:8,price:o.priceDecimalPlaces},p={amount:{min:Math.pow(10,-h.amount),max:void 0},price:{min:Math.pow(10,-h.amount),max:void 0},cost:{min:void 0,max:void 0}},n.push({id:a,symbol:l,base:c,quote:d,baseId:s,quoteId:u,active:!0,precision:h,limits:p,info:o});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"fetchBalance",value:(P=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalanceBalances();case 5:for(t=e.sent,r=t.balances,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency,s=a,a in this.currencies_by_id&&(s=this.currencies_by_id[a].code),u={free:o.availableBalance,used:this.sum(o.pendingIncoming,o.pendingOutgoing,o.openOrder),total:o.balance},n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"fetchOrderBook",value:(S=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetPublicMarketDepthCurrencyPair(this.extend({CurrencyPair:n.id},r));case 7:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","volume"));case 9:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"fetchOrder",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetTradeOrdersOrderID(this.extend({OrderID:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.order));case 8:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.createDateTime),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"volume"),o=this.safeFloat(e,"vwap"),a=i*o,s=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:a,info:e}}},{key:"fetchTickers",value:(C=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPublicLiveTickers(t);case 6:for(r=e.sent,n=r.tickers,i={},o=0;o<n.length;o++)a=n[o],s=a.currencyPair,u=this.markets_by_id[s],c=u.symbol,i[c]=this.parseTicker(a,u);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchTicker",value:(_=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPublicLiveTickerCurrencyPair(this.extend({CurrencyPair:n.id},r));case 6:return i=e.sent,o=i.ticker,e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;if("way"in e){r="bid"===e.way?"buy":"sell";var i=e.way+"OrderId";n=this.safeString(e,i)}var o=1e3*parseInt(e.transactionTime);if("undefined"===typeof t){var a=this.safeString(e,"currencyPair");"undefined"!==typeof a&&(t=this.findMarket(a))}var s=void 0,u=this.safeFloat(e,"feeAmount"),c=e.price,d=e.quantity,l=c*d,h=void 0,p=void 0;return"undefined"!==typeof t&&(p=t.symbol,h=t.quote),"undefined"!==typeof u&&(s={cost:u,currency:h,rate:this.safeFloat(e,"feeRate")}),{info:e,id:this.safeString(e,"transactionId"),order:n,timestamp:o,datetime:this.iso8601(o),symbol:p,type:void 0,side:r,price:c,amount:d,cost:l,fee:s}}},{key:"fetchTrades",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetPublicTransactionsCurrencyPair(this.extend({CurrencyPair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.transactions,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*parseInt(e.createDateTime),e.open,e.high,e.low,void 0,e.volume]}},{key:"fetchOHLCV",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={CurrencyPair:a.id,Timeframe:this.timeframes[r]},"undefined"!==typeof i&&(s.Count=i),s=this.extend(s,o),e.next=12,this.publicGetPublicTickerHistoryCurrencyPairTimeframe(s);case 12:return u=e.sent,c=this.parseOHLCVs(u.tickers,a,r,n,i),e.abrupt("return",this.sortBy(c,0));case 15:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"createOrder",value:(x=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},e.next=4,this.loadMarkets();case 4:if(s={Code:this.marketId(t),Way:"buy"===n?"Bid":"Ask",Amount:i},"limit"===r&&(s.Price=o),!this.twofa){e.next=12;break}if(!("ValidationCode"in a)){e.next=11;break}s.ValidationCode=a.ValidationCode,e.next=12;break;case 11:throw new d(this.id+" two-factor authentication requires a missing ValidationCode parameter");case 12:return e.next=14,this.privatePostTradeOrders(this.extend(s,a));case 14:return u=e.sent,e.abrupt("return",{info:u,status:"open",id:this.safeString(u,"clOrderId")});case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return x.apply(this,arguments)})},{key:"cancelOrder",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteTradeOrdersOrderID({OrderID:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={1:"open",2:"open",4:"canceled",6:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0===e.side?"buy":"sell",n=0===e.type?"limit":"market",i=void 0;if("undefined"===typeof t){var o=this.safeString(e,"code");o in this.markets_by_id&&(t=this.markets_by_id[o])}"undefined"!==typeof t&&(i=t.symbol);var a=1e3*parseInt(e.date),s=e.initialQuantity,u=e.remainingQuantity,c=s-u,d=e.price,l=d*c,h=e.clOrderId,p=this.parseOrderStatus(this.safeString(e,"status")),f=void 0,v=void 0;if("closed"===p){var m=void 0,y=void 0;f=[];var b=this.safeValue(e,"trades"),g=void 0,k=void 0,w=void 0;if("undefined"!==typeof b&&Array.isArray(b)){for(var x=0;x<b.length;x++){var O=this.parseTrade(b[x]);"undefined"===typeof m&&(m=0),"undefined"===typeof y&&(y=0),m+=O.amount,y+=O.amount*O.price,"fee"in O&&("undefined"!==typeof O.fee.cost&&("undefined"===typeof g&&(g=0),g+=O.fee.cost),k=O.fee.currency,"undefined"!==typeof O.fee.rate&&("undefined"===typeof w&&(w=0),w+=O.fee.rate)),f.push(O)}if("undefined"!==typeof m&&m>0&&(d=y/m),"undefined"!==typeof w){var T=f.length;T>0&&(w/=T)}"undefined"!==typeof g&&(v={cost:g,currency:k,rate:w})}}return{id:h,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:p,symbol:i,type:n,side:r,price:d,amount:s,filled:c,remaining:u,cost:l,trades:f,fee:v,info:e}}},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradeOrders();case 8:if(i=e.sent,o=this.parseOrders(i.orders,void 0,r,n),"undefined"===typeof t){e.next=12;break}return e.abrupt("return",this.filterBySymbol(o,t));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce(),c=u.toString(),d="GET"===r?"":"application/json",l=r+a+d+c;l=l.toLowerCase();var h=this.hmac(this.encode(l),this.encode(this.secret),"sha256","base64");i={API_PUBLIC_KEY:this.apiKey,API_REQUEST_SIGNATURE:this.decode(h),API_REQUEST_DATE:c},"GET"!==r&&(i["Content-Type"]=d,o=this.json(this.extend({nonce:u},n)))}return{url:a,method:r,body:o,headers:i}}},{key:"withdraw",value:(g=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,i=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),a={DigiCurrency:o.id,Address:n,Amount:r},e.next=9,this.privatePostElectronicWalletWithdrawalsDigiCurrency(this.extend(a,i));case 9:return s=e.sent,e.abrupt("return",{info:s,id:this.safeString(s,"id")});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return g.apply(this,arguments)})},{key:"fetchDepositAddress",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),i={DigiCurrency:n.id},e.next=7,this.privateGetElectronicWalletDepositWalletsDigiCurrency(this.extend(i,r));case 7:if(o=e.sent,a=o.addresses,!(a.length<1)){e.next=12;break}throw new l(this.id+" privateGetElectronicWalletDepositWalletsDigiCurrency() returned no addresses");case 12:return s=this.safeString(a[0],"address"),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,info:o});case 15:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"createDepositAddress",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),i={DigiCurrency:n.id},e.next=7,this.privatePostElectronicWalletDepositWalletsDigiCurrency(this.extend(i,r));case 7:return o=e.sent,a=o.address,this.checkAddress(a),e.abrupt("return",{currency:t,address:a,info:o});case 11:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"createUserWallet",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,this.loadMarkets();case 3:return a=this.currency(t),s={DigiCurrency:a.id,AddressName:n,Address:r,Password:i},e.next=7,this.privatePostElectronicWalletUserWalletsDigiCurrency(this.extend(s,o));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)){if(o.indexOf("You are not authorized")>=0)throw new v(o);if("{"===o[0]){var a=JSON.parse(o);if("responseStatus"in a){var s=this.safeString(a.responseStatus,"errorCode"),u=this.safeString(a.responseStatus,"message"),d=this.id+" "+o;if("undefined"!==typeof s){var l=this.exceptions;if(s in l)throw new l[s](d);throw new c(d)}if("undefined"!==typeof u&&"OK"!==u)throw new c(d)}}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.InvalidAddress,h=c.OrderNotFound,p=c.NotSupported,f=c.DDoSProtection,v=c.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"gateio",name:"Gate.io",countries:"CN",version:"2",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,withdraw:!0,createDepositAddress:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOrders:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"]},api:{public:{get:["pairs","marketinfo","marketlist","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{4:f,7:p,8:p,9:p,15:f,16:h,17:h,21:v},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"},options:{limits:{cost:{min:{BTC:1e-4,ETH:.001,USDT:1}}}}})}},{key:"fetchMarkets",value:(I=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,l,h,p,f,v,m,y,b,g,k,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketinfo();case 2:if(t=e.sent,r=this.safeValue(t,"pairs")){e.next=6;break}throw new d(this.id+" fetchMarkets got an unrecognized response");case 6:for(n=[],o=0;o<r.length;o++)a=r[o],s=Object.keys(a),u=s[0],c=a[u],l=u.split("_"),h=i(l,2),p=h[0],f=h[1],p=p.toUpperCase(),f=f.toUpperCase(),p=this.commonCurrencyCode(p),f=this.commonCurrencyCode(f),v=p+"/"+f,m={amount:8,price:c.decimal_places},y={min:c.min_amount,max:void 0},b={min:Math.pow(10,-c.decimal_places),max:void 0},g=y.min*b.min,k=this.safeFloat(this.options.limits.cost.min,f,g),w={amount:y,price:b,cost:{min:k,max:void 0}},n.push({id:u,symbol:v,base:p,quote:f,info:a,maker:c.fee/100,taker:c.fee/100,precision:m,limits:w});return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchBalance",value:(B=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances();case 5:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=this.commonCurrencyCode(o),s=this.account(),"available"in t&&o in t.available&&(s.free=parseFloat(t.available[o])),"locked"in t&&o in t.locked&&(s.used=parseFloat(t.locked[o])),s.total=this.sum(s.free,s.used),r[a]=s;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchOrderBook",value:(E=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBookId(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last"),o=this.safeFloat(e,"percentChange"),a=void 0,s=void 0,u=void 0;if("undefined"!==typeof i&&"undefined"!==typeof o){var c=o/100;s=i-(a=i/this.sum(1,c)),u=this.sum(i,a)/2}return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:a,close:i,last:i,previousClose:void 0,change:s,percentage:o,average:u,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(!(o.length<=0)&&"{"===o[0]){var a=JSON.parse(o);if("false"===this.safeString(a,"result","")){var s=this.safeString(a,"code");if("undefined"!==typeof s){var u=this.exceptions,c=this.errorCodeNames;if(s in u){var d="";throw d=s in c?c[s]:this.safeString(a,"message","(unknown)"),new u[s](d)}}}}}},{key:"fetchTickers",value:(P=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:void 0,t=y.length>1&&void 0!==y[1]?y[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n={},o=Object.keys(r),a=0;a<o.length;a++)s=o[a],u=s.split("_"),c=i(u,2),d=c[0],l=c[1],h=d.toUpperCase(),p=l.toUpperCase(),h=this.commonCurrencyCode(h),p=this.commonCurrencyCode(p),f=h+"/"+p,v=r[s],m=void 0,f in this.markets&&(m=this.markets[f]),s in this.markets_by_id&&(m=this.markets_by_id[s]),n[f]=this.parseTicker(v,m);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"fetchTicker",value:(S=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerId(this.extend({id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.safeInteger(e,"timestamp");"undefined"!==typeof(r=this.safeInteger(e,"time_unix",r))&&(r*=1e3);var n=this.safeString(e,"tradeID");n=this.safeString(e,"id",n);var i=this.safeString(e,"orderid");"undefined"!==typeof i&&(i=this.safeString(e,"orderNumber"));var o=this.safeFloat(e,"rate"),a=this.safeFloat(e,"amount"),s=void 0;return"undefined"!==typeof o&&"undefined"!==typeof a&&(s=o*a),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:i,type:void 0,side:e.type,price:o,amount:a,cost:s,fee:void 0}}},{key:"fetchTrades",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradeHistoryId(this.extend({id:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.data,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"fetchOrders",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:void 0,n=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.privatePostOpenOrders(n);case 6:return i=e.sent,e.abrupt("return",this.parseOrders(i.orders,void 0,t,r));case 8:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"fetchOrder",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrder(this.extend({orderNumber:t,currencyPair:this.marketId(r)},n));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.order));case 8:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={cancelled:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"orderNumber"),n=void 0,i=this.safeString(e,"currencyPair");i in this.markets_by_id&&(t=this.markets_by_id[i]),"undefined"!==typeof t&&(n=t.symbol);var o=void 0,a=this.safeInteger(e,"timestamp");"undefined"!==typeof a&&(a*=1e3,o=this.iso8601(a));var s=this.safeString(e,"status");"undefined"!==typeof s&&(s=this.parseOrderStatus(s));var u=this.safeString(e,"type"),c=this.safeFloat(e,"filledRate"),d=this.safeFloat(e,"initialAmount"),l=this.safeFloat(e,"filledAmount"),h=this.safeFloat(e,"leftAmount");"undefined"===typeof h&&(h=this.safeFloat(e,"left"));var p=this.safeFloat(e,"feeValue"),f=this.safeString(e,"feeCurrency");return"undefined"!==typeof f&&f in this.currencies_by_id&&(f=this.currencies_by_id[f].code),{id:r,datetime:o,timestamp:a,status:s,symbol:n,type:"limit",side:u,price:c,cost:void 0,amount:d,filled:l,remaining:h,trades:void 0,fee:{cost:p,currency:f},info:e}}},{key:"createOrder",value:(T=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},"market"!==r){e.next=4;break}throw new d(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s="privatePost"+this.capitalize(n),u=this.market(t),c={currencyPair:u.id,rate:o,amount:i},e.next=11,this[s](this.extend(c,a));case 11:return l=e.sent,e.abrupt("return",this.parseOrder(this.extend({status:"open",type:n,initialAmount:i},l),u));case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return T.apply(this,arguments)})},{key:"cancelOrder",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({orderNumber:t,currencyPair:this.marketId(r)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"queryDepositAddress",value:(x=o(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(r),t="privatePost"+t+"Address",e.next=7,this[t](this.extend({currency:i.id},n));case 7:if(o=e.sent,a=this.safeString(o,"addr"),s=void 0,!("undefined"!==typeof a&&a.indexOf("address")>=0)){e.next=12;break}throw new l(this.id+" queryDepositAddress "+a);case 12:return"XRP"===r&&(u=a.split("/",2),a=u[0],s=u[1]),e.abrupt("return",{currency:i,address:a,tag:s,info:o});case 14:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},{key:"createDepositAddress",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.queryDepositAddress("New",t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchDepositAddress",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.queryDepositAddress("Deposit",t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchOpenOrders",value:(g=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return i=void 0,"undefined"!==typeof t&&(i=this.market(t)),e.next=10,this.privatePostOpenOrders();case 10:return o=e.sent,e.abrupt("return",this.parseOrders(o.orders,i,r,n));case 12:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchMyTrades",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},"undefined"!==typeof t){e.next=6;break}throw new d(this.id+" fetchMyTrades requires symbol param");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a=o.id,e.next=12,this.privatePostTradeHistory(this.extend({currencyPair:a},i));case 12:return s=e.sent,e.abrupt("return",this.parseTrades(s.trades,o,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"withdraw",value:(y=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return e.next=7,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),amount:r,address:n},i));case 7:return o=e.sent,e.abrupt("return",{info:o,id:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return y.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="private"===t?t+"/":"",s=this.urls.api[t]+this.version+"/1/"+a+this.implodeParams(e,n),u=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c={nonce:this.nonce()};o=this.urlencode(this.extend(c,u));var d=this.hmac(this.encode(o),this.encode(this.secret),"sha512");i={Key:this.apiKey,Sign:d,"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:o,headers:i}}},{key:"request",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"public",n=l.length>2&&void 0!==l[2]?l[2]:"GET",i=l.length>3&&void 0!==l[3]?l[3]:{},o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("result"in(s=e.sent))){e.next=20;break}if(u=s.result,c=this.id+" "+this.json(s),"undefined"!==typeof u){e.next=13;break}throw new d(c);case 13:if("string"!==typeof u){e.next=18;break}if("true"===u){e.next=16;break}throw new d(c);case 16:e.next=20;break;case 18:if(u){e.next=20;break}throw new d(c);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b,g,k,w;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"gemini",name:"Gemini",countries:"US",rateLimit:1500,version:"v1",has:{fetchDepositAddress:!1,createDepositAddress:!0,CORS:!1,fetchBidsAsks:!1,fetchTickers:!1,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!1,fetchClosedOrders:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:"https://api.gemini.com",www:"https://gemini.com",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:"https://api.sandbox.gemini.com",fees:["https://gemini.com/fee-schedule/","https://gemini.com/transfer-fees/"]},api:{public:{get:["symbols","pubticker/{symbol}","book/{symbol}","trades/{symbol}","auction/{symbol}","auction/{symbol}/history"]},private:{post:["order/new","order/cancel","order/cancel/session","order/cancel/all","order/status","orders","mytrades","tradevolume","balances","deposit/{currency}/newAddress","withdraw/{currency}","heartbeat","transfers"]}},fees:{trading:{taker:.0025,maker:.0025}}})}},{key:"fetchMarkets",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbols();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],a=(o=i).toUpperCase(),s=a.slice(0,3),u=a.slice(3,6),c=s+"/"+u,r.push({id:i,symbol:c,base:s,quote:u,info:o});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOrderBook",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBookSymbol(this.extend({symbol:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchTicker",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPubtickerSymbol(this.extend({symbol:n.id},r));case 6:return i=e.sent,o=i.volume.timestamp,a=n.base,s=n.quote,u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:void 0,low:void 0,bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(i.volume[a]),quoteVolume:parseFloat(i.volume[s]),info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=e.timestampms,n=void 0;"order_id"in e&&(n=e.order_id.toString());var i=this.safeFloat(e,"fee_amount");if("undefined"!==typeof i){var o=this.safeString(e,"fee_currency");"undefined"!==typeof o&&(o in this.currencies_by_id&&(o=this.currencies_by_id[o].code),o=this.commonCurrencyCode(o)),i={cost:this.safeFloat(e,"fee_amount"),currency:o}}var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");return{id:e.tid.toString(),order:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:a,cost:a*s,amount:s,fee:i}}},{key:"fetchTrades",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradesSymbol(this.extend({symbol:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.currency,(a={free:parseFloat(i.available),used:0,total:parseFloat(i.amount)}).used=a.total-a.free,r[o]=a;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestampms,n=this.safeFloat(e,"original_amount"),i=this.safeFloat(e,"remaining_amount"),o=this.safeFloat(e,"executed_amount"),a="closed";e.is_live&&(a="open"),e.is_canceled&&(a="canceled");var s=this.safeFloat(e,"price");s=this.safeFloat(e,"avg_execution_price",s);var u=void 0;"undefined"!==typeof o&&"undefined"!==typeof s&&(u=o*s);var c=this.safeString(e,"type");c="exchange limit"===c?"limit":"market buy"===c||"market sell"===c?"market":e.type;var d=void 0;if("undefined"===typeof t){var l=this.safeString(e,"symbol");l in this.markets_by_id&&(t=this.markets_by_id[l])}return"undefined"!==typeof t&&(d=t.symbol),{id:e.order_id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:a,symbol:d,type:c,side:e.side,price:s,cost:u,amount:n,filled:o,remaining:i,fee:void 0}}},{key:"fetchOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"createOrder",value:(v=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new u(this.id+" allows limit orders only");case 6:return s=this.nonce(),c={client_order_id:s.toString(),symbol:this.marketId(t),amount:i.toString(),price:o.toString(),side:n,type:"exchange limit"},e.next=10,this.privatePostOrderNew(this.extend(c,a));case 10:return d=e.sent,e.abrupt("return",{info:d,id:d.order_id});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return v.apply(this,arguments)})},{key:"cancelOrder",value:(f=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchMyTrades",value:(p=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},"undefined"!==typeof t){e.next=6;break}throw new u(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={symbol:o.id},"undefined"!==typeof n&&(a.limit=n),e.next=13,this.privatePostMytrades(this.extend(a,i));case 13:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"withdraw",value:(h=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),e.next=8,this.privatePostWithdrawCurrency(this.extend({currency:o.id,amount:r,address:n},i));case 8:return a=e.sent,e.abrupt("return",{info:a,id:this.safeString(a,"txHash")});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce(),c=this.extend({request:a,nonce:u},s),d=this.json(c);d=this.stringToBase64(this.encode(d));var l=this.hmac(d,this.encode(this.secret),"sha384");i={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(d),"X-GEMINI-SIGNATURE":l}}return{url:a=this.urls.api+a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("result"in(s=e.sent))){e.next=11;break}if("error"!==s.result){e.next=11;break}throw new u(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createDepositAddress",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostDepositCurrencyNewAddress(this.extend({currency:n.id},r));case 6:return i=e.sent,o=this.safeString(i,"address"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(59);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"getbtc",name:"GetBTC",countries:["VC","RU"],rateLimit:1e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/33801902-03c43462-dd7b-11e7-992e-077e4cd015b9.jpg",api:"https://getbtc.org/api",www:"https://getbtc.org",doc:"https://getbtc.org/api-docs.php"},has:{fetchTrades:!1,fetchOHLCV:!1},fees:{trading:{taker:.002,maker:.002}},markets:{"BTC/USD":{lot:1e-8,symbol:"BTC/USD",quote:"USD",base:"BTC",precision:{amount:8,price:8},id:"USD",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}},"BTC/EUR":{lot:1e-8,symbol:"BTC/EUR",quote:"EUR",base:"BTC",precision:{amount:8,price:8},id:"EUR",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}},"BTC/RUB":{lot:1e-8,symbol:"BTC/RUB",quote:"RUB",base:"BTC",precision:{amount:8,price:8},id:"RUB",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(17),s=r(0).PermissionDenied;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"hadax",name:"HADAX",countries:"CN",hostname:"api.hadax.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/38059952-4756c49e-32f1-11e8-90b9-45c1eccba9cd.jpg",api:"https://api.hadax.com",www:"https://www.hadax.com",doc:"https://github.com/huobiapi/API_Docs/wiki"},has:{fetchCurrencies:!1},api:{public:{get:["hadax/common/symbols","hadax/common/currencys","common/timestamp","hadax/settings/currencys"]},private:{get:["account/accounts","hadax/account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance"],post:["hadax/order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay"]}},exceptions:{"not-allow-entry-hadax":s},options:{fetchMarketsMethod:"publicGetHadaxCommonSymbols",fetchBalanceMethod:"privateGetHadaxAccountAccountsIdBalance",createOrderMethod:"privatePostHadaxOrderOrdersPlace"}})}}])&&i(r.prototype,n),u&&i(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(66),u=r(0),c=u.ExchangeError,d=u.ExchangeNotAvailable,l=u.OrderNotFound,h=u.InsufficientFunds,p=u.InvalidOrder;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"hitbtc2",name:"HitBTC v2",countries:"HK",rateLimit:1500,version:"2",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!0,editOrder:!0,fetchCurrencies:!0,fetchOHLCV:!0,fetchTickers:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://api.hitbtc.com",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["symbol","symbol/{symbol}","currency","currency/{currency}","ticker","ticker/{symbol}","trades/{symbol}","orderbook/{symbol}","candles/{symbol}"]},private:{get:["order","order/{clientOrderId}","trading/balance","trading/fee/{symbol}","history/trades","history/order","history/order/{id}/trades","account/balance","account/transactions","account/transactions/{id}","account/crypto/address/{currency}"],post:["order","account/crypto/withdraw","account/crypto/address/{currency}","account/transfer"],put:["order/{clientOrderId}","account/crypto/withdraw/{id}"],delete:["order","order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00958,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,XRP:.509,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMM:14,AMP:342,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,BET:124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTCA:351.21,BTM:40,BTX:.04,BUS:.004,CAPP:97,CCT:6,CDT:100,CDX:30,CFI:61,CL:13.85,CLD:.88,CND:574,CNX:.04,COSS:65,CPAY:5.487,CSNO:16,CTR:15,CTX:146,CVC:8.46,DATA:12.949,DBIX:.0168,DCN:1280,DCT:.02,DDF:342,DENT:1e3,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,EKO:1136.36,ELE:.00172,ELM:.004,EMC:.03,MGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FCN:5e-6,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GAME:.004,GNO:.0034,GUP:4,GVT:1.2,HSR:.04,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:790,ITS:15.0012,IXT:11,KBR:143,KICK:112,KMD:4,LA:41,LEND:388,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LOC:11.076,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MCO:.357,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NGC:2.368,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RLC:1.21,RVT:14,SC:30,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SWFTC:352.94,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STAR:.144,STORM:153.19,STEEM:.01,STRAT:.01,SPF:14.4,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TGT:173,TKR:84,TNT:90,TRST:1.6,TRX:270,UET:480,UGT:15,UTT:3,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,WRC:48,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,BET:0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},options:{defaultTimeInForce:"FOK"},exceptions:{2010:p,2011:p,2020:p,20002:l,20001:h}})}},{key:"feeToPrecision",value:function(e,t){return this.truncate(t,8)}},{key:"fetchMarkets",value:(F=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbol();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.id,a=i.baseCurrency,s=i.quoteCurrency,u=this.commonCurrencyCode(a),c=this.commonCurrencyCode(s),d=u+"/"+c,l=this.safeFloat(i,"quantityIncrement"),h=this.safeFloat(i,"tickSize"),p={price:this.precisionFromString(i.tickSize),amount:-1*Math.log10(l)},f=this.safeFloat(i,"takeLiquidityRate"),v=this.safeFloat(i,"provideLiquidityRate"),r.push(this.extend(this.fees.trading,{info:i,id:o,symbol:d,base:u,quote:c,baseId:a,quoteId:s,active:!0,taker:f,maker:v,precision:p,limits:{amount:{min:l,max:void 0},price:{min:h,max:void 0},cost:{min:l*h,max:void 0}}}));return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchCurrencies",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetCurrency(t);case 3:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.id,s=8,u=this.commonCurrencyCode(a),c=this.safeValue(o,"payinEnabled"),d=this.safeValue(o,"payoutEnabled"),l=this.safeValue(o,"transferEnabled"),h=c&&d&&l,"disabled"in o&&o.disabled&&(h=!1),p="fiat","crypto"in o&&o.crypto&&(p="crypto"),n[u]={id:a,code:u,type:p,payin:c,payout:d,transfer:l,info:o,name:o.fullName,active:h,fee:this.safeFloat(o,"payoutFee"),precision:s,limits:{amount:{min:Math.pow(10,-s),max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,s)}}};return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchBalance",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","trading"),n="privateGet"+this.capitalize(r)+"Balance",e.next=7,this[n]();case 7:for(i=e.sent,o={info:i},a=0;a<i.length;a++)s=i[a],u=s.currency,c=this.commonCurrencyCode(u),(d={free:parseFloat(s.available),used:parseFloat(s.reserved),total:0}).total=this.sum(d.free,d.used),o[c]=d;return e.abrupt("return",this.parseBalance(o));case 11:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp),parseFloat(e.open),parseFloat(e.max),parseFloat(e.min),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={symbol:a.id,period:this.timeframes[r]},"undefined"!==typeof i&&(s.limit=i),e.next=11,this.publicGetCandlesSymbol(this.extend(s,o));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 13:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"fetchOrderBook",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={symbol:this.marketId(t)},"undefined"!==typeof r&&(i.limit=r),e.next=8,this.publicGetOrderbookSymbol(this.extend(i,n));case 8:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"bid","ask","price","size"));case 10:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"volume"),o=this.safeFloat(e,"volumeQuote"),a=this.safeFloat(e,"open"),s=this.safeFloat(e,"last"),u=void 0,c=void 0,d=void 0;"undefined"!==typeof s&&"undefined"!==typeof a&&(u=s-a,d=this.sum(s,a)/2,a>0&&(c=u/a*100));var l=void 0;return"undefined"!==typeof o&&"undefined"!==typeof i&&i>0&&(l=o/i),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:l,open:a,close:s,last:s,previousClose:void 0,change:u,percentage:c,average:d,baseVolume:i,quoteVolume:o,info:e}}},{key:"fetchTickers",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.symbol,s=this.markets_by_id[a],u=s.symbol,n[u]=this.parseTicker(o,s);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchTicker",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerSymbol(this.extend({symbol:n.id},r));case 6:if(!("message"in(i=e.sent))){e.next=9;break}throw new c(this.id+" "+i.message);case 9:return e.abrupt("return",this.parseTicker(i,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;if(t)n=t.symbol;else{var i=e.symbol;n=i in this.markets_by_id?(t=this.markets_by_id[i]).symbol:i}var o=void 0;if("fee"in e){var a=t?t.quote:void 0;o={cost:this.safeFloat(e,"fee"),currency:a}}var s=void 0;"clientOrderId"in e&&(s=e.clientOrderId);var u=this.safeFloat(e,"price"),c=this.safeFloat(e,"quantity"),d=u*c;return{info:e,id:e.id.toString(),order:s,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:e.side,price:u,amount:c,cost:d,fee:o}}},{key:"fetchTrades",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradesSymbol(this.extend({symbol:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"createOrder",value:(_=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=v.length>4&&void 0!==v[4]?v[4]:void 0,a=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u=this.uuid(),c=u.split("-"),d=(d=c.join("")).slice(0,32),i=parseFloat(i),l={clientOrderId:d,symbol:s.id,side:n,quantity:this.amountToPrecision(t,i),type:r},"limit"===r?l.price=this.priceToPrecision(t,o):l.timeInForce=this.options.defaultTimeInForce,e.next=14,this.privatePostOrder(this.extend(l,a));case 14:return h=e.sent,p=this.parseOrder(h),f=p.id,this.orders[f]=p,e.abrupt("return",p);case 19:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return _.apply(this,arguments)})},{key:"editOrder",value:(T=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:void 0,s=f.length>6&&void 0!==f[6]?f[6]:{},e.next=5,this.loadMarkets();case 5:return u=this.uuid(),c=u.split("-"),d=(d=c.join("")).slice(0,32),l={clientOrderId:t,requestClientId:d},"undefined"!==typeof o&&(l.quantity=this.amountToPrecision(r,parseFloat(o))),"undefined"!==typeof a&&(l.price=this.priceToPrecision(r,a)),e.next=14,this.privatePatchOrderClientOrderId(this.extend(l,s));case 14:return h=e.sent,p=this.parseOrder(h),this.orders[p.id]=p,e.abrupt("return",p);case 18:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return T.apply(this,arguments)})},{key:"cancelOrder",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrderClientOrderId(this.extend({clientOrderId:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"createdAt"in e&&(r=this.parse8601(e.createdAt));var n=void 0;"updatedAt"in e&&(n=this.parse8601(e.updatedAt)),t||(t=this.markets_by_id[e.symbol]);var i=t.symbol,o=this.safeFloat(e,"quantity"),a=this.safeFloat(e,"cumQuantity"),s=e.status;"new"===s?s="open":"suspended"===s?s="open":"partiallyFilled"===s?s="open":"filled"===s&&(s="closed");var u=e.clientOrderId.toString(),c=this.safeFloat(e,"price");"undefined"===typeof c&&u in this.orders&&(c=this.orders[u].price);var d=void 0,l=void 0;return"undefined"!==typeof o&&"undefined"!==typeof a&&(d=o-a,"undefined"!==typeof c&&(l=a*c)),{id:u,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:n,status:s,symbol:i,type:e.type,side:e.side,price:c,amount:o,cost:l,filled:a,remaining:d,fee:void 0,info:e}}},{key:"fetchOrder",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetHistoryOrder(this.extend({clientOrderId:t},r));case 6:if(n=e.sent,!(n.length>0)){e.next=10;break}return e.abrupt("return",this.parseOrder(n[0]));case 10:throw new l(this.id+" order "+t+" not found");case 11:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchOpenOrder",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderClientOrderId(this.extend({clientOrderId:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchOpenOrders",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.symbol=o.id),e.next=11,this.privateGetOrder(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchClosedOrders",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.symbol=o.id),"undefined"!==typeof n&&(a.limit=n),"undefined"!==typeof r&&(a.from=this.iso8601(r)),e.next=13,this.privateGetHistoryOrder(this.extend(a,i));case 13:return s=e.sent,u=this.parseOrders(s,o),u=this.filterBy(u,"status","closed"),e.abrupt("return",this.filterBySinceLimit(u,r,n));case 17:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchMyTrades",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},a=void 0,t&&(a=this.market(t),o.symbol=a.id),"undefined"!==typeof r&&(o.from=this.iso8601(r)),"undefined"!==typeof n&&(o.limit=n),e.next=13,this.privateGetHistoryTrades(this.extend(o,i));case 13:return s=e.sent,e.abrupt("return",this.parseTrades(s,a,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderTrades",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,"undefined"!==typeof r&&(a=this.market(r)),e.next=10,this.privateGetHistoryOrderIdTrades(this.extend({id:t},o));case 10:if(s=e.sent,!(s.length>0)){e.next=14;break}return e.abrupt("return",this.parseTrades(s,a,n,i));case 14:throw new l(this.id+" order "+t+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]');case 15:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"createDepositAddress",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privatePostAccountCryptoAddressCurrency({currency:r.id});case 6:return n=e.sent,i=n.address,this.checkAddress(i),o=this.safeString(n,"paymentId"),e.abrupt("return",{currency:r,address:i,tag:o,info:n});case 11:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchDepositAddress",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privateGetAccountCryptoAddressCurrency({currency:r.id});case 6:return n=e.sent,i=n.address,this.checkAddress(i),o=this.safeString(n,"paymentId"),e.abrupt("return",{currency:r.code,address:i,tag:o,info:n});case 11:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"withdraw",value:(f=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(n),a=this.currency(t),s={currency:a.id,amount:parseFloat(r),address:n},i&&(s.paymentId=i),e.next=8,this.privatePostAccountCryptoWithdraw(this.extend(s,o));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return f.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/",s=this.omit(n,this.extractParams(e));if("public"===t)a+=t+"/"+this.implodeParams(e,n),Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),a+=this.implodeParams(e,n),"GET"===r?Object.keys(s).length&&(a+="?"+this.urlencode(s)):Object.keys(s).length&&(o=this.json(s));var u=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(u);i={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return{url:a=this.urls.api+a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&e>=400){var a=this.id+" "+o;if(503===e||504===e)throw new d(a);if("{"===o[0]){var s=JSON.parse(o);if("error"in s){var u=this.safeString(s.error,"code"),l=this.exceptions;if(u in l)throw new l[u](a);if("Duplicate clientOrderId"===this.safeString(s.error,"message"))throw new p(a)}}throw new c(a)}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"huobi",name:"Huobi",countries:"CN",rateLimit:2e3,version:"v3",has:{CORS:!1,fetchOHLCV:!0},timeframes:{"1m":"001","5m":"005","15m":"015","30m":"030","1h":"060","1d":"100","1w":"200","1M":"300","1y":"400"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"http://api.huobi.com",www:"https://www.huobi.com",doc:"https://github.com/huobiapi/API_Docs_en/wiki"},api:{staticmarket:{get:["{id}_kline_{period}","ticker_{id}","depth_{id}","depth_{id}_{length}","detail_{id}"]},usdmarket:{get:["{id}_kline_{period}","ticker_{id}","depth_{id}","depth_{id}_{length}","detail_{id}"]},trade:{post:["get_account_info","get_orders","order_info","buy","sell","buy_market","sell_market","cancel_order","get_new_deal_orders","get_order_id_by_trade_id","withdraw_coin","cancel_withdraw_coin","get_withdraw_coin_result","transfer","loan","repayment","get_loan_available","get_loans"]}},markets:{"BTC/CNY":{id:"btc",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"staticmarket",coinType:1},"LTC/CNY":{id:"ltc",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"staticmarket",coinType:2}}})}},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.tradePostGetAccountInfo();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s=this.account(),c="frozen_"+a+"_display",d="loan_"+a+"_display",(u="available_"+a+"_display")in t&&(s.free=parseFloat(t[u])),c in t&&(s.used=parseFloat(t[c])),d in t&&(s.used=this.sum(s.used,parseFloat(t[d]))),s.total=this.sum(s.free,s.used),r[o]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},n=this.market(t),i=n.type+"GetDepthId",e.next=6,this[i](this.extend({id:n.id},r));case 6:return o=e.sent,e.abrupt("return",this.parseOrderBook(o));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTicker",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=this.market(t),i=n.type+"GetTickerId",e.next=5,this[i](this.extend({id:n.id},r));case 5:return o=e.sent,a=o.ticker,s=1e3*parseInt(o.time),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(a,"high"),low:this.safeFloat(a,"low"),bid:this.safeFloat(a,"buy"),ask:this.safeFloat(a,"sell"),vwap:void 0,open:this.safeFloat(a,"open"),close:void 0,first:void 0,last:this.safeFloat(a,"last"),change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(a,"vol"),info:a});case 9:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=e.ts;return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.direction,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},o=this.market(t),a=o.type+"GetDetailId",e.next=7,this[a](this.extend({id:o.id},i));case 7:return s=e.sent,e.abrupt("return",this.parseTrades(s.trades,o,r,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[1],e[2],e[3],e[4],e[6]]}},{key:"fetchOHLCV",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"1m",s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:void 0,n=s.length>4&&void 0!==s[4]?s[4]:{},i=this.market(t),o=i.type+"GetIdKlinePeriod",e.next=8,this[o](this.extend({id:i.id,period:this.timeframes[r]},n));case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},s=this.market(t),u="tradePost"+this.capitalize(n),c={coin_type:s.coinType,amount:i,market:s.quote.toLowerCase()},"limit"===r?c.price=o:u+=this.capitalize(r),d=this[u](this.extend(c,a)),e.abrupt("return",{info:d,id:d.id});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.tradePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api;if("trade"===t){this.checkRequiredCredentials(),a+="/api"+this.version;var s=this.keysort(this.extend({method:e,access_key:this.apiKey,created:this.nonce()},n)),u=this.urlencode(this.omit(s,"market"));u+="&secret_key="+this.secret,s.sign=this.hash(this.encode(u)),o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}}else{a+="/"+t+"/"+this.implodeParams(e,n)+"_json.js";var c=this.omit(n,this.extractParams(e));Object.keys(c).length&&(a+="?"+this.urlencode(c))}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"trade",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("status"in(s=e.sent))){e.next=11;break}if("error"!==s.status){e.next=11;break}throw new u(this.id+" "+this.json(s));case 11:if(!("code"in s)){e.next=13;break}throw new u(this.id+" "+this.json(s));case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(17);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"huobicny",name:"Huobi CNY",hostname:"be.huobi.com",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"https://be.huobi.com",www:"https://www.huobi.com",doc:"https://github.com/huobiapi/API_Docs/wiki/REST_api_reference"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,l,h,p,f,v,m,y,b,g,k,w,x,O,T;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"ice3x",name:"ICE3X",countries:"ZA",rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38012176-11616c32-3269-11e8-9f05-e65cf885bb15.jpg",api:"https://ice3x.com/api/v1",www:["https://ice3x.com","https://ice3x.co.za"],doc:"https://ice3x.co.za/ice-cubed-bitcoin-exchange-api-documentation-1-june-2017",fees:["https://help.ice3.com/support/solutions/articles/11000033293-trading-fees","https://help.ice3.com/support/solutions/articles/11000033288-fees-explained","https://help.ice3.com/support/solutions/articles/11000008131-what-are-your-fiat-deposit-and-withdrawal-fees-","https://help.ice3.com/support/solutions/articles/11000033289-deposit-fees"]},api:{public:{get:["currency/list","currency/info","pair/list","pair/info","stats/marketdepthfull","stats/marketdepthbtcav","stats/marketdepth","orderbook/info","trade/list","trade/info"]},private:{post:["balance/list","balance/info","order/new","order/cancel","order/list","order/info","trade/list","trade/info","transaction/list","transaction/info","invoice/list","invoice/info","invoice/pdf"]}},fees:{trading:{maker:.01,taker:.01}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetCurrencyList(t);case 3:for(r=e.sent,n=r.response.entities,i=this.precision.amount,o={},a=0;a<n.length;a++)s=n[a],u=s.currency_id,c=this.commonCurrencyCode(s.iso.toUpperCase()),o[c]={id:u,code:c,name:s.name,active:!0,precision:i,limits:{amount:{min:void 0,max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0}},info:s};return e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchMarkets",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(this.currencies).length){e.next=4;break}return e.next=3,this.fetchCurrencies();case 3:this.currencies=e.sent;case 4:return this.currencies_by_id=this.indexBy(this.currencies,"id"),e.next=7,this.publicGetPairList();case 7:for(t=e.sent,r=t.response.entities,n=[],i=0;i<r.length;i++)o=r[i],a=o.pair_id,s=o.currency_id_from.toString(),u=o.currency_id_to.toString(),c=this.currencies_by_id[s],d=this.currencies_by_id[u],l=this.commonCurrencyCode(c.code),h=this.commonCurrencyCode(d.code),p=l+"/"+h,n.push({id:a,symbol:p,base:l,quote:h,baseId:s,quoteId:u,active:!0,lot:void 0,info:o});return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=t.symbol,i=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"max_bid"),bidVolume:void 0,ask:this.safeFloat(e,"min_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTicker",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetStatsMarketdepthfull(this.extend({pair_id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i.response.entity,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchTickers",value:(w=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetStatsMarketdepthfull(t);case 6:for(r=e.sent,n=r.response.entities,i={},o=0;o<n.length;o++)a=n[o],s=this.marketsById[a.pair_id],u=s.symbol,i[u]=this.parseTicker(a,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchOrderBook",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetOrderbookInfo(this.extend({pair_id:this.marketId(t)},r));case 5:return n=e.sent,i=n.response.entities,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.created),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"volume"),o=t.symbol,a=parseFloat(this.costToPrecision(o,n*i)),s=this.safeFloat(e,"fee");return s&&(s={cost:s,currency:t.quote}),{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"trade_id"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:s,info:e}}},{key:"fetchTrades",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradeList(this.extend({pair_id:o.id},i));case 8:return a=e.sent,s=a.response.entities,e.abrupt("return",this.parseTrades(s,o,r,n));case 11:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalanceList(t);case 5:for(r=e.sent,n={info:r},i=r.response.entities,o=0;o<i.length;o++)a=i[o],(s=a.currency_id)in this.currencies_by_id&&(u=this.currencies_by_id[s],c=u.code,n[c]={free:0,used:0,total:parseFloat(a.balance)});return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"pair_id"),n=void 0;r&&!t&&r in this.marketsById&&(n=(t=this.marketsById[r]).symbol);var i=1e3*this.safeInteger(e,"created"),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),s=this.safeInteger(e,"active"),u=this.safeFloat(e,"remaining"),c=void 0;1===s?s="open":(s="closed",u=0,c=a);var d=this.safeFloat(e,"fee");return d&&(d={cost:d},t&&(d.currency=t.quote)),{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:s,symbol:n,type:"limit",side:e.type,price:o,cost:void 0,amount:a,filled:c,remaining:u,trades:void 0,fee:d,info:e}}},{key:"createOrder",value:(y=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.privatePostOrderNew(this.extend({pair_id:s.id,type:n,amount:i,price:o},a));case 7:return u=e.sent,c=this.parseOrder({order_id:u.response.entity.order_id,created:this.seconds(),active:1,type:n,price:o,volume:i,remaining:i,info:u},s),d=c.id,this.orders[d]=c,e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return y.apply(this,arguments)})},{key:"cancelOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostOrderCancel(this.extend({order_id:t},r));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderInfo(this.extend({"order _id":t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.response.entity));case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOpenOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostOrderList();case 8:return n=e.sent,i=n.response.entities,e.abrupt("return",this.parseOrders(i,void 0,t,r));case 11:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchMyTrades",value:(p=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={pair_id:o.id},n&&(a.items_per_page=n),r&&(a.date_from=parseInt(r/1e3)),e.next=12,this.privatePostTradeList(this.extend(a,i));case 12:return s=e.sent,u=s.response.entities,e.abrupt("return",this.parseTrades(u,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"fetchDepositAddress",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostBalanceInfo(this.extend({currency_id:n.id},r));case 6:return i=e.sent,o=i.response.entity,a=this.safeString(o,"address"),s=a?"ok":"none",e.abrupt("return",{currency:t,address:a,tag:void 0,status:s,info:i});case 11:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;return"public"===t?(n=this.urlencode(n)).length&&(a+="?"+n):(this.checkRequiredCredentials(),o=this.urlencode(this.extend({nonce:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}),{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:"public",n=m.length>2&&void 0!==m[2]?m[2]:"GET",i=m.length>3&&void 0!==m[3]?m[3]:{},o=m.length>4&&void 0!==m[4]?m[4]:void 0,a=m.length>5&&void 0!==m[5]?m[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,u=this.safeValue(s,"errors"),l=this.safeValue(s,"response"),!u&&l){e.next=25;break}h=["Key","user_id","Sign"],p=0;case 13:if(!(p<h.length)){e.next=24;break}if(f=h[p],v=this.safeString(u,f)){e.next=18;break}return e.abrupt("continue",21);case 18:if(!("user_id"===f&&v.indexOf("authorization")<0)){e.next=20;break}return e.abrupt("continue",21);case 20:throw new d(v);case 21:p++,e.next=13;break;case 24:throw new c(this.json(u));case 25:return e.abrupt("return",s);case 26:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30521662-cf3f477c-9bcb-11e7-89bc-d1ac85012eda.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetTradeHistorySummary","GetRecentTrades","GetFxRates"]},private:{post:["PlaceLimitOrder","PlaceMarketOrder","CancelOrder","GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","SynchDigitalCurrencyDepositAddressWithBlockchain","WithdrawDigitalCurrency","RequestFiatWithdrawal","GetTrades"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}}})}},{key:"fetchMarkets",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetValidPrimaryCurrencyCodes();case 2:return t=e.sent,e.next=5,this.publicGetGetValidSecondaryCurrencyCodes();case 5:for(r=e.sent,n=[],i=0;i<t.length;i++)for(o=t[i],a=o.toUpperCase(),s=this.commonCurrencyCode(a),u=0;u<r.length;u++)c=r[u],d=c.toUpperCase(),l=this.commonCurrencyCode(d),h=o+"/"+c,p=s+"/"+l,n.push({id:h,symbol:p,base:s,quote:l,baseId:o,quoteId:c,info:h});return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccounts();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.CurrencyCode,a=o.toUpperCase(),s=this.commonCurrencyCode(a),(u=this.account()).free=i.AvailableBalance,u.total=i.TotalBalance,u.used=u.total-u.free,r[s]=u;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetGetOrderBook(this.extend({primaryCurrencyCode:n.baseId,secondaryCurrencyCode:n.quoteId},r));case 7:return i=e.sent,o=this.parse8601(i.CreatedTimestampUtc),e.abrupt("return",this.parseOrderBook(i,o,"BuyOrders","SellOrders","Price","Volume"));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.CreatedTimestampUtc),n=void 0;t&&(n=t.symbol);var i=e.LastPrice;return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e.DayHighestPrice,low:e.DayLowestPrice,bid:e.CurrentHighestBidPrice,bidVolume:void 0,ask:e.CurrentLowestOfferPrice,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:e.DayAvgPrice,baseVolume:e.DayVolumeXbtInSecondaryCurrrency,quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetGetMarketSummary(this.extend({primaryCurrencyCode:n.baseId,secondaryCurrencyCode:n.quoteId},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"undefined"===typeof t?r=t.symbol:t=this.findMarket(e.PrimaryCurrencyCode+"/"+e.SecondaryCurrencyCode);var n=this.safeValue(e,"Type");n.indexOf("Market")>=0?n="market":n.indexOf("Limit")>=0&&(n="limit");var i=void 0;n.indexOf("Bid")>=0?i="buy":n.indexOf("Offer")>=0&&(i="sell");var o=this.parse8601(e.CreatedTimestampUtc),a=this.safeFloat(e,"VolumeOrdered");"undefined"===typeof a&&(a=this.safeFloat(e,"Volume"));var s=this.safeFloat(e,"VolumeFilled"),u=void 0,c=this.safeFloat(e,"FeePercent"),d=void 0;"undefined"!==typeof a&&"undefined"!==typeof s&&(u=a-s,"undefined"!==typeof c&&(d=c*s));var l=void 0;"undefined"!==typeof t&&(r=t.symbol,l=t.base);var h={rate:c,cost:d,currency:l},p=e.OrderGuid,f=this.parseOrderStatus(e.Status),v=this.safeFloat(e,"Value"),m=this.safeFloat(e,"AvgPrice"),y=this.safeFloat(e,"Price",m);return{info:e,id:p,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:r,type:n,side:i,price:y,cost:v,average:m,amount:a,filled:s,remaining:u,status:f,fee:h}}},{key:"parseOrderStatus",value:function(e){var t={Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"};return e in t?t[e]:e}},{key:"fetchOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrderDetails(this.extend({orderGuid:t},n));case 6:return i=e.sent,o=void 0,"undefined"!==typeof r&&(o=this.market(r)),e.abrupt("return",this.parseOrder(i,o));case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchMyTrades",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:50,i=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.safeInteger(i,"pageIndex",1),a=this.ordered({pageIndex:o,pageSize:n}),e.next=10,this.privatePostGetTrades(this.extend(a,i));case 10:return s=e.sent,u=void 0,"undefined"!==typeof t&&(u=this.market(t)),e.abrupt("return",this.parseTrades(s.Data,u,r,n));case 14:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TradeTimestampUtc),n=this.safeString(e,"TradeGuid"),i=this.safeString(e,"OrderGuid"),o=this.safeFloat(e,"Price");"undefined"===typeof o&&(o=this.safeFloat(e,"SecondaryCurrencyTradePrice"));var a=this.safeFloat(e,"VolumeTraded");"undefined"===typeof a&&(a=this.safeFloat(e,"PrimaryCurrencyAmount"));var s=void 0;"undefined"!==typeof t&&(s=t.symbol);var u=this.safeString(e,"OrderType");return"undefined"!==typeof u&&(u.indexOf("Bid")>=0?u="buy":u.indexOf("Offer")>=0&&(u="sell")),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,order:i,type:void 0,side:u,price:o,amount:a,fee:void 0}}},{key:"fetchTrades",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetGetRecentTrades(this.extend({primaryCurrencyCode:o.baseId,secondaryCurrencyCode:o.quoteId,numberOfRecentTradesToRetrieve:50},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.Trades,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createOrder",value:(d=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>4&&void 0!==p[4]?p[4]:void 0,a=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u=this.capitalize(r),c="privatePostPlace"+u+"Order",d=u,d+="sell"===n?"Offer":"Bid",l=this.ordered({primaryCurrencyCode:s.baseId,secondaryCurrencyCode:s.quoteId,orderType:d}),"limit"===r&&(l.price=o),l.volume=i,e.next=14,this[c](this.extend(l,a));case 14:return h=e.sent,e.abrupt("return",{info:h,id:h.OrderGuid});case 16:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return d.apply(this,arguments)})},{key:"cancelOrder",value:(c=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({orderGuid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();for(var s=this.nonce(),u=[a,"apiKey="+this.apiKey,"nonce="+s.toString()],c=Object.keys(n),d=[],l=0;l<c.length;l++){var h=c[l];d.push(h+"="+n[h])}var p=(u=this.arrayConcat(u,d)).join(","),f=this.hmac(this.encode(p),this.encode(this.secret));o=this.json({apiKey:this.apiKey,nonce:s,signature:f}),i={"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.InsufficientFunds,l=u.InvalidOrder,h=u.OrderNotFound,p=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,f,v,m,y,b,g,k,w,x,O;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"indodax",name:"INDODAX",countries:"ID",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!1,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:!1,fetchCurrencies:!1,withdraw:!0},version:"1.8",urls:{logo:"https://user-images.githubusercontent.com/1294454/37443283-2fddd0e4-281c-11e8-9741-b4f1419001b5.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://indodax.com/downloads/BITCOINCOID-API-DOCUMENTATION.pdf"},api:{public:{get:["{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},markets:{"BTC/IDR":{id:"btc_idr",symbol:"BTC/IDR",base:"BTC",quote:"IDR",baseId:"btc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e-4,max:void 0}}},"ACT/IDR":{id:"act_idr",symbol:"ACT/IDR",base:"ACT",quote:"IDR",baseId:"act",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"ADA/IDR":{id:"ada_idr",symbol:"ADA/IDR",base:"ADA",quote:"IDR",baseId:"ada",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCD/IDR":{id:"bcd_idr",symbol:"BCD/IDR",base:"BCD",quote:"IDR",baseId:"bcd",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCH/IDR":{id:"bch_idr",symbol:"BCH/IDR",base:"BCH",quote:"IDR",baseId:"bch",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BTG/IDR":{id:"btg_idr",symbol:"BTG/IDR",base:"BTG",quote:"IDR",baseId:"btg",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETH/IDR":{id:"eth_idr",symbol:"ETH/IDR",base:"ETH",quote:"IDR",baseId:"eth",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETC/IDR":{id:"etc_idr",symbol:"ETC/IDR",base:"ETC",quote:"IDR",baseId:"etc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"IGNIS/IDR":{id:"ignis_idr",symbol:"IGNIS/IDR",base:"IGNIS",quote:"IDR",baseId:"ignis",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"LTC/IDR":{id:"ltc_idr",symbol:"LTC/IDR",base:"LTC",quote:"IDR",baseId:"ltc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"STQ/IDR":{id:"stq_idr",symbol:"STQ/IDR",base:"STQ",quote:"IDR",baseId:"stq",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"NXT/IDR":{id:"nxt_idr",symbol:"NXT/IDR",base:"NXT",quote:"IDR",baseId:"nxt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"TEN/IDR":{id:"ten_idr",symbol:"TEN/IDR",base:"TEN",quote:"IDR",baseId:"ten",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"TRX/IDR":{id:"trx_idr",symbol:"TRX/IDR",base:"TRX",quote:"IDR",baseId:"trx",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"WAVES/IDR":{id:"waves_idr",symbol:"WAVES/IDR",base:"WAVES",quote:"IDR",baseId:"waves",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"XLM/IDR":{id:"str_idr",symbol:"XLM/IDR",base:"XLM",quote:"IDR",baseId:"str",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:20,max:void 0}}},"XRP/IDR":{id:"xrp_idr",symbol:"XRP/IDR",base:"XRP",quote:"IDR",baseId:"xrp",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:10,max:void 0}}},"XZC/IDR":{id:"xzc_idr",symbol:"XZC/IDR",base:"XZC",quote:"IDR",baseId:"xzc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"BTS/BTC":{id:"bts_btc",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"DASH/BTC":{id:"drk_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"drk",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",precision:{amount:8,price:5},limits:{amount:{min:.001,max:void 0}}},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"NXT/BTC":{id:"nxt_btc",symbol:"NXT/BTC",base:"NXT",quote:"BTC",baseId:"nxt",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"TEN/BTC":{id:"ten_btc",symbol:"TEN/BTC",base:"TEN",quote:"BTC",baseId:"ten",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XEM/BTC":{id:"nem_btc",symbol:"XEM/BTC",base:"XEM",quote:"BTC",baseId:"nem",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"XLM/BTC":{id:"str_btc",symbol:"XLM/BTC",base:"XLM",quote:"BTC",baseId:"str",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XRP/BTC":{id:"xrp_btc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}}})}},{key:"fetchBalance",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=this.currencies[a],u=s.id,(c=this.account()).free=this.safeFloat(r.balance,u,0),c.used=this.safeFloat(r.balance_hold,u,0),c.total=this.sum(c.free,c.used),n[a]=c;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchOrderBook",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"buy","sell"));case 8:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchTicker",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPairTicker(this.extend({pair:n.id},r));case 6:return i=e.sent,o=i.ticker,a=1e3*this.safeFloat(o,"server_time"),s="vol_"+n.baseId.toLowerCase(),u="vol_"+n.quoteId.toLowerCase(),c=this.safeFloat(o,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(o,"high"),low:this.safeFloat(o,"low"),bid:this.safeFloat(o,"buy"),bidVolume:void 0,ask:this.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(o[s]),quoteVolume:parseFloat(o[u]),info:o});case 13:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetPairTrades(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"type"in e&&(r=e.type);var n=this.safeString(e,"status","open");"filled"===n?n="closed":"calcelled"===n&&(n="canceled");var i=void 0,o=void 0,a=this.safeFloat(e,"price"),s=void 0,u=void 0,c=void 0;if(t){i=t.symbol;var d=t.quoteId,l=t.baseId;if("idr"===t.quoteId&&"order_rp"in e&&(d="rp"),"idr"===t.baseId&&"remain_rp"in e&&(l="rp"),o=this.safeFloat(e,"order_"+d)){s=o/a;var h=this.safeFloat(e,"remain_"+d);"undefined"!==typeof h&&(c=s-(u=h/a))}else o=a*(s=this.safeFloat(e,"order_"+l)),c=s-(u=this.safeFloat(e,"remain_"+l))}var p=void 0;c&&(p=o/c);var f=parseInt(e.submit_time);return{info:e,id:e.order_id,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,symbol:i,type:"limit",side:r,price:a,cost:o,average:p,amount:s,filled:c,remaining:u,status:n,fee:void 0}}},{key:"fetchOrder",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},r){e.next=4;break}throw new c(this.id+" fetchOrder requires a symbol");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),e.next=9,this.privatePostGetOrder(this.extend({pair:i.id,order_id:t},n));case 9:return o=e.sent,a=o.return,s=this.parseOrder(this.extend({id:t},a.order),i),e.abrupt("return",this.extend({info:o},s));case 13:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchOpenOrders",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:void 0,r=v.length>1&&void 0!==v[1]?v[1]:void 0,n=v.length>2&&void 0!==v[2]?v[2]:void 0,i=v.length>3&&void 0!==v[3]?v[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.pair=o.id),e.next=11,this.privatePostOpenOrders(this.extend(a,i));case 11:if(s=e.sent,u=s.return.orders){e.next=15;break}return e.abrupt("return",[]);case 15:if("undefined"===typeof t){e.next=17;break}return e.abrupt("return",this.parseOrders(u,o,r,n));case 17:for(c=Object.keys(u),d=[],l=0;l<c.length;l++)h=c[l],p=u[h],o=this.markets_by_id[h],f=this.parseOrders(p,o,r,n),d=this.arrayConcat(d,f);return e.abrupt("return",d);case 21:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchClosedOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:{},t){e.next=6;break}throw new c(this.id+" fetchOrders requires a symbol");case 6:return e.next=8,this.loadMarkets();case 8:return o={},a=void 0,t&&(a=this.market(t),o.pair=a.id),e.next=13,this.privatePostOrderHistory(this.extend(o,i));case 13:if(s=e.sent,u=this.parseOrders(s.return.orders,a,r,n),u=this.filterBy(u,"status","closed"),!t){e.next=18;break}return e.abrupt("return",this.filterBySymbol(u,t));case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"createOrder",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},"limit"===r){e.next=4;break}throw new c(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(t),u={pair:s.id,type:n,price:o},d=s.baseId,"buy"===n?u[s.quoteId]=i*o:u[s.baseId]=i,u[d]=i,e.next=13,this.privatePostTrade(this.extend(u,a));case 13:return l=e.sent,e.abrupt("return",{info:l,id:l.return.order_id.toString()});case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},"undefined"!==typeof r){e.next=4;break}throw new c(this.id+" cancelOrder requires a symbol argument");case 4:if("undefined"!==typeof this.safeValue(n,"side")){e.next=7;break}throw new c(this.id+' cancelOrder requires an extra "side" param');case 7:return e.next=9,this.loadMarkets();case 9:return i=this.market(r),e.next=12,this.privatePostCancelOrder(this.extend({order_id:t,pair:i.id,type:n.side},n));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"withdraw",value:(f=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:void 0,o=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),s=this.milliseconds(),u={currency:a.id,withdraw_amount:r,withdraw_address:n,request_id:s.toString()},i&&(u.withdraw_memo=i),e.next=11,this.privatePostWithdrawCoin(this.extend(u,o));case 11:return c=e.sent,d=void 0,"txid"in c&&c.txid.length>0&&(d=c.txid),e.abrupt("return",{info:c,id:d});case 15:case"end":return e.stop()}},e,this)})),function(e,t,r){return f.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];return"public"===t?a+="/"+this.implodeParams(e,n):(this.checkRequiredCredentials(),o=this.urlencode(this.extend({method:e,nonce:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if("string"===typeof o&&("undefined"===typeof a&&("{"!==o[0]&&"["!==o[0]||(a=JSON.parse(o))),!Array.isArray(a)&&"success"in a)){if(1===a.success){if("return"in a)return;throw new c(this.id+": malformed response: "+this.json(a))}var s=a.error,u=this.id+" "+this.json(a);if("Insufficient balance."===s)throw new d(u);if("invalid order."===s)throw new h(u);if(s.indexOf("Minimum price ")>=0)throw new l(u);if(s.indexOf("Minimum order ")>=0)throw new l(u);if("Invalid credentials. API not found or session has expired."===s)throw new p(u);if("Invalid credentials. Bad sign."===s)throw new p(u);throw new c(this.id+": unknown error: "+this.json(a))}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError,c=r(0).AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k,w,x,O;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"itbit",name:"itBit",countries:"US",rateLimit:2e3,version:"v1",has:{CORS:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:0,taker:.002}}})}},{key:"fetchOrderBook",value:(O=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetMarketsSymbolOrderBook(this.extend({symbol:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"fetchTicker",value:(x=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.publicGetMarketsSymbolTicker(this.extend({symbol:this.marketId(t)},r));case 3:if(n=e.sent,"serverTimeUTC"in n){e.next=7;break}throw new u(this.id+" fetchTicker returned a bad response: "+this.json(n));case 7:return i=this.parse8601(n.serverTimeUTC),o=this.safeFloat(n,"vwap24h"),a=this.safeFloat(n,"volume24h"),s=void 0,"undefined"!==typeof a&&"undefined"!==typeof o&&(s=a*o),c=this.safeFloat(n,"lastPrice"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high24h"),low:this.safeFloat(n,"low24h"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(n,"openToday"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:n});case 14:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.timestamp),n=e.matchNumber.toString();return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:n,order:n,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetMarketsSymbolTrades(this.extend({symbol:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a.recentTrades,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchBalance",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.fetchWallets();case 3:for(t=e.sent,r=t[0].balances,n={info:t},i=0;i<r.length;i++)o=r[i],a=o.currency,(s={free:parseFloat(o.availableBalance),used:0,total:parseFloat(o.totalBalance)}).used=s.total-s.free,n[a]=s;return e.abrupt("return",this.parseBalance(n));case 8:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchWallets",value:(g=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userId){e.next=2;break}throw new c(this.id+" fetchWallets requires userId in API settings");case 2:return t={userId:this.userId},e.abrupt("return",this.privateGetWallets(t));case 4:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchWallet",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n={walletId:t},e.abrupt("return",this.privateGetWalletsWalletId(this.extend(n,r)));case 3:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOpenOrders",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.abrupt("return",this.fetchOrders(t,r,n,this.extend({status:"open"},i)));case 5:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchClosedOrders",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.abrupt("return",this.fetchOrders(t,r,n,this.extend({status:"filled"},i)));case 5:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrders",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>0&&void 0!==s[0]?s[0]:void 0,t=s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:void 0,n=s.length>3&&void 0!==s[3]?s[3]:{},"walletId"in n){e.next=7;break}throw new u(this.id+" fetchOrders requires a walletId parameter");case 7:return i=n.walletId,e.next=10,this.privateGetWalletsWalletIdOrders(this.extend({walletId:i},n));case 10:return o=e.sent,a=this.parseOrders(o,void 0,t,r),e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.side,r=e.type,n=this.markets_by_id[e.instrument].symbol,i=this.parse8601(e.createdTime),o=this.safeFloat(e,"amount"),a=this.safeFloat(e,"amountFilled"),s=o-a,u=this.safeFloat(e,"price"),c=u*this.safeFloat(e,"volumeWeightedAveragePrice");return{id:e.id,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:e.status,symbol:n,type:r,side:t,price:u,cost:c,amount:o,filled:a,remaining:s,fee:void 0}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"createOrder",value:(f=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},"market"!==r){e.next=4;break}throw new u(this.id+" allows limit orders only");case 4:if("walletId"in a){e.next=7;break}throw new u(this.id+" createOrder requires a walletId parameter");case 7:return i=i.toString(),o=o.toString(),s=this.market(t),c={side:n,type:r,currency:s.id.replace(s.quote,""),amount:i,display:i,price:o,instrument:s.id},e.next=13,this.privatePostWalletsWalletIdOrders(this.extend(c,a));case 13:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"fetchOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},"walletId"in r){e.next=5;break}throw new u(this.id+" fetchOrder requires a walletId parameter");case 5:return e.next=7,this.privateGetWalletsWalletIdOrdersId(this.extend({id:t},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},"walletId"in r){e.next=5;break}throw new u(this.id+" cancelOrder requires a walletId parameter");case 5:return e.next=7,this.privateDeleteWalletsWalletIdOrdersId(this.extend({id:t},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s)),o="POST"===r&&Object.keys(s).length?this.json(s):"","private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),c=u,d=[r,a,o,u,c],l=u+this.json(d).replace("\\/","/"),h=this.hash(this.encode(l),"sha256","binary"),p=this.binaryConcat(a,h),f=this.hmac(p,this.encode(this.secret),"sha512","base64");i={Authorization:this.apiKey+":"+f,"Content-Type":"application/json","X-Auth-Timestamp":c,"X-Auth-Nonce":u}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("code"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&o(r.prototype,n),d&&o(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(62);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s,u,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"jubi",name:"jubi.com",countries:"CN",rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766581-9d397d9a-5edd-11e7-8fb9-5d8236c0e692.jpg",api:"https://www.jubi.com/api",www:"https://www.jubi.com",doc:"https://www.jubi.com/help/api.html"}})}},{key:"fetchMarkets",value:(u=regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAllticker();case 2:for(t=e.sent,r=Object.keys(t),n=[],i=0;i<r.length;i++)o=r[i],a=o.toUpperCase(),u=a+"/"+(s="CNY"),a=this.commonCurrencyCode(a),s=this.commonCurrencyCode(s),n.push({id:o,symbol:u,base:a,quote:s,info:o});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=u.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(){return c.apply(this,arguments)})}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeNotAvailable,d=u.ExchangeError,l=u.OrderNotFound,h=u.DDoSProtection,p=u.InvalidNonce,f=u.InsufficientFunds,v=u.CancelPending,m=u.InvalidOrder,y=u.InvalidAddress;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F,A,j,M,D;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"kraken",name:"Kraken",countries:"US",version:"0",rateLimit:3e3,has:{createDepositAddress:!0,fetchDepositAddress:!0,fetchTradingFees:!0,CORS:!1,fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0},marketsByAltname:{},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"1440","1w":"10080","2w":"21600"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766599-22709304-5ede-11e7-9de1-9f33732e1509.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://support.kraken.com/hc/en-us/articles"},www:"https://www.kraken.com",doc:["https://www.kraken.com/en-us/help/api","https://github.com/nothingisdead/npm-kraken-api"],fees:"https://www.kraken.com/en-us/help/fees"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["205893708-What-is-the-minimum-order-size-","201396777-What-are-the-deposit-fees-","201893608-What-are-the-withdrawal-fees-"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","Balance","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{}},exceptions:{"EFunding:Unknown withdraw key":d,"EFunding:Invalid amount":f,"EService:Unavailable":c,"EDatabase:Internal error":c,"EService:Busy":c,"EAPI:Rate limit exceeded":h,"EQuery:Unknown asset":d,"EGeneral:Internal error":c}})}},{key:"costToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"feeToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.amount)}},{key:"fetchMinOrderSizes",value:(D=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,this.parseJsonResponse=!1,e.next=5,this.zendeskGet205893708WhatIsTheMinimumOrderSize();case 5:t=e.sent,this.parseJsonResponse=!0,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),this.parseJsonResponse=!0,e.t0;case 13:for(r=t.split("ul>"),n=r[1],i=n.split("</li"),o={},a="): ",s=0;s<i.length;s++)u=i[s],c=u.split(a),c.length>1&&(d=parseFloat(c[1]),l=c[0],c=l.split("("),h=c[1],o[h]=d);return e.abrupt("return",o);case 20:case"end":return e.stop()}},e,this,[[1,9]])})),function(){return D.apply(this,arguments)})},{key:"fetchMarkets",value:(M=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssetPairs();case 2:return t=e.sent,e.next=5,this.fetchMinOrderSizes();case 5:for(r=e.sent,n=Object.keys(t.result),i=[],o=0;o<n.length;o++)a=n[o],s=t.result[a],u=s.base,c=s.quote,l=c,"X"!==(d=u)[0]&&"Z"!==d[0]||(d=d.slice(1)),"X"!==l[0]&&"Z"!==l[0]||(l=l.slice(1)),d=this.commonCurrencyCode(d),l=this.commonCurrencyCode(l),h=a.indexOf(".d")>=0,p=h?s.altname:d+"/"+l,f=void 0,"fees_maker"in s&&(f=parseFloat(s.fees_maker[0][1])/100),v={amount:s.lot_decimals,price:s.pair_decimals},m=Math.pow(10,-v.amount),d in r&&(m=r[d]),i.push({id:a,symbol:p,base:d,quote:l,baseId:u,quoteId:c,darkpool:h,info:s,altname:s.altname,maker:f,taker:parseFloat(s.fees[0][1])/100,active:!0,precision:v,limits:{amount:{min:m,max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:0,max:void 0}}});return i=this.appendInactiveMarkets(i),this.marketsByAltname=this.indexBy(i,"altname"),e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)})),function(){return M.apply(this,arguments)})},{key:"appendInactiveMarkets",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={amount:8,price:8},r={min:0,max:void 0},n={min:Math.pow(10,-t.price),max:void 0},i={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:{amount:{min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},price:n,cost:r}},o=[],a=0;a<o.length;a++)e.push(this.extend(i,o[a]));return e}},{key:"fetchCurrencies",value:(j=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetAssets(t);case 3:for(r=e.sent,n=r.result,i=Object.keys(n),o={},a=0;a<i.length;a++)s=i[a],u=n[s],c=this.commonCurrencyCode(u.altname),d=u.decimals,o[c]={id:s,code:c,info:u,name:c,active:!0,fee:void 0,precision:d,limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,d)}}};return e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})},{key:"fetchTradingFees",value:(A=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return this.checkRequiredCredentials(),e.next=6,this.privatePostTradeVolume(t);case 6:for(r=e.sent,n=this.safeFloat(r.result,"volume"),i=this.fees.trading.tiers,o=i.taker[1],a=i.maker[1],s=0;s<i.taker.length;s++)n>=i.taker[s][0]&&(o=i.taker[s][1]);for(u=0;u<i.maker.length;u++)n>=i.maker[u][0]&&(a=i.maker[u][1]);return e.abrupt("return",{info:r,maker:a,taker:o});case 14:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"fetchOrderBook",value:(F=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:if(!(i=this.market(t)).darkpool){e.next=7;break}throw new d(this.id+" does not provide an order book for darkpool symbol "+t);case 7:return o={pair:i.id},"undefined"!==typeof r&&(o.count=r),e.next=11,this.publicGetDepth(this.extend(o,n));case 11:return a=e.sent,s=a.result[i.id],e.abrupt("return",this.parseOrderBook(s));case 14:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=parseFloat(e.v[1]),o=parseFloat(e.p[1]),a=i*o,s=parseFloat(e.c[0]);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:o,open:this.safeFloat(e,"o"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:a,info:e}}},{key:"fetchTickers",value:(I=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:void 0,t=m.length>1&&void 0!==m[1]?m[1]:{},e.next=4,this.loadMarkets();case 4:for(r=[],n=0;n<this.symbols.length;n++)i=this.symbols[n],(o=this.markets[i]).active&&(o.darkpool||r.push(o.id));return a=r.join(","),e.next=9,this.publicGetTicker(this.extend({pair:a},t));case 9:for(s=e.sent,u=s.result,c=Object.keys(u),d={},l=0;l<c.length;l++)h=c[l],p=this.markets_by_id[h],f=p.symbol,v=u[h],d[f]=this.parseTicker(v,p);return e.abrupt("return",d);case 15:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchTicker",value:(B=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:if(!(t.indexOf(".d")>=0)){e.next=6;break}throw new d(this.id+" does not provide a ticker for darkpool symbol "+t);case 6:return n=this.market(t),e.next=9,this.publicGetTicker(this.extend({pair:n.id},r));case 9:return i=e.sent,o=i.result[n.id],e.abrupt("return",this.parseTicker(o,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return B.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[6])]}},{key:"fetchOHLCV",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s={pair:a.id,interval:this.timeframes[r]},"undefined"!==typeof n&&(s.since=parseInt(n/1e3)),e.next=11,this.publicGetOHLC(this.extend(s,o));case 11:return u=e.sent,c=u.result[a.id],e.abrupt("return",this.parseOHLCVs(c,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0;if(t||(t=this.findMarketByAltnameOrId(e.pair)),"ordertxid"in e){if(u=e.ordertxid,s=e.id,r=parseInt(1e3*e.time),n=e.type,i=e.ordertype,o=this.safeFloat(e,"price"),a=this.safeFloat(e,"vol"),"fee"in e){var d=void 0;t&&(d=t.quote),c={cost:this.safeFloat(e,"fee"),currency:d}}}else r=parseInt(1e3*e[2]),n="s"===e[3]?"sell":"buy",i="l"===e[4]?"limit":"market",o=parseFloat(e[0]),a=parseFloat(e[1]),e.length>6&&(s=e[6]);var l=t?t.symbol:void 0;return{id:s,order:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:i,side:n,price:o,amount:a,cost:o*a,fee:c}}},{key:"fetchTrades",value:(P=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:void 0,n=p.length>2&&void 0!==p[2]?p[2]:void 0,i=p.length>3&&void 0!==p[3]?p[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a=o.id,e.next=9,this.publicGetTrades(this.extend({pair:a},i));case 9:if(s=e.sent,u=s.result,c=u[a],!((d=c.length)<=0)){e.next=15;break}return e.abrupt("return",[]);case 15:return l=c[d-1],h=this.safeString(u,"last"),l.push(h),e.abrupt("return",this.parseTrades(c,o,r,n));case 19:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"fetchBalance",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:if(t=e.sent,"undefined"!==typeof(r=this.safeValue(t,"result"))){e.next=9;break}throw new c(this.id+" fetchBalance failed due to a malformed response "+this.json(t));case 9:for(n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],(s=a)in this.currencies_by_id?s=this.currencies_by_id[s].code:("X"===s[0]?s=s.slice(1):"Z"===s[0]&&(s=s.slice(1)),s=this.commonCurrencyCode(s)),u=parseFloat(r[a]),d={free:u,used:0,total:u},n[s]=d;return e.abrupt("return",this.parseBalance(n));case 13:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"createOrder",value:(R=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={pair:s.id,type:n,ordertype:r,volume:this.amountToPrecision(t,i)},("limit"===r||!("market"===r)&&"undefined"!==typeof o)&&(u.price=this.priceToPrecision(t,o)),e.next=13,this.privatePostAddOrder(this.extend(u,a));case 13:return c=e.sent,"undefined"!==typeof(d=this.safeValue(c.result,"txid"))&&Array.isArray(d)&&(l=d.length,d=l>1?d:d[0]),e.abrupt("return",{info:c,id:d});case 17:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return R.apply(this,arguments)})},{key:"findMarketByAltnameOrId",value:function(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.descr,n=r.type,i=r.ordertype,o=void 0;"undefined"===typeof t&&(t=this.findMarketByAltnameOrId(r.pair));var a=parseInt(1e3*e.opentm),s=this.safeFloat(e,"vol"),u=this.safeFloat(e,"vol_exec"),c=s-u,d=void 0,l=this.safeFloat(e,"cost"),h=this.safeFloat(r,"price");if(h||(h=this.safeFloat(e,"price")),"undefined"!==typeof t&&(o=t.symbol,"fee"in e)){var p=e.oflags;d={cost:this.safeFloat(e,"fee"),rate:void 0},p.indexOf("fciq")>=0?d.currency=t.quote:p.indexOf("fcib")>=0&&(d.currency=t.base)}return{id:e.id,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:e.status,symbol:o,type:i,side:n,price:h,cost:l,amount:s,filled:u,remaining:c,fee:d}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=[],o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],u=this.extend({id:s},e[s]);i.push(this.parseOrder(u,t))}return this.filterBySinceLimit(i,r,n)}},{key:"fetchOrder",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostQueryOrders(this.extend({trades:!0,txid:t},r));case 6:return n=e.sent,i=n.result,o=this.parseOrder(this.extend({id:t},i[t])),e.abrupt("return",this.extend({info:n},o));case 10:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchMyTrades",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:void 0,i=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:return o={},"undefined"!==typeof r&&(o.start=parseInt(r/1e3)),e.next=10,this.privatePostTradesHistory(this.extend(o,i));case 10:for(a=e.sent,s=a.result.trades,u=Object.keys(s),c=0;c<u.length;c++)s[u[c]].id=u[c];if(d=this.parseTrades(s,void 0,r,n),"undefined"!==typeof t){e.next=17;break}return e.abrupt("return",d);case 17:return e.abrupt("return",this.filterBySymbol(d,t));case 18:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"cancelOrder",value:(T=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,e.next=8,this.privatePostCancelOrder(this.extend({txid:t},r));case 8:n=e.sent,e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(5),!this.last_http_response){e.next=16;break}if(!(this.last_http_response.indexOf("EOrder:Unknown order")>=0)){e.next=16;break}throw new l(this.id+" cancelOrder() error "+this.last_http_response);case 16:throw e.t0;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this,[[5,11]])})),function(e){return T.apply(this,arguments)})},{key:"fetchOpenOrders",value:(O=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},"undefined"!==typeof r&&(o.start=parseInt(r/1e3)),e.next=10,this.privatePostOpenOrders(this.extend(o,i));case 10:if(a=e.sent,s=this.parseOrders(a.result.open,void 0,r,n),"undefined"!==typeof t){e.next=14;break}return e.abrupt("return",s);case 14:return e.abrupt("return",this.filterBySymbol(s,t));case 15:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchClosedOrders",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o={},"undefined"!==typeof r&&(o.start=parseInt(r/1e3)),e.next=10,this.privatePostClosedOrders(this.extend(o,i));case 10:if(a=e.sent,s=this.parseOrders(a.result.closed,void 0,r,n),"undefined"!==typeof t){e.next=14;break}return e.abrupt("return",s);case 14:return e.abrupt("return",this.filterBySymbol(s,t));case 15:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"fetchDepositMethods",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostDepositMethods(this.extend({asset:n.id},r));case 6:return i=e.sent,e.abrupt("return",i.result);case 8:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"createDepositAddress",value:(k=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n={new:"true"},e.next=4,this.fetchDepositAddress(t,this.extend(n,r));case 4:return i=e.sent,o=this.safeString(i,"address"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,info:i});case 8:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"fetchDepositAddress",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:if(n=this.currency(t),"undefined"!==typeof(i=this.safeString(r,"method"))){e.next=15;break}if(!this.options.cacheDepositMethodsOnFetchDepositAddress){e.next=14;break}if(t in this.options.depositMethods){e.next=11;break}return e.next=10,this.fetchDepositMethods(t);case 10:this.options.depositMethods[t]=e.sent;case 11:i=this.options.depositMethods[t][0].method,e.next=15;break;case 14:throw new d(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+t+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');case 15:return o={asset:n.id,method:i},e.next=18,this.privatePostDepositAddresses(this.extend(o,r));case 18:if(a=e.sent,s=a.result,!(s.length<1)){e.next=23;break}throw new y(this.id+" privatePostDepositAddresses() returned no addresses");case 23:return u=this.safeString(s[0],"address"),this.checkAddress(u),e.abrupt("return",{currency:t,address:u,info:a});case 26:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"withdraw",value:(b=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),!("key"in i)){e.next=10;break}return e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostWithdraw(this.extend({asset:t,amount:r},i));case 8:return o=e.sent,e.abrupt("return",{info:o,id:o.result});case 10:throw new d(this.id+" withdraw requires a 'key' parameter (withdrawal key name, as set up on your account)");case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return b.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else if("private"===t){this.checkRequiredCredentials();var s=this.nonce().toString();o=this.urlencode(this.extend({nonce:s},n));var u=this.encode(s+o),c=this.hash(u,"sha256","binary"),d=this.stringToBinary(this.encode(a)),l=this.binaryConcat(d,c),h=this.base64ToBinary(this.secret),p=this.hmac(l,h,"sha512","base64");i={"API-Key":this.apiKey,"API-Sign":this.decode(p),"Content-Type":"application/x-www-form-urlencoded"}}else a="/"+e;return{url:a=this.urls.api[t]+a,method:r,body:o,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(o.indexOf("Invalid order")>=0)throw new m(this.id+" "+o);if(o.indexOf("Invalid nonce")>=0)throw new p(this.id+" "+o);if(o.indexOf("Insufficient funds")>=0)throw new f(this.id+" "+o);if(o.indexOf("Cancel pending")>=0)throw new v(this.id+" "+o);if(o.indexOf("Invalid arguments:volume")>=0)throw new m(this.id+" "+o);if("{"===o[0]){var a=JSON.parse(o);if("string"!==typeof a)if("error"in a)if(a.error.length){for(var s=this.id+" "+this.json(a),u=0;u<a.error.length;u++)if(a.error[u]in this.exceptions)throw new this.exceptions[a.error[u]](s);throw new d(s)}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.InvalidNonce,l=u.InvalidOrder,h=u.AuthenticationError,p=u.InsufficientFunds,f=u.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,v,m,y,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"kucoin",name:"Kucoin",countries:"HK",version:"v1",rateLimit:2e3,userAgent:this.userAgents.chrome,has:{CORS:!1,cancelOrders:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:"emulated",fetchCurrencies:!0,withdraw:!0},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"8h":480,"1d":"D","1w":"W"},urls:{logo:"https://user-images.githubusercontent.com/1294454/33795655-b3c46e48-dcf6-11e7-8abe-dc4588ba7901.jpg",api:{public:"https://api.kucoin.com",private:"https://api.kucoin.com",kitchen:"https://kitchen.kucoin.com","kitchen-2":"https://kitchen-2.kucoin.com"},www:"https://www.kucoin.com",referral:"https://www.kucoin.com/?r=E5wkqe",doc:"https://kucoinapidocs.docs.apiary.io",fees:"https://news.kucoin.com/en/fee"},api:{kitchen:{get:["open/chart/history"]},public:{get:["open/chart/config","open/chart/history","open/chart/symbol","open/currencies","open/deal-orders","open/kline","open/lang-list","open/orders","open/orders-buy","open/orders-sell","open/tick","market/open/coin-info","market/open/coins","market/open/coins-trending","market/open/symbols"]},private:{get:["account/balance","account/{coin}/wallet/address","account/{coin}/wallet/records","account/{coin}/balance","account/promotion/info","account/promotion/sum","deal-orders","order/active","order/active-map","order/dealt","order/detail","referrer/descendant/count","user/info"],post:["account/{coin}/withdraw/apply","account/{coin}/withdraw/cancel","account/promotion/draw","cancel-order","order","order/cancel-all","user/change-lang"]}},fees:{trading:{maker:.001,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{KCS:2,BTC:5e-4,USDT:10,ETH:.01,LTC:.001,NEO:0,GAS:0,KNC:.5,BTM:5,QTUM:.1,EOS:.5,CVC:3,OMG:.1,PAY:.5,SNT:20,BHC:1,HSR:.01,WTC:.1,VEN:2,MTH:10,RPX:1,REQ:20,EVX:.5,MOD:.5,NEBL:.1,DGB:.5,CAG:2,CFD:.5,RDN:.5,UKG:5,BCPT:5,PPT:.1,BCH:5e-4,STX:2,NULS:1,GVT:.1,HST:2,PURA:.5,SUB:2,QSP:5,POWR:1,FLIXX:10,LEND:20,AMB:3,RHOC:2,R:2,DENT:50,DRGN:1,ACT:.1},deposit:{}}},options:{fetchOrderBookWarning:!0,timeDifference:0,adjustForTimeDifference:!1,limits:{amount:{min:{BTC:1e-5,ETH:1e-5,BCH:1e-5,GAS:.1,NEO:.01,KCS:1,TMT:1,TFD:1,LALA:1,CS:1,DOCK:1,ETN:1,IHT:1,KICK:1,WAN:1,ACT:1,APH:1,BAX:1,DATX:1,DEB:1,ELEC:1,GO:1,HSR:1,IOTX:1,LOOM:1,LYM:1,MOBI:1,OMX:1,ONT:1,OPEN:1,QKC:1,SHL:1,SOUL:1,SPHTX:1,SRN:1,TKY:1,TOMO:1,TRAC:1,COV:1,DADI:1,ELF:1,LTC:1,MAN:1,PRL:1,STK:1,ZIL:1,ZPT:1,BPT:1,CAPP:1,POLY:1,TNC:1,XRB:.1,AXP:1,COFI:1,CXO:1,DRGN:1,DTA:1,ING:1,MTN:1,OCN:10,PARETO:1,SNC:1,TEL:10,WAX:1,ADB:1,BOS:1,HAT:1,HKN:1,HPB:1,IOST:1,ARY:1,DBC:1,KEY:1,GAT:1,RPX:1,ACAT:1,CV:10,QLC:1,R:1,TIO:1,ITC:1,AGI:10,EXY:1,MWAT:1,DENT:1,J8T:1,LOCI:1,CAT:1,ARN:1,CAN:1,EOS:.1,ETC:.1,JNT:1,PLAY:1,CHP:1,DASH:.01,DNA:1,EBTC:1,FOTA:1,PURA:.1,UTK:1,CAG:1,GLA:1,HAV:1,SPF:1,TIME:1,ABT:1,BNTY:1,ELIX:1,ENJ:1,AIX:1,VEN:1,AION:1,DAT:1,QTUM:.1,WTC:.1,DGB:1,SNOV:1,BRD:1,AMB:1,BTM:1,MANA:1,RHOC:1,XLR:1,XAS:.1,CHSB:1,UKG:1,POLL:1,FLIXX:.1,INS:1,OMG:.1,TFL:1,WPR:1,LEND:1,KNC:.001,BCD:.001,LA:1,ONION:1,POWR:.1,SNM:1,BTG:.001,PBL:1,MOD:.1,PPT:.1,BCPT:1,GVT:.1,HST:.1,SNT:.1,SUB:.1,NEBL:.1,CVC:.1,MTH:1,NULS:.1,PAY:.1,RDN:1,REQ:1,QSP:.1}}}},commonCurrencies:{CAN:"CanYa"}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:(I=i(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOpenTick();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.timestamp),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"fetchMarkets",value:(B=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketOpenSymbols();case 2:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=6;break}return e.next=6,this.loadTimeDifference();case 6:for(r=t.data,n=[],i=0;i<r.length;i++)o=r[i],a=o.symbol,s=o.coinType,u=o.coinTypePair,s=this.commonCurrencyCode(s),u=this.commonCurrencyCode(u),c=s+"/"+u,d={amount:8,price:8},l=Math.pow(10,-d.amount),h=this.safeFloat(this.options.limits.amount.min,s,l),p=o.trading,n.push({id:a,symbol:c,base:s,quote:u,active:p,taker:this.safeFloat(o,"feeRate"),maker:this.safeFloat(o,"feeRate"),info:o,lot:Math.pow(10,-d.amount),precision:d,limits:{amount:{min:h,max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchDepositAddress",value:(E=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetAccountCoinWalletAddress(this.extend({coin:n.id},r));case 6:return i=e.sent,o=i.data,a=this.safeString(o,"address"),this.checkAddress(a),s=this.safeString(o,"userOid"),e.abrupt("return",{currency:t,address:a,tag:s,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"fetchCurrencies",value:(P=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetMarketOpenCoins(t);case 3:for(r=e.sent,n=r.data,i={},o=0;o<n.length;o++)a=n[o],s=a.coin,u=this.commonCurrencyCode(s),c=a.tradePrecision,d=a.enableDeposit,l=a.enableWithdraw,h=d&&l,p=Math.pow(10,-c),f=this.safeFloat(this.options.limits.amount.min,u,p),i[u]={id:s,code:u,info:a,name:a.name,active:h,fee:a.withdrawMinFee,precision:c,limits:{amount:{min:f,max:Math.pow(10,c)},price:{min:Math.pow(10,-c),max:Math.pow(10,c)},cost:{min:void 0,max:void 0},withdraw:{min:a.withdrawMinAmount,max:Math.pow(10,c)}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"fetchBalance",value:(S=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountBalance(this.extend({},t));case 5:for(r=e.sent,n=r.data,i={info:n},o=this.indexBy(n,"coinType"),a=Object.keys(o),s=0;s<a.length;s++)u=a[s],c=this.commonCurrencyCode(u),d=this.account(),l=o[u],h=parseFloat(l.freezeBalance),p=parseFloat(l.balance),f=this.sum(p,h),d.free=p,d.used=h,d.total=f,i[c]=d;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchOrderBook",value:(R=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={symbol:i.id},"undefined"!==typeof r&&(o.limit=r),e.next=9,this.publicGetOpenOrders(this.extend(o,n));case 9:if(a=e.sent,s=void 0,u=void 0,"data"in a&&a.data){e.next=18;break}if(!this.options.fetchOrderBookWarning){e.next=15;break}throw new c(this.id+" fetchOrderBook returned an null reply. Set exchange.options['fetchOrderBookWarning'] = false to silence this warning");case 15:s={BUY:[],SELL:[]},e.next=21;break;case 18:s=a.data,u=this.safeInteger(a,"timestamp"),u=this.safeInteger(a.data,"timestamp",u);case 21:return e.abrupt("return",this.parseOrderBook(s,u,"BUY","SELL"));case 22:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"direction");"undefined"===typeof r&&(r=e.type),"undefined"!==typeof r&&(r=r.toLowerCase());var n=this.safeString(e,"orderOid");"undefined"===typeof n&&(n=this.safeString(e,"oid"));var i=void 0;if("dealOrders"in e&&(i=this.safeValue(e.dealOrders,"datas")),"undefined"!==typeof i){i=this.parseTrades(i,t);for(var o=0;o<i.length;o++)i[o].side=r,i[o].order=n}var a=void 0;a="undefined"!==typeof t?t.symbol:e.coinType+"/"+e.coinTypePair;var s=this.safeValue(e,"createdAt"),u=this.safeFloat(e,"pendingAmount"),c=this.safeValue(e,"status"),d=this.safeFloat(e,"dealAmount"),l=this.safeFloat(e,"amount"),h=this.safeFloat(e,"dealValue");if("undefined"===typeof h&&(h=this.safeFloat(e,"dealValueTotal")),"undefined"===typeof c&&"undefined"!==typeof u&&(c=u>0?"open":"closed"),"undefined"===typeof d)"undefined"!==typeof c&&"closed"===c&&(d=this.safeFloat(e,"amount"));else if(0===d&&"undefined"!==typeof i){h=0;for(var p=0;p<i.length;p++)d+=i[p].amount,h+=i[p].cost}var f=void 0;"undefined"!==typeof d&&(d>0?("undefined"===typeof(f=this.safeFloat(e,"price"))&&(f=this.safeFloat(e,"dealPrice")),"undefined"===typeof f&&(f=this.safeFloat(e,"dealPriceAverage"))):"undefined"===typeof(f=this.safeFloat(e,"orderPrice"))&&(f=this.safeFloat(e,"price")),"undefined"!==typeof f&&"undefined"===typeof h&&(h=f*d),"undefined"===typeof l?"undefined"!==typeof u&&(l=this.sum(d,u)):"undefined"===typeof u&&(u=l-d)),"open"===c&&("undefined"!==typeof h&&0!==h||"undefined"!==typeof f&&"undefined"!==typeof l&&(h=l*f));var v=void 0;if("undefined"!==typeof t)v="sell"===r?t.quote:t.base;else{var m="sell"===r?"coinTypePair":"coinType",y=this.safeString(e,m);"undefined"!==typeof y&&y in this.currencies_by_id&&(y=this.currencies_by_id[y].code)}var b=this.safeFloat(e,"fee"),g={cost:this.safeFloat(e,"feeTotal",b),rate:this.safeFloat(e,"feeRate"),currency:v};return{info:e,id:n,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:"limit",side:r,price:f,amount:l,cost:h,filled:d,remaining:u,status:c,fee:g,trades:i}}},{key:"fetchOrder",value:(C=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},"undefined"!==typeof r){e.next=4;break}throw new c(this.id+" fetchOrder requires a symbol argument");case 4:if("undefined"!==typeof(i=this.safeValue(n,"type"))){e.next=7;break}throw new c(this.id+' fetchOrder requires a type parameter ("BUY" or "SELL")');case 7:return e.next=9,this.loadMarkets();case 9:return o=this.market(r),a={symbol:o.id,type:i,orderOid:t},e.next=13,this.privateGetOrderDetail(this.extend(a,n));case 13:if((s=e.sent).data){e.next=16;break}throw new f(this.id+" "+this.json(s));case 16:return e.abrupt("return",this.parseOrder(s.data,o));case 17:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"parseOrdersByStatus",value:function(e,t,r,n,i){for(var o=[],a=0;a<e.length;a++){var s=this.parseOrder(this.extend(e[a],{status:i}),t);o.push(s)}var u="undefined"!==typeof t?t.symbol:void 0;return this.filterBySymbolSinceLimit(o,u,r,n)}},{key:"fetchOpenOrders",value:(_=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:void 0,i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a=void 0,"undefined"!==typeof t?(a=this.market(t),o=a.id):o="",s={symbol:o},e.next=12,this.privateGetOrderActiveMap(this.extend(s,i));case 12:return u=e.sent,"undefined"===typeof(c=this.safeValue(u.data,"SELL"))&&(c=[]),"undefined"===typeof(d=this.safeValue(u.data,"BUY"))&&(d=[]),l=this.arrayConcat(c,d),e.abrupt("return",this.parseOrdersByStatus(l,a,r,n,"open"));case 19:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"fetchClosedOrders",value:(T=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:20,i=c.length>3&&void 0!==c[3]?c[3]:{},o={},e.next=7,this.loadMarkets();case 7:return a=void 0,"undefined"!==typeof t&&(a=this.market(t),o.symbol=a.id),"undefined"!==typeof r&&(o.since=r),"undefined"!==typeof n&&(o.limit=n),e.next=13,this.privateGetOrderDealt(this.extend(o,i));case 13:return s=e.sent,u=s.data.datas,e.abrupt("return",this.parseOrdersByStatus(u,a,r,n,"closed"));case 16:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"createOrder",value:(O=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l,h,p,f,v,m,y,b=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b.length>4&&void 0!==b[4]?b[4]:void 0,a=b.length>5&&void 0!==b[5]?b[5]:{},"limit"===r){e.next=4;break}throw new c(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(t),u=s.quote,d=s.base,l={symbol:s.id,type:n.toUpperCase(),price:this.truncate(o,this.currencies[u].precision),amount:this.truncate(i,this.currencies[d].precision)},o=parseFloat(o),i=parseFloat(i),h=o*i,e.next=15,this.privatePostOrder(this.extend(l,a));case 15:return p=e.sent,f=this.safeString(p.data,"orderOid"),v=this.safeInteger(p,"timestamp"),m=void 0,"undefined"!==typeof v&&(m=this.iso8601(v)),y={info:p,id:f,timestamp:v,datetime:m,lastTradeTimestamp:void 0,symbol:s.symbol,type:r,side:n,amount:i,filled:void 0,remaining:void 0,price:o,cost:h,status:"open",fee:void 0,trades:void 0},this.orders[f]=y,e.abrupt("return",y);case 23:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return O.apply(this,arguments)})},{key:"cancelOrders",value:(x=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:{},n={},!t){e.next=8;break}return e.next=6,this.loadMarkets();case 6:i=this.market(t),n.symbol=i.id;case 8:return"type"in r&&(n.type=r.type.toUpperCase(),r=this.omit(r,"type")),e.next=11,this.privatePostOrderCancelAll(this.extend(n,r));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"cancelOrder",value:(w=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},"undefined"!==typeof r){e.next=4;break}throw new c(this.id+" cancelOrder requires a symbol");case 4:return e.next=6,this.loadMarkets();case 6:if(i=this.market(r),o={symbol:i.id,orderOid:t},!("type"in n)){e.next=13;break}o.type=n.type.toUpperCase(),n=this.omit(n,"type"),e.next=14;break;case 13:throw new c(this.id+' cancelOrder requires parameter type=["BUY"|"SELL"]');case 14:return e.next=16,this.privatePostCancelOrder(this.extend(o,n));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.datetime,n=void 0;n=t?t.symbol:e.coinType+"/"+e.coinTypePair;var i=this.safeFloat(e,"change"),o=this.safeFloat(e,"lastDealPrice"),a=void 0;"undefined"!==typeof o&&"undefined"!==typeof i&&(a=o-i);var s=this.safeFloat(e,"changeRate");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:a,close:o,last:o,previousClose:void 0,change:i,percentage:s,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volValue"),info:e}}},{key:"fetchTickers",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.publicGetMarketOpenSymbols(t);case 4:for(r=e.sent,n=r.data,i={},o=0;o<n.length;o++)a=this.parseTicker(n[o]),s=a.symbol,i[s]=a;return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchTicker",value:(g=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetOpenTick(this.extend({symbol:n.id},r));case 6:return i=e.sent,o=i.data,e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=e,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,d=void 0,l=void 0;if(Array.isArray(e))o=e[0],a="limit","BUY"===e[1]?s="buy":"SELL"===e[1]&&(s="sell"),u=e[2],d=e[3];else{o=this.safeValue(e,"createdAt"),n=this.safeString(e,"orderOid"),r=this.safeString(e,"oid"),"undefined"!==typeof(s=this.safeString(e,"direction"))&&(s=s.toLowerCase()),u=this.safeFloat(e,"dealPrice"),d=this.safeFloat(e,"amount"),c=this.safeFloat(e,"dealValue");var h=void 0;if("undefined"!==typeof t)h="sell"===s?t.quote:t.base;else{var p="sell"===s?"coinTypePair":"coinType",f=this.safeString(n,p);"undefined"!==typeof f&&f in this.currencies_by_id&&(f=this.currencies_by_id[f].code)}l={cost:this.safeFloat(e,"fee"),currency:h}}var v=void 0;return"undefined"!==typeof t&&(v=t.symbol),{id:r,order:n,info:i,timestamp:o,datetime:this.iso8601(o),symbol:v,type:a,side:s,price:u,cost:c,amount:d,fee:l}}},{key:"fetchTrades",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetOpenDealOrders(this.extend({symbol:o.id,limit:n},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.data,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchMyTrades",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},t){e.next=6;break}throw new c(this.id+" fetchMyTrades is deprecated and requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),a={symbol:o.id},n&&(a.limit=n),e.next=13,this.privateGetDealOrders(this.extend(a,i));case 13:return s=e.sent,e.abrupt("return",this.parseTrades(s.data.datas,o,r,n));case 15:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"parseTradingViewOHLCV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(o,t,r,n,i)}},{key:"fetchOHLCV",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:"1m",n=p.length>2&&void 0!==p[2]?p[2]:void 0,i=p.length>3&&void 0!==p[3]?p[3]:void 0,o=p.length>4&&void 0!==p[4]?p[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),s=this.seconds(),u=this.timeframes[r],"D"===(c=u)?("undefined"===typeof i&&(i=30),c=1440):"W"===c?("undefined"===typeof i&&(i=52),c=10080):"undefined"===typeof i&&(i=1440),d=s-i*c*60,"undefined"!==typeof n&&(d=parseInt(n/1e3),s=Math.min(s,this.sum(d,i*c*60))),l={symbol:a.id,resolution:u,from:d,to:s},e.next=16,this.publicGetOpenChartHistory(this.extend(l,o));case 16:return h=e.sent,e.abrupt("return",this.parseTradingViewOHLCV(h,a,r,n,i));case 18:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"withdraw",value:(v=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),this.checkAddress(n),e.next=9,this.privatePostAccountCoinWithdrawApply(this.extend({coin:o.id,amount:r,address:n},i));case 9:return a=e.sent,e.abrupt("return",{info:a,id:void 0});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),s=this.urls.api[t]+a,u=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce(),d="";c=c.toString(),Object.keys(u).length&&(s+="?"+(d=this.rawencode(this.keysort(u))),"GET"!==r&&(o=d));var l=a+"/"+c+"/"+d,h=this.stringToBase64(this.encode(l)),p=this.hmac(h,this.encode(this.secret),"sha256");i={"KC-API-KEY":this.apiKey,"KC-API-NONCE":c,"KC-API-SIGNATURE":p}}else Object.keys(u).length&&(s+="?"+this.urlencode(u));return{url:s,method:r,body:o,headers:i}}},{key:"throwExceptionOnError",value:function(e){if("success"in e&&!0!==e.success){if(!("code"in e)||!("msg"in e))throw new c(this.id+": malformed response: "+this.json(e));var t=this.safeString(e,"code"),r=this.safeString(e,"msg"),n=this.id+" "+this.json(e);if("UNAUTH"===t){if("Invalid nonce"===r)throw new d(n);throw new h(n)}if("ERROR"===t){if(r.indexOf("The precision of amount")>=0)throw new l(n);if(r.indexOf("Min amount each order")>=0)throw new l(n);if(r.indexOf("Min price:")>=0)throw new l(n);if(r.indexOf("Max price:")>=0)throw new l(n);if(r.indexOf("The precision of price")>=0)throw new l(n)}else if("NO_BALANCE"===t&&r.indexOf("Insufficient balance")>=0)throw new p(n);throw new c(this.id+": unknown response: "+this.json(e))}}},{key:"handleErrors",value:function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;"undefined"!==typeof a?this.throwExceptionOnError(a):o&&"{"===o[0]&&this.throwExceptionOnError(JSON.parse(o))}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(21),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"kuna",name:"Kuna",countries:"UA",rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/31697638-912824fa-b3c1-11e7-8c36-cf9606eb94ac.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},fees:{trading:{taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}}})}},{key:"fetchMarkets",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:"btcuah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"ethuah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"gbguah",symbol:"GBG/UAH",base:"GBG",quote:"UAH",baseId:"gbg",quoteId:"uah",precision:{amount:3,price:2},lot:.001,limits:{amount:{min:1e-6,max:void 0},price:{min:.01,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"kunbtc",symbol:"KUN/BTC",base:"KUN",quote:"BTC",baseId:"kun",quoteId:"btc",precision:{amount:6,price:6},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1e-6,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"bchbtc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",precision:{amount:6,price:6},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1e-6,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"bchuah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"wavesuah",symbol:"WAVES/UAH",base:"WAVES",quote:"UAH",baseId:"waves",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"arnbtc",symbol:"ARN/BTC",base:"ARN",quote:"BTC",baseId:"arn",quoteId:"btc"},{id:"b2bbtc",symbol:"B2B/BTC",base:"B2B",quote:"BTC",baseId:"b2b",quoteId:"btc"},{id:"evrbtc",symbol:"EVR/BTC",base:"EVR",quote:"BTC",baseId:"evr",quoteId:"btc"},{id:"golgbg",symbol:"GOL/GBG",base:"GOL",quote:"GBG",baseId:"gol",quoteId:"gbg"},{id:"rbtc",symbol:"R/BTC",base:"R",quote:"BTC",baseId:"r",quoteId:"btc"},{id:"rmcbtc",symbol:"RMC/BTC",base:"RMC",quote:"BTC",baseId:"rmc",quoteId:"btc"}],r=[],e.next=4,this.publicGetTickers();case 4:for(n=e.sent,i=0;i<t.length;i++)(o=t[i]).id in n&&r.push(o);for(a=this.indexBy(r,"id"),s=Object.keys(n),u=0;u<s.length;u++)(c=s[u])in a||(d=(d=(d=c.replace("btc","")).replace("uah","")).replace("gbg","")).length>0&&(l=d.length-0,h=c.slice(l),p=d.toUpperCase(),f=h.toUpperCase(),p=this.commonCurrencyCode(p),f=this.commonCurrencyCode(f),v=p+"/"+f,r.push({id:c,symbol:v,base:p,quote:f,baseId:d,quoteId:h}));return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchOrderBook",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetOrderBook(this.extend({market:n.id},r));case 7:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","remaining_volume"));case 9:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchL3OrderBook",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:void 0,n=i.length>2&&void 0!==i[2]?i[2]:{},e.abrupt("return",this.fetchOrderBook(t,r,n));case 3:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchOpenOrders",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},t){e.next=6;break}throw new u(this.id+" fetchOpenOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(t),e.next=11,this.privateGetOrders(this.extend({market:o.id},i));case 11:return a=e.sent,e.abrupt("return",this.parseOrders(a,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;t&&(n=t.symbol);var i=this.safeString(e,"side");i={ask:"sell",bid:"buy"}[i];var o=this.safeFloat(e,"funds"),a=this.safeString(e,"order_id");return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:o,order:a,info:e}}},{key:"fetchTrades",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTrades(this.extend({market:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"fetchMyTrades",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},t){e.next=6;break}throw new u(this.id+" fetchOpenOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return i=this.market(t),e.next=11,this.privateGetTradesMy({market:i.id});case 11:return o=e.sent,e.abrupt("return",this.parseTrades(o,i,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"lakebtc",name:"LakeBTC",countries:"US",version:"api_v2",has:{CORS:!0,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28074120-72b7c38a-6660-11e7-92d9-d9027502281d.jpg",api:"https://api.lakebtc.com",www:"https://www.lakebtc.com",doc:["https://www.lakebtc.com/s/api_v2","https://www.lakebtc.com/s/api"]},api:{public:{get:["bcorderbook","bctrades","ticker"]},private:{post:["buyOrder","cancelOrders","getAccountInfo","getExternalAccounts","getOrders","getTrades","openOrders","sellOrder"]}},fees:{trading:{maker:.0015,taker:.002}}})}},{key:"fetchMarkets",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker();case 2:for(t=e.sent,r=[],n=Object.keys(t),i=0;i<n.length;i++)o=n[i],a=t[o],s=o.slice(0,3),u=o.slice(3,6),c=s.toUpperCase(),d=u.toUpperCase(),l=c+"/"+d,r.push({id:o,symbol:l,base:c,quote:d,baseId:s,quoteId:u,info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.balance,n={info:t},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=a,a in this.currencies_by_id&&(u=this.currencies_by_id[a],s=u.code),c=parseFloat(r[a]),d={free:c,used:0,total:c},n[s]=d;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBcorderbook(this.extend({symbol:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;"undefined"!==typeof t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=r[a],u=void 0,a in this.markets_by_id&&(u=this.markets_by_id[a],a=u.symbol),i[a]=this.parseTicker(s,u);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(r);case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i[n.id],n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetBctrades(this.extend({symbol:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new u(this.id+" allows limit orders only");case 6:return s="privatePost"+this.capitalize(n)+"Order",c=this.market(t),d={params:[o,i,c.id]},e.next=11,this[s](this.extend(d,a));case 11:return l=e.sent,e.abrupt("return",{info:l,id:l.id.toString()});case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({params:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version;if("public"===t)a+="/"+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce(),u="";"params"in n&&(u=n.params.join());var c=this.urlencode({tonce:s,accesskey:this.apiKey,requestmethod:r.toLowerCase(),id:s,method:e,params:u});o=this.json({method:e,params:u,id:s});var d=this.hmac(this.encode(c),this.encode(this.secret),"sha1"),l=this.encode(this.apiKey+":"+d);i={"Json-Rpc-Tonce":s.toString(),Authorization:"Basic "+this.decode(this.stringToBase64(l)),"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.DDoSProtection,h=c.AuthenticationError,p=c.InvalidOrder;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,f,v,m,y,b,g,k,w,x,O,T,_,C;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"lbank",name:"LBank",countries:"CN",version:"v1",has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!1,fetchClosedOrders:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://www.lbank.info/api/api-overview",fees:"https://lbankinfo.zendesk.com/hc/zh-cn/articles/115002295114--%E8%B4%B9%E7%8E%87%E8%AF%B4%E6%98%8E"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}}})}},{key:"fetchMarkets",value:(C=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairs();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)o=t[n],a=o.split("_"),s=i(a,2),u=s[0],c=s[1],d=this.commonCurrencyCode(u.toUpperCase()),l=this.commonCurrencyCode(c.toUpperCase()),h=d+"/"+l,p={amount:8,price:8},f=Math.pow(10,-p.amount),r.push({id:o,symbol:h,base:d,quote:l,baseId:u,quoteId:c,active:!0,lot:f,precision:p,limits:{amount:{min:f,max:void 0},price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)},cost:{min:void 0,max:void 0}},info:o});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.safeInteger(e,"timestamp"),n=e;e=n.ticker;var i=this.safeFloat(e,"latest"),o=this.safeFloat(e,"change"),a=o/100,s=i/this.sum(1,a),u=i-s,c=this.sum(i,s)/2;return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:u,percentage:o,average:c,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"turnover"),info:n}}},{key:"fetchTicker",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"fetchTickers",value:(T=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(this.extend({symbol:"all"},t));case 6:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],(a=o.symbol)in this.marketsById&&(s=this.marketsById[a],u=s.symbol,n[u]=this.parseTicker(o,s));return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchOrderBook",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:60,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepth(this.extend({symbol:this.marketId(t),size:Math.min(r,60)},n));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=parseInt(e.date_ms),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=this.costToPrecision(t,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:t,id:this.safeString(e,"tid"),order:void 0,type:void 0,side:e.type,price:n,amount:i,cost:parseFloat(o),fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"fetchTrades",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={symbol:o.id,size:100},r&&(a.time=parseInt(r/1e3)),n&&(a.size=n),e.next=11,this.publicGetTrades(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:(w=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"5m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:1e3,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:if(a=this.market(t),"undefined"!==typeof n){e.next=9;break}throw new d(this.id+" fetchOHLCV requires a since argument");case 9:if("undefined"!==typeof i){e.next=11;break}throw new d(this.id+" fetchOHLCV requires a limit argument");case 11:return s={symbol:a.id,type:this.timeframes[r],size:i,time:parseInt(n/1e3)},e.next=14,this.publicGetKline(this.extend(s,o));case 14:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 16:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchBalance",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserInfo(t);case 5:for(r=e.sent,n={info:r},i=Object.keys(this.extend(r.info.free,r.info.freeze)),o=0;o<i.length;o++)a=i[o],s=a,a in this.currencies_by_id&&(s=this.currencies_by_id[a].code),u=this.safeFloat(r.info.free,a,0),c=this.safeFloat(r.info.freeze,a,0),(d={free:u,used:c,total:0}).total=this.sum(d.free,d.used),n[s]=d;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return this.safeString({"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"},e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=this.safeValue(this.marketsById,e.symbol);"undefined"!==typeof n?r=n.symbol:"undefined"!==typeof t&&(r=t.symbol);var i=this.safeInteger(e,"create_time"),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount",0),s=this.safeFloat(e,"deal_amount",0),u=this.safeFloat(e,"avg_price"),c=void 0;"undefined"!==typeof u&&(c=s*u);var d=this.parseOrderStatus(this.safeString(e,"status"));return{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:r,type:this.safeString(e,"order_type"),side:e.type,price:o,cost:c,amount:a,filled:s,remaining:a-s,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:(g=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={symbol:s.id,type:n,amount:i},"market"===r?u.type+="_market":u.price=o,e.next=9,this.privatePostCreateOrder(this.extend(u,a));case 9:return c=e.sent,(u=this.omit(u,"type")).order_id=c.order_id,u.type=n,u.order_type=r,u.create_time=this.milliseconds(),u.info=c,u=this.parseOrder(u,s),d=u.id,this.orders[d]=u,e.abrupt("return",u);case 20:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return g.apply(this,arguments)})},{key:"cancelOrder",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostCancelOrder(this.extend({symbol:i.id,order_id:t},n));case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOrder",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privatePostOrdersInfo(this.extend({symbol:i.id,order_id:t},n));case 7:if(o=e.sent,1!==(a=this.parseOrders(o.orders,i)).length){e.next=13;break}return e.abrupt("return",a[0]);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchOrders",value:(m=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return"undefined"===typeof n&&(n=100),o=this.market(t),e.next=10,this.privatePostOrdersInfoHistory(this.extend({symbol:o.id,current_page:1,page_length:n},i));case 10:return a=e.sent,e.abrupt("return",this.parseOrders(a.orders,void 0,r,n));case 12:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchClosedOrders",value:(v=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,a=this.filterBy(o,"status","closed"),s=this.filterBy(o,"status","cancelled"),e.abrupt("return",a+s);case 10:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n);if(s+=".do","public"===t)Object.keys(a).length&&(s+="?"+this.urlencode(a));else{this.checkRequiredCredentials();var u=this.keysort(this.extend({api_key:this.apiKey},n)),c=this.rawencode(u)+"&secret_key="+this.secret;u.sign=this.hash(this.encode(c)).toUpperCase(),o=this.urlencode(u),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:o,headers:i}}},{key:"request",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:"public",n=f.length>2&&void 0!==f[2]?f[2]:"GET",i=f.length>3&&void 0!==f[3]?f[3]:{},o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(s=e.sent,"false"!==this.safeString(s,"result")){e.next=14;break}throw u=this.safeString(s,"error_code"),c=this.safeString({10000:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001"},u,this.json(s)),new(this.safeValue({10002:h,10004:l,10005:h,10006:h,10007:h,10009:p,10010:p,10011:p,10012:p,10013:p,10014:p,10015:p,10016:p},u,d))(c);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError,h=c.NotSupported,p=c.InvalidOrder,f=c.OrderNotFound,v=c.ExchangeNotAvailable,m=c.DDoSProtection,y=c.InsufficientFunds;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,b,g,k,w,x,O,T,_,C,R,S,P,E,B,I,F;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"livecoin",name:"LiveCoin",countries:["US","UK","RU"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{fetchDepositAddress:!0,CORS:!1,fetchTickers:!0,fetchCurrencies:!0,fetchTradingFees:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27980768-f22fc424-638a-11e7-89c9-6010a54ff9be.jpg",api:"https://api.livecoin.net",www:"https://www.livecoin.net",doc:"https://www.livecoin.net/api?lang=en"},api:{public:{get:["exchange/all/order_book","exchange/last_trades","exchange/maxbid_minask","exchange/order_book","exchange/restrictions","exchange/ticker","info/coinInfo"]},private:{get:["exchange/client_orders","exchange/order","exchange/trades","exchange/commission","exchange/commissionCommonInfo","payment/balances","payment/balance","payment/get/address","payment/history/size","payment/history/transactions"],post:["exchange/buylimit","exchange/buymarket","exchange/cancellimit","exchange/selllimit","exchange/sellmarket","payment/out/capitalist","payment/out/card","payment/out/coin","payment/out/okpay","payment/out/payeer","payment/out/perfectmoney","payment/voucher/amount","payment/voucher/make","payment/voucher/redeem"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0018,taker:.0018}},commonCurrencies:{CPC:"CapriCoin",CRC:"CryCash",EDR:"E-Dinar Coin",eETT:"EETT",FirstBlood:"1ST",FORTYTWO:"42",ORE:"Orectic",RUR:"RUB",SCT:"SpaceCoin",TPI:"ThaneCoin",wETT:"WETT",XBT:"Bricktox"},exceptions:{1:d,10:l,100:d,101:l,102:l,103:p,104:p,105:p,11:l,12:l,2:l,20:l,30:l,31:h,32:d,429:m,503:v}})}},{key:"fetchMarkets",value:(F=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m,y,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangeTicker();case 2:return t=e.sent,e.next=5,this.publicGetExchangeRestrictions();case 5:for(r=e.sent,n=this.indexBy(r.restrictions,"currencyPair"),o=[],a=0;a<t.length;a++)s=t[a],u=s.symbol,d=(c=u).split("/"),l=i(d,2),h=l[0],p=l[1],f=this.commonCurrencyCode(h),v=this.commonCurrencyCode(p),m=this.safeValue(n,c),y={price:5,amount:8,cost:8},b={amount:{min:Math.pow(10,-y.amount),max:Math.pow(10,y.amount)}},m&&(y.price=this.safeInteger(m,"priceScale",5),b.amount.min=this.safeFloat(m,"minLimitQuantity",b.amount.min)),b.price={min:Math.pow(10,-y.price),max:Math.pow(10,y.price)},o.push({id:u,symbol:c,base:f,quote:v,baseId:h,quoteId:p,active:!0,precision:y,limits:b,info:s});return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchCurrencies",value:(I=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetInfoCoinInfo(t);case 3:for(r=e.sent,n=r.info,i={},o=0;o<n.length;o++)a=n[o],s=a.symbol,u=this.commonCurrencyCode(s),c=8,d="normal"===a.walletStatus,i[u]={id:s,code:u,info:a,name:a.name,active:d,fee:a.withdrawFee,precision:c,limits:{amount:{min:a.minOrderAmount,max:Math.pow(10,c)},price:{min:Math.pow(10,-c),max:Math.pow(10,c)},cost:{min:a.minOrderAmount,max:void 0},withdraw:{min:a.minWithdrawAmount,max:Math.pow(10,c)},deposit:{min:a.minDepositAmount,max:void 0}}};return i=this.appendFiatCurrencies(i),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)})),function(){return I.apply(this,arguments)})},{key:"appendFiatCurrencies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={info:void 0,active:!0,fee:void 0,precision:8,limits:{withdraw:{min:void 0,max:void 0},deposit:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},price:{min:Math.pow(10,-8),max:Math.pow(10,8)}}},r=[{id:"USD",code:"USD",name:"US Dollar"},{id:"EUR",code:"EUR",name:"Euro"}];r.push({id:"RUR",code:this.commonCurrencyCode("RUR"),name:"Russian ruble"});for(var n=0;n<r.length;n++){var i=r[n];e[i.code]=this.extend(t,i)}return e}},{key:"fetchBalance",value:(B=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetPaymentBalances();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.currency,a=void 0,a=o in r?r[o]:this.account(),"total"===i.type&&(a.total=parseFloat(i.value)),"available"===i.type&&(a.free=parseFloat(i.value)),"trade"===i.type&&(a.used=parseFloat(i.value)),r[o]=a;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchTradingFees",value:(E=o(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetExchangeCommissionCommonInfo(t);case 5:return r=e.sent,n=this.safeFloat(r,"commission"),e.abrupt("return",{info:r,maker:n,taker:n});case 8:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"fetchOrderBook",value:(P=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={currencyPair:this.marketId(t),groupByPrice:"false"},"undefined"!==typeof r&&(i.depth=r),e.next=8,this.publicGetExchangeOrderBook(this.extend(i,n));case 8:return o=e.sent,a=o.timestamp,e.abrupt("return",this.parseOrderBook(o,a));case 11:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"vwap"),o=this.safeFloat(e,"volume"),a=o*i,s=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:a,info:e}}},{key:"fetchTickers",value:(S=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetExchangeTicker(t);case 6:for(r=e.sent,n=this.indexBy(r,"symbol"),i=Object.keys(n),o={},a=0;a<i.length;a++)s=i[a],u=this.markets_by_id[s],c=u.symbol,d=n[s],o[c]=this.parseTicker(d,u);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return S.apply(this,arguments)})},{key:"fetchTicker",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetExchangeTicker(this.extend({currencyPair:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.time;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.id.toString(),order:void 0,type:void 0,side:e.type.toLowerCase(),price:e.price,amount:e.quantity}}},{key:"fetchTrades",value:(C=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetExchangeLastTrades(this.extend({currencyPair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchOrder",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n={orderId:t},e.next=7,this.privateGetExchangeOrder(this.extend(n,r));case 7:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 9:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){var t={OPEN:"open",PARTIALLY_FILLED:"open",EXECUTED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED_AND_CANCELLED:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"lastModificationTime"in e&&"undefined"!==typeof(r=this.safeString(e,"lastModificationTime"))&&(r=r.indexOf("T")>=0?this.parse8601(r):this.safeInteger(e,"lastModificationTime")),r&&(n=this.iso8601(r));var i=this.safeString(e,"status");i=this.safeString(e,"orderStatus",i),i=this.parseOrderStatus(i);var o=void 0;if("undefined"===typeof t){var a=this.safeString(e,"currencyPair");(a=this.safeString(e,"symbol",a))in this.markets_by_id&&(t=this.markets_by_id[a])}var s=void 0,u=void 0;if("type"in e){var c=e.type.toLowerCase().split("_");s=c[0],u=c[1]}var d=this.safeFloat(e,"price"),l=this.safeFloat(e,"remainingQuantity");l=this.safeFloat(e,"remaining_quantity",l);var h=this.safeFloat(e,"quantity",l),p=void 0;"undefined"!==typeof l&&(p=h-l);var f=void 0;"undefined"!==typeof p&&"undefined"!==typeof d&&(f=p*d);var v=this.safeFloat(e,"commission_rate"),m=void 0;"undefined"!==typeof f&&"undefined"!==typeof v&&(m=f*v);var y=void 0;return"undefined"!==typeof t&&(o=t.symbol,y=t.quote),{info:e,id:e.id,timestamp:r,datetime:n,lastTradeTimestamp:void 0,status:i,symbol:o,type:s,side:u,price:d,amount:h,cost:f,filled:p,remaining:l,trades:void 0,fee:{cost:m,currency:y,rate:v}}}},{key:"fetchOrders",value:(T=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:void 0,i=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},"undefined"!==typeof t&&(o=this.market(t),a.currencyPair=o.id),"undefined"!==typeof r&&(a.issuedFrom=parseInt(r)),"undefined"!==typeof n&&(a.endRow=n-1),e.next=13,this.privateGetExchangeClientOrders(this.extend(a,i));case 13:for(s=e.sent,u=[],c=[],s.data&&(c=s.data),d=0;d<c.length;d++)l=c[d],u.push(this.parseOrder(l,o));return e.abrupt("return",u);case 19:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"fetchOpenOrders",value:(O=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({openClosed:"OPEN"},i));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchClosedOrders",value:(x=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({openClosed:"CLOSED"},i));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"createOrder",value:(w=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>4&&void 0!==h[4]?h[4]:void 0,a=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return s="privatePostExchange"+this.capitalize(n)+r,u=this.market(t),c={quantity:this.amountToPrecision(t,i),currencyPair:u.id},"limit"===r&&(c.price=this.priceToPrecision(t,o)),e.next=10,this[s](this.extend(c,a));case 10:return d=e.sent,l={info:d,id:d.orderId.toString()},this.safeValue(d,"success")&&(l.status="open"),e.abrupt("return",l);case 15:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return w.apply(this,arguments)})},{key:"cancelOrder",value:(k=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},r){e.next=4;break}throw new d(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),o=i.id,e.next=10,this.privatePostExchangeCancellimit(this.extend({orderId:t,currencyPair:o},n));case 10:if(a=e.sent,s=this.safeString(a,"message",this.json(a)),!("success"in a)){e.next=23;break}if(a.success){e.next=17;break}throw new p(s);case 17:if(!("cancelled"in a)){e.next=23;break}if(!a.cancelled){e.next=22;break}return e.abrupt("return",{status:"canceled",info:a});case 22:throw new f(s);case 23:throw new d(this.id+" cancelOrder() failed: "+this.json(a));case 24:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"withdraw",value:(g=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:void 0,o=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return this.checkAddress(n),a=n,"undefined"!==typeof i&&(a+="::"+i),s={amount:this.truncate(r,this.currencies[t].precision),currency:this.commonCurrencyCode(t),wallet:a},e.next=10,this.privatePostPaymentOutCoin(this.extend(s,o));case 10:if(u=e.sent,"undefined"!==typeof(c=this.safeInteger(u,"id"))){e.next=14;break}throw new y(this.id+" insufficient funds to cover requested withdrawal amount post fees "+this.json(u));case 14:return e.abrupt("return",{info:u,id:c});case 15:case"end":return e.stop()}},e,this)})),function(e,t,r){return g.apply(this,arguments)})},{key:"fetchDepositAddress",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n={currency:t},e.next=4,this.privateGetPaymentGetAddress(this.extend(n,r));case 4:return i=e.sent,o=this.safeString(i,"wallet"),a=void 0,o.indexOf(":")>=0&&(s=o.split(":"),o=s[0],a=s[2]),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:a,info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e,s=this.urlencode(this.keysort(n));if("GET"===r&&Object.keys(n).length&&(a+="?"+s),"private"===t){this.checkRequiredCredentials(),"POST"===r&&(o=s);var u=this.hmac(this.encode(s),this.encode(this.secret),"sha256");i={"Api-Key":this.apiKey,Sign:u.toUpperCase(),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&"{"===o[0]){var a=JSON.parse(o);if(e>=300){var s=this.safeString(a,"errorCode");if(s in this.exceptions)throw new(0,this.exceptions[s])(this.id+" "+o);throw new d(this.id+" "+o)}if(!this.safeValue(a,"success",!0)){if(this.safeString(a,"message","").indexOf("Cannot find order")>=0)throw new f(this.id+" "+o);throw new d(this.id+" "+o)}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b,g;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e4,version:"1",has:{CORS:!1,fetchTickers:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:"https://api.mybitx.com/api",www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{public:{get:["orderbook","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}"],post:["accounts","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}},{key:"fetchMarkets",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickers();case 2:for(t=e.sent,r=[],n=0;n<t.tickers.length;n++)i=t.tickers[n],o=i.pair,a=o.slice(0,3),s=o.slice(3,6),a=this.commonCurrencyCode(a),s=this.commonCurrencyCode(s),u=a+"/"+s,r.push({id:o,symbol:u,base:a,quote:s,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.balance,n={info:t},i=0;i<r.length;i++)o=r[i],a=this.commonCurrencyCode(o.asset),s=parseFloat(o.reserved),u=parseFloat(o.unconfirmed),(c={free:0,used:this.sum(s,u),total:parseFloat(o.balance)}).free=c.total-c.used,n[a]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,i=n.timestamp,e.abrupt("return",this.parseOrderBook(n,i,"bids","asks","price","volume"));case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.creation_timestamp,n="PENDING"===e.state?"open":"closed",i="ASK"===e.type?"sell":"buy",o=void 0;t&&(o=t.symbol);var a=this.safeFloat(e,"limit_price"),s=this.safeFloat(e,"limit_volume"),u=this.safeFloat(e,"fee_counter"),c=this.safeFloat(e,"fee_base"),d={currency:void 0};return u?(d.side="quote",d.cost=u):(d.side="base",d.cost=c),{id:e.order_id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:n,symbol:o,type:void 0,side:i,price:a,amount:s,filled:void 0,remaining:void 0,trades:void 0,fee:d,info:e}}},{key:"fetchOrder",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=this.indexBy(r.tickers,"pair"),i=Object.keys(n),o={},a=0;a<i.length;a++)s=i[a],u=this.markets_by_id[s],c=u.symbol,d=n[s],o[c]=this.parseTicker(d,u);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({pair:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=e.is_buy?"buy":"sell";return{info:e,id:void 0,order:void 0,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:r,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={pair:o.id},"undefined"!==typeof r&&(a.since=r),e.next=10,this.publicGetTrades(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s.trades,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s="privatePost",u={pair:this.marketId(t)},"market"===r?(s+="Marketorder",u.type=n.toUpperCase(),"buy"===n?u.counter_volume=i:u.base_volume=i):(s+="Postorder",u.volume=i,u.price=o,u.type="buy"===n?"BID":"ASK"),e.next=9,this[s](this.extend(u,a));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.order_id});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostStoporder({order_id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if(Object.keys(s).length&&(a+="?"+this.urlencode(s)),"private"===t){this.checkRequiredCredentials();var u=this.encode(this.apiKey+":"+this.secret);u=this.stringToBase64(u),i={Authorization:"Basic "+this.decode(u)}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"lykke",name:"Lykke",countries:"CH",version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api",test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"}},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["Market/{market}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}}})}},{key:"fetchBalance",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetWallets();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.AssetId,a=i.Balance,s=i.Reserved,u=a-s,r[o]={free:u,used:s,total:a};return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"cancelOrder",value:(y=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrdersIdCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"createOrder",value:(m=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={AssetPairId:s.id,OrderAction:this.capitalize(n),Volume:i},"market"===r?u.Asset="buy"===n?s.base:s.quote:"limit"===r&&(u.Price=o),c="privatePostOrders"+this.capitalize(r),e.next=10,this[c](this.extend(u,a));case 10:return d=e.sent,e.abrupt("return",{id:void 0,info:d});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"fetchMarkets",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssetPairs();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.Id,a=i.BaseAssetId,s=i.QuotingAssetId,a=this.commonCurrencyCode(a),s=this.commonCurrencyCode(s),u=i.Name,c={amount:i.Accuracy,price:i.InvertedAccuracy},r.push({id:o,symbol:u,base:a,quote:s,active:!0,info:i,lot:Math.pow(10,-c.amount),precision:c,limits:{amount:{min:Math.pow(10,-c.amount),max:Math.pow(10,c.amount)},price:{min:Math.pow(10,-c.price),max:Math.pow(10,c.price)}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=parseFloat(e.lastPrice);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.bid),bidVolume:void 0,ask:parseFloat(e.ask),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:parseFloat(e.volume24H),info:e}}},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.mobileGetMarketMarket(this.extend({market:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseOrderStatus",value:function(e){return"Pending"===e?"open":"InOrderBook"===e?"open":"Processing"===e?"open":"Matched"===e?"closed":"Cancelled"===e?"canceled":"NotEnoughFunds"===e?"NotEnoughFunds":"NoLiquidity"===e?"NoLiquidity":"UnknownAsset"===e?"UnknownAsset":"LeadToNegativeSpread"===e?"LeadToNegativeSpread":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(e.Status),n=void 0;t||"AssetPairId"in e&&e.AssetPairId in this.markets_by_id&&(t=this.markets_by_id[e.AssetPairId]),t&&(n=t.symbol);var i=void 0;"LastMatchTime"in e&&e.LastMatchTime?i=this.parse8601(e.LastMatchTime):"Registered"in e&&e.Registered?i=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(i=this.parse8601(e.CreatedAt));var o=this.safeFloat(e,"Price"),a=this.safeFloat(e,"Volume"),s=this.safeFloat(e,"RemainingVolume"),u=a-s,c=u*o;return{info:e,id:e.Id,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:n,type:void 0,side:void 0,price:o,cost:c,average:void 0,amount:a,filled:u,remaining:s,status:r,fee:void 0}}},{key:"fetchOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchOrders",value:(h=i(regeneratorRuntime.mark(function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:void 0,t=i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:void 0,i.length>3&&void 0!==i[3]?i[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders();case 8:return n=e.sent,e.abrupt("return",this.parseOrders(n,void 0,t,r));case 10:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"fetchOpenOrders",value:(l=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:void 0,n=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders(this.extend({status:"InOrderBook"},n));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i,void 0,t,r));case 10:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"fetchClosedOrders",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:void 0,n=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders(this.extend({status:"Matched"},n));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i,void 0,t,r));case 10:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"fetchOrderBook",value:(c=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(t)},r));case 6:for(n=e.sent,i={timestamp:void 0,bids:[],asks:[]},o=void 0,a=0;a<n.length;a++)(s=n[a]).IsBuy?i.bids=this.arrayConcat(i.bids,s.Prices):i.asks=this.arrayConcat(i.asks,s.Prices),u=this.parse8601(s.Timestamp),o="undefined"===typeof o?u:Math.max(o,u);return e.abrupt("return",this.parseOrderBook(i,o,"bids","asks","Price","Volume"));case 11:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e[t]),i=parseFloat(e[r]);return i<0&&(i=-i),[n,i]}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));return"public"===t?Object.keys(s).length&&(a+="?"+this.urlencode(s)):"private"===t&&("GET"===r&&Object.keys(s).length&&(a+="?"+this.urlencode(s)),this.checkRequiredCredentials(),i={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===r&&Object.keys(n).length&&(o=this.json(n))),{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"mercado",name:"Mercado Bitcoin",countries:"BR",rateLimit:1e3,version:"v3",has:{CORS:!0,createMarketOrder:!1,fetchOrder:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","withdraw_coin"]}},markets:{"BTC/BRL":{id:"BRLBTC",symbol:"BTC/BRL",base:"BTC",quote:"BRL",suffix:"Bitcoin"},"LTC/BRL":{id:"BRLLTC",symbol:"LTC/BRL",base:"LTC",quote:"BRL",suffix:"Litecoin"},"BCH/BRL":{id:"BRLBCH",symbol:"BCH/BRL",base:"BCH",quote:"BRL",suffix:"BCash"}},fees:{trading:{maker:.003,taker:.7/100}}})}},{key:"fetchOrderBook",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},n=this.market(t),e.next=5,this.publicGetCoinOrderbook(this.extend({coin:n.base},r));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 7:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchTicker",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=this.market(t),e.next=4,this.publicGetCoinTicker(this.extend({coin:n.base},r));case 4:return i=e.sent,o=i.ticker,a=1e3*parseInt(o.date),s=this.safeFloat(o,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(o,"high"),low:this.safeFloat(o,"low"),bid:this.safeFloat(o,"buy"),bidVolume:void 0,ask:this.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(o,"vol"),quoteVolume:void 0,info:o});case 9:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},o=this.market(t),a="publicGetCoinTrades",s={coin:o.base},"undefined"!==typeof r&&(a+="From",s.from=parseInt(r/1e3)),"undefined"!==typeof this.safeInteger(i,"to")&&(a+="To"),e.next=11,this[a](this.extend(s,i));case 11:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchBalance",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privatePostGetAccountInfo();case 3:for(t=e.sent,r=t.response_data.balance,n={info:t},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=a.toLowerCase(),u=this.account(),s in r&&(u.free=parseFloat(r[s].available),u.total=parseFloat(r[s].total),u.used=u.total-u.free),n[a]=u;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"createOrder",value:(f=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},"market"!==r){e.next=4;break}throw new u(this.id+" allows limit orders only");case 4:return s="privatePostPlace"+this.capitalize(n)+"Order",c={coin_pair:this.marketId(t),quantity:i,limit_price:o},e.next=8,this[s](this.extend(c,a));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.response_data.order.order_id.toString()});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},r){e.next=4;break}throw new u(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),e.next=9,this.privatePostCancelOrder(this.extend({coin_pair:i.id,order_id:t},n));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"order_type"in e&&(r=1===e.order_type?"buy":"sell");var n=e.status,i=void 0;t||"coin_pair"in e&&e.coin_pair in this.markets_by_id&&(t=this.markets_by_id[e.coin_pair]),t&&(i=t.symbol);var o=void 0;"created_timestamp"in e&&(o=1e3*parseInt(e.created_timestamp)),"updated_timestamp"in e&&(o=1e3*parseInt(e.updated_timestamp));var a={cost:this.safeFloat(e,"fee"),currency:t.quote},s=this.safeFloat(e,"limit_price"),u=this.safeFloat(e,"executed_price_avg"),c=this.safeFloat(e,"quantity"),d=this.safeFloat(e,"executed_quantity"),l=c-d,h=c*u;return{info:e,id:e.order_id.toString(),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:i,type:"limit",side:r,price:s,cost:h,average:u,amount:c,filled:d,remaining:l,status:n,fee:a}}},{key:"fetchOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},r){e.next=4;break}throw new u(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return i=this.market(r),o=void 0,e.next=10,this.privatePostGetOrder(this.extend({coin_pair:i.id,order_id:parseInt(t)},n));case 10:return o=e.sent,e.abrupt("return",this.parseOrder(o.response_data.order));case 12:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"withdraw",value:(l=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(o={coin:t,quantity:r.toFixed(10),address:n},"BRL"!==t){e.next=12;break}if("account_ref"in i){e.next=10;break}throw new u(this.id+" requires account_ref parameter to withdraw "+t);case 10:e.next=16;break;case 12:if("LTC"===t){e.next=16;break}if("tx_fee"in i){e.next=16;break}throw new u(this.id+" requires tx_fee parameter to withdraw "+t);case 16:return e.next=18,this.privatePostWithdrawCoin(this.extend(o,i));case 18:return a=e.sent,e.abrupt("return",{info:a,id:a.response_data.withdrawal.id});case 20:case"end":return e.stop()}},e,this)})),function(e,t,r){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/",s=this.omit(n,this.extractParams(e));if("public"===t)a+=this.implodeParams(e,n),Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),a+=this.version+"/";var u=this.nonce();o=this.urlencode(this.extend({tapi_method:e,tapi_nonce:u},n));var c="/tapi/"+this.version+"/?"+o;i={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(c),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error_message"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30237212-ed29303c-9535-11e7-8af8-fcd381cfa20c.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker","trades","depth"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",maker:.0015,taker:.0025},"BCH/USD":{id:"bch_usd",symbol:"BCH/USD",base:"BCH",quote:"USD",maker:.001,taker:.0015},"ETH/USD":{id:"eth_usd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.001,taker:.0015}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.privatePostInfo();case 3:for(t=e.sent,r=t.result.wallet,n={info:r},i=Object.keys(this.currencies),o=0;o<i.length;o++)a=i[o],s=a.toLowerCase(),u=this.account(),s in r&&(u.free=parseFloat(r[s].avail),u.used=parseFloat(r[s].lock),u.total=this.sum(u.free,u.used)),n[a]=u;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetDepth(this.extend({market:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.result));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.publicGetTicker(this.extend({market:this.marketId(t)},r));case 3:return n=e.sent,i=n.result,o=this.milliseconds(),a=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"buy"),bidVolume:void 0,ask:this.safeFloat(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"vol"),quoteVolume:void 0,info:i});case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTrades(this.extend({market:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a.result,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},s={market:this.marketId(t),op:n,amount:i},"market"===r?(s.order_type=1,s.price=o):s.order_type=0,e.next=6,this.privatePostTrade(this.extend(s,a));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.result.id.toString()});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var s=this.nonce();o=this.urlencode(this.extend({nonce:s},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.secret,"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("status"in(s=e.sent))){e.next=11;break}if(200!==s.status){e.next=11;break}return e.abrupt("return",s);case 11:throw new u(this.id+" "+this.json(s));case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"negociecoins",name:"NegocieCoins",countries:"BR",rateLimit:1e3,version:"v3",has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38008571-25a6246e-3258-11e8-969b-aeb691049245.jpg",api:{public:"https://broker.negociecoins.com.br/api/v3",private:"https://broker.negociecoins.com.br/tradeapi/v1"},www:"https://www.negociecoins.com.br",doc:["https://www.negociecoins.com.br/documentacao-tradeapi","https://www.negociecoins.com.br/documentacao-api"],fees:"https://www.negociecoins.com.br/comissoes"},api:{public:{get:["{PAR}/ticker","{PAR}/orderbook","{PAR}/trades","{PAR}/trades/{timestamp_inicial}","{PAR}/trades/{timestamp_inicial}/{timestamp_final}"]},private:{get:["user/balance","user/order/{orderId}"],post:["user/order","user/orders"],delete:["user/order/{orderId}"]}},markets:{"B2X/BRL":{id:"b2xbrl",symbol:"B2X/BRL",base:"B2X",quote:"BRL"},"BCH/BRL":{id:"bchbrl",symbol:"BCH/BRL",base:"BCH",quote:"BRL"},"BTC/BRL":{id:"btcbrl",symbol:"BTC/BRL",base:"BTC",quote:"BRL"},"BTG/BRL":{id:"btgbrl",symbol:"BTG/BRL",base:"BTG",quote:"BRL"},"DASH/BRL":{id:"dashbrl",symbol:"DASH/BRL",base:"DASH",quote:"BRL"},"LTC/BRL":{id:"ltcbrl",symbol:"LTC/BRL",base:"LTC",quote:"BRL"}},fees:{trading:{maker:.003,taker:.004},funding:{withdraw:{BTC:.001,BCH:3e-5,BTG:9e-5,LTC:.005}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n="undefined"!==typeof t?t.symbol:void 0,i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPARTicker(this.extend({PAR:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPAROrderbook(this.extend({PAR:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bid","ask","price","quantity"));case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),o=t.symbol,a=parseFloat(this.costToPrecision(o,n*i));return{timestamp:r,datetime:this.iso8601(r),symbol:o,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type.toLowerCase(),price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),"undefined"===typeof r&&(r=0),a={PAR:o.id,timestamp_inicial:parseInt(r/1e3)},e.next=10,this.publicGetPARTradesTimestampInicial(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchBalance",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserBalance(t);case 5:for(r=e.sent,n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=this.commonCurrencyCode(a),(c={free:parseFloat(s.total),used:0,total:parseFloat(s.available)}).used=c.total-c.free,n[u]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair))&&(r=t.symbol);var n=this.parse8601(e.created),i=this.safeFloat(e,"price"),o=this.safeFloat(e,"quantity"),a=this.safeFloat(e,"total"),s=this.safeFloat(e,"pending_quantity"),u=this.safeFloat(e,"executed_quantity"),c=e.status;c="filled"===c?"closed":"cancelled"===c?"canceled":"open";return{id:e.id.toString(),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:r,type:"limit",side:e.type,price:i,cost:a,amount:o,filled:u,remaining:s,trades:void 0,fee:{currency:t.quote,cost:this.safeFloat(e,"fee")},info:e}}},{key:"createOrder",value:(f=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.privatePostUserOrder(this.extend({pair:s.id,price:this.priceToPrecision(t,o),volume:this.amountToPrecision(t,i),type:n},a));case 7:return u=e.sent,c=this.parseOrder(u[0],s),d=c.id,this.orders[d]=c,e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.markets[r],e.next=7,this.privateDeleteUserOrderOrderId(this.extend({orderId:t},n));case 7:return o=e.sent,e.abrupt("return",this.parseOrder(o[0],i));case 9:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetUserOrderOrderId(this.extend({orderId:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n[0]));case 8:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"fetchOrders",value:(l=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),a={pair:o.id},"undefined"!==typeof r&&(a.startDate=this.ymd(r)),"undefined"!==typeof n&&(a.pageSize=n),e.next=12,this.privatePostUserOrders(this.extend(a,i));case 12:return s=e.sent,e.abrupt("return",this.parseOrders(s,o));case 14:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"fetchOpenOrders",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({status:"pending"},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"fetchClosedOrders",value:(c=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({status:"filled"},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e)),u=this.urlencode(s);if("public"===t)u.length&&(a+="?"+u);else{this.checkRequiredCredentials();var c=this.seconds().toString(),d=this.nonce().toString(),l="";u.length?(o=this.json(s),l=this.hash(this.encode(o),"md5","base64")):o="";var h=this.encodeURIComponent(a).toLowerCase(),p=[this.apiKey,r,h,c,d,l].join(""),f=this.base64ToBinary(this.secret),v=this.hmac(this.encode(p),this.encode(f),"sha256","base64");v=this.binaryToString(v),i={Authorization:"amx "+[this.apiKey,v,d,c].join(":")},"POST"===r?(i["Content-Type"]="application/json; charset=UTF-8",i["Content-Length"]=o.length):u.length&&(a+="?"+u,o=void 0)}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"nova",name:"Novaexchange",countries:"TZ",rateLimit:2e3,version:"v2",has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30518571-78ca0bca-9b8a-11e7-8840-64b83a4a94b2.jpg",api:"https://novaexchange.com/remote",www:"https://novaexchange.com",doc:"https://novaexchange.com/remote/faq"},api:{public:{get:["markets/","markets/{basecurrency}/","market/info/{pair}/","market/orderhistory/{pair}/","market/openorders/{pair}/buy/","market/openorders/{pair}/sell/","market/openorders/{pair}/both/","market/openorders/{pair}/{ordertype}/"]},private:{post:["getbalances/","getbalance/{currency}/","getdeposits/","getwithdrawals/","getnewdepositaddress/{currency}/","getdepositaddress/{currency}/","myopenorders/","myopenorders_market/{pair}/","cancelorder/{orderid}/","withdraw/{currency}/","trade/{pair}/","tradehistory/","getdeposithistory/","getwithdrawalhistory/","walletstatus/","walletstatus/{currency}/"]}}})}},{key:"fetchMarkets",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=t.markets,n=[],o=0;o<r.length;o++)a=r[o],s=a.marketname,u=s.split("_"),c=i(u,2),d=c[0],l=c[1],h=l+"/"+d,p=!0,a.disabled&&(p=!1),n.push({id:s,symbol:h,base:l,quote:d,active:p,info:a});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchOrderBook",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketOpenordersPairBoth(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"buyorders","sellorders","price","amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetMarketInfoPair(this.extend({pair:this.marketId(t)},r));case 5:return n=e.sent,i=n.markets[0],o=this.milliseconds(),a=this.safeFloat(i,"last_price"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(i,"high24h"),low:this.safeFloat(i,"low24h"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(i,"change24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(i,"volume24h"),info:i});case 10:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.unix_t_datestamp;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.tradetype.toLowerCase(),price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetMarketOrderhistoryPair(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.items,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchBalance",value:(f=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetbalances();case 5:for(t=e.sent,r=t.balances,n={info:t},i=0;i<r.length;i++)o=r[i],a=o.currency,s=parseFloat(o.amount_lockbox),u=parseFloat(o.amount_trades),c={free:parseFloat(o.amount),used:this.sum(s,u),total:parseFloat(o.amount_total)},n[a]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"createOrder",value:(p=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:void 0,a=l.length>5&&void 0!==l[5]?l[5]:{},"market"!==r){e.next=4;break}throw new c(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return i=i.toString(),o=o.toString(),s=this.market(t),u={tradetype:n.toUpperCase(),tradeamount:i,tradeprice:o,tradebase:1,pair:s.id},e.next=12,this.privatePostTradePair(this.extend(u,a));case 12:return d=e.sent,e.abrupt("return",{info:d,id:void 0});case 14:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostCancelorder(this.extend({orderid:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/";"private"===t&&(a+=t+"/"),a+=this.implodeParams(e,n);var s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString();a+="?"+this.urlencode({nonce:u});var c=this.hmac(this.encode(a),this.encode(this.secret),"sha512","base64");o=this.urlencode(this.extend({apikey:this.apiKey,signature:c},s)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("status"in(s=e.sent))){e.next=11;break}if("success"===s.status){e.next=11;break}throw new c(this.id+" "+this.json(s));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(16);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"okcoincny",name:"OKCoin CNY",countries:"CN",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766792-8be9157a-5ee5-11e7-926c-6d69b8d3378d.jpg",api:{web:"https://www.okcoin.cn",public:"https://www.okcoin.cn/api",private:"https://www.okcoin.cn/api"},www:"https://www.okcoin.cn",doc:"https://www.okcoin.cn/rest_getStarted.html"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"spot",spot:!0,future:!1},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"spot",spot:!0,future:!1},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",type:"spot",spot:!0,future:!1},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY",type:"spot",spot:!0,future:!1},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",type:"spot",spot:!0,future:!1}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:s(i,t,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}var u=r(16);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"okex",name:"OKEX",countries:["CN","US"],has:{CORS:!1,futures:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{web:"https://www.okex.com/v2",public:"https://www.okex.com/api",private:"https://www.okex.com/api"},www:"https://www.okex.com",doc:"https://github.com/okcoin-okex/API-docs-OKEx.com",fees:"https://www.okex.com/fees.html"},commonCurrencies:{FAIR:"FairGame",MAG:"Maggie",NANO:"XRB",YOYO:"YOYOW"}})}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s="quote",u=a[o],c=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?c*=i:s="base",{type:o,currency:a[s],rate:u,cost:parseFloat(this.feeToPrecision(e,c))}}},{key:"fetchMarkets",value:(l=i(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetchMarkets",this).call(this);case 2:for(r=e.sent,n=0;n<r.length;n++)r[n].spot?(r[n].maker=.0015,r[n].taker=.002):(r[n].maker=3e-4,r[n].taker=5e-4);return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"fetchTickers",value:(d=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return r={},e.next=7,this.publicGetTickers(this.extend(r,t));case 7:for(n=e.sent,i=n.tickers,o=1e3*parseInt(n.date),a={},s=0;s<i.length;s++)u=i[s],c=void 0,"symbol"in u&&(d=u.symbol)in this.markets_by_id&&(c=this.markets_by_id[d]),u=this.parseTicker(this.extend(i[s],{timestamp:o}),c),l=u.symbol,a[l]=u;return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27790564-a945a9d4-5ff9-11e7-9d2d-b635763f2f24.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"]},api:{public:{get:["countries","data/{id}/ticker","data/{id}/trades","data/{id}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["merchant/get_payment/{UUID}","user","user/addresses","user/addresses/{btc_address}","user/orders","user/orders/{UUID}","user/price_alerts"],post:["user/orders","user/addresses","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{UUID}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:.0059,taker:.0059}}})}},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privateGetUser();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s=this.account(),c="locked_"+a,(u="balance_"+a)in t&&(s.free=t[u]),c in t&&(s.used=t[c]),s.total=this.sum(s.free,s.used),r[o]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchOrderBook",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.publicGetDataIdDepth(this.extend({id:this.marketId(t)},r));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetDataIdTicker(this.extend({id:this.marketId(t)},r));case 3:return n=e.sent,i=1e3*n.at,o=this.safeFloat(n,"vwap"),a=this.safeFloat(n,"volume"),s=a*o,u=this.safeFloat(n,"price"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(n,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:this.safeFloat(n,"variation"),average:void 0,baseVolume:a,quoteVolume:s,info:n});case 10:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.created_at_int),n="traded_"+t.base.toLowerCase();return{info:e,id:e.uuid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e[n]}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetDataIdTrades(this.extend({id:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:{},s={type:this.capitalize(r)+"Order",currency:this.marketId(t),direction:n,amount:i},"market"!==r&&(s.price=o),e.next=6,this.privatePostUserOrders(this.extend(s,a));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.uuid});case 8:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privateDeleteUserOrdersUUIDCancel(this.extend({UUID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var u=this.nonce().toString(),c=u+a;"POST"===r&&Object.keys(s).length&&(c+=o=this.json(s)),i={"Api-Key":this.apiKey,"Api-Signature":this.hmac(this.encode(c),this.encode(this.secret)),"Api-Nonce":u,"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("errors"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.ExchangeNotAvailable,h=c.RequestTimeout,p=c.AuthenticationError,f=c.DDoSProtection,v=c.InsufficientFunds,m=c.OrderNotFound,y=c.OrderNotCached,b=c.InvalidOrder,g=c.AccountSuspended,k=c.CancelPending,w=c.InvalidNonce;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,x,O,T,_,C,R,S,P,E,B,I,F,A,j,M,D,L,G,N,q,U,H;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"poloniex",name:"Poloniex",countries:"US",rateLimit:1e3,has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!1,editOrder:!0,createMarketOrder:!1,fetchOHLCV:!0,fetchOrderTrades:!0,fetchMyTrades:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchTradingFees:!0,fetchCurrencies:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://poloniex.com",doc:["https://poloniex.com/support/api/","http://pastebin.com/dMX7mZE0"],fees:"https://poloniex.com/fees"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{maker:.0015,taker:.0025},funding:{}},limits:{amount:{min:1e-8,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",PLX:"ParallaxCoin",KEY:"KEYCoin",STR:"XLM",SOC:"SOCC",XAP:"API Coin"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,XMR:1e-4,USDT:1}}}}})}},{key:"calculateFee",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),s="quote",u=a[o],c=parseFloat(this.costToPrecision(e,n*u));return"sell"===r?c*=i:s="base",{type:o,currency:a[s],rate:u,cost:parseFloat(this.feeToPrecision(e,c))}}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.date,e.open,e.high,e.low,e.close,e.quoteVolume]}},{key:"fetchOHLCV",value:(H=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"5m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),n||(n=0),s={currencyPair:a.id,period:this.timeframes[r],start:parseInt(n/1e3)},"undefined"!==typeof i&&(s.end=this.sum(s.start,i*this.timeframes[r])),e.next=12,this.publicGetReturnChartData(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return H.apply(this,arguments)})},{key:"fetchMarkets",value:(U=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetReturnTicker();case 2:for(t=e.sent,r=Object.keys(t),n=[],o=0;o<r.length;o++)a=r[o],s=t[a],u=a.split("_"),c=i(u,2),d=c[0],l=c[1],l=this.commonCurrencyCode(l),d=this.commonCurrencyCode(d),h=l+"/"+d,p=this.safeFloat(this.options.limits.cost.min,d,0),n.push(this.extend(this.fees.trading,{id:a,symbol:h,base:l,quote:d,active:!0,precision:{amount:8,price:8},limits:{amount:{min:1e-8,max:1e9},price:{min:1e-8,max:1e9},cost:{min:p,max:1e9}},info:s}));return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return U.apply(this,arguments)})},{key:"fetchBalance",value:(q=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostReturnCompleteBalances(this.extend({account:"all"},t));case 5:for(r=e.sent,n={info:r},i=Object.keys(r),o=0;o<i.length;o++)a=i[o],s=r[a],u=this.commonCurrencyCode(a),(c={free:parseFloat(s.available),used:parseFloat(s.onOrders),total:0}).total=this.sum(c.free,c.used),n[u]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return q.apply(this,arguments)})},{key:"fetchTradingFees",value:(N=o(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostReturnFeeInfo();case 5:return t=e.sent,e.abrupt("return",{info:t,maker:this.safeFloat(t,"makerFee"),taker:this.safeFloat(t,"takerFee"),withdraw:{},deposit:{}});case 7:case"end":return e.stop()}},e,this)})),function(){return N.apply(this,arguments)})},{key:"fetchOrderBook",value:(G=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={currencyPair:this.marketId(t)},"undefined"!==typeof r&&(i.depth=r),e.next=8,this.publicGetReturnOrderBook(this.extend(i,n));case 8:return o=e.sent,(a=this.parseOrderBook(o)).nonce=this.safeInteger(o,"sec"),e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)})),function(e){return G.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=void 0,o=void 0,a=void 0,s=this.safeFloat(e,"last"),u=this.safeFloat(e,"percentChange");return-1!==u&&(o=s-(i=s/this.sum(1,u)),a=this.sum(s,i)/2),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:i,close:s,last:s,previousClose:void 0,change:o,percentage:100*u,average:a,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"fetchTickers",value:(L=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetReturnTicker(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=this.markets_by_id[a],u=s.symbol,c=r[a],i[u]=this.parseTicker(c,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"fetchCurrencies",value:(D=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetReturnCurrencies(t);case 3:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=r[a],u=8,c=this.commonCurrencyCode(a),d=0===s.delisted&&!s.disabled,i[c]={id:a,code:c,info:s,name:s.name,active:d,fee:this.safeFloat(s,"txFee"),precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:s.txFee,max:Math.pow(10,u)}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})},{key:"fetchTicker",value:(M=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetReturnTicker(r);case 6:return i=e.sent,o=i[n.id],e.abrupt("return",this.parseTicker(o,n));case 9:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),n=void 0,i=void 0,o=void 0;if(!t&&"currencyPair"in e){var a=e.currencyPair;if(a in this.markets_by_id)t=this.markets_by_id[a];else{var s=a.split("_");o=s[0],n=(i=s[1])+"/"+o}}t&&(n=t.symbol,i=t.base,o=t.quote);var u=e.type,c=void 0,d=this.safeFloat(e,"total"),l=this.safeFloat(e,"amount");if("fee"in e){var h=this.safeFloat(e,"fee"),p=void 0,f=void 0;"buy"===u?(f=i,p=l*h):(f=o,"undefined"!==typeof d&&(p=d*h)),c={type:void 0,rate:h,cost:p,currency:f}}return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,id:this.safeString(e,"tradeID"),order:this.safeString(e,"orderNumber"),type:"limit",side:u,price:this.safeFloat(e,"rate"),amount:l,cost:d,fee:c}}},{key:"fetchTrades",value:(j=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),a={currencyPair:o.id},"undefined"!==typeof r&&(a.start=parseInt(r/1e3),a.end=this.seconds()),e.next=10,this.publicGetReturnTradeHistory(this.extend(a,i));case 10:return s=e.sent,e.abrupt("return",this.parseTrades(s,o,r,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"fetchMyTrades",value:(A=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:void 0,r=m.length>1&&void 0!==m[1]?m[1]:void 0,n=m.length>2&&void 0!==m[2]?m[2]:void 0,i=m.length>3&&void 0!==m[3]?m[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,t&&(o=this.market(t)),a=o?o.id:"all",s={currencyPair:a},"undefined"!==typeof r&&(s.start=parseInt(r/1e3),s.end=this.seconds()),n&&(s.limit=parseInt(n)),e.next=14,this.privatePostReturnTradeHistory(this.extend(s,i));case 14:if(u=e.sent,c=[],o)c=this.parseTrades(u,o);else if(u)for(d=Object.keys(u),l=0;l<d.length;l++){h=d[l],p=void 0,h in this.markets_by_id&&(p=this.markets_by_id[h]),f=this.parseTrades(u[h],p);for(v=0;v<f.length;v++)c.push(f[v])}return e.abrupt("return",this.filterBySinceLimit(c,r,n));case 18:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp");r||(r=this.parse8601(e.date));var n=void 0;"resultingTrades"in e&&(n=this.parseTrades(e.resultingTrades,t));var i=void 0;t&&(i=t.symbol);var o=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),s=this.safeFloat(e,"startingAmount",a),u=void 0,c=0;if("undefined"!==typeof s&&"undefined"!==typeof a&&(u=s-a,"undefined"!==typeof o&&(c=u*o)),"undefined"===typeof u&&"undefined"!==typeof n){u=0,c=0;for(var d=0;d<n.length;d++){var l=n[d],h=l.amount,p=l.price;u=this.sum(u,h),c+=p*h}}return{info:e,id:e.orderNumber,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:e.status,symbol:i,type:e.type,side:e.side,price:o,cost:c,amount:s,filled:u,remaining:a,trades:n,fee:void 0}}},{key:"parseOpenOrders",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0;n<e.length;n++){var i=e[n],o=this.extend(i,{status:"open",type:"limit",side:i.type,price:i.rate});r.push(this.parseOrder(o,t))}return r}},{key:"fetchOrders",value:(F=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v,m,y,b,g,k,w=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length>0&&void 0!==w[0]?w[0]:void 0,r=w.length>1&&void 0!==w[1]?w[1]:void 0,n=w.length>2&&void 0!==w[2]?w[2]:void 0,w.length>3&&void 0!==w[3]?w[3]:{},e.next=6,this.loadMarkets();case 6:return i=void 0,t&&(i=this.market(t)),o=i?i.id:"all",e.next=11,this.privatePostReturnOpenOrders(this.extend({currencyPair:o}));case 11:if(a=e.sent,s=[],i)s=this.parseOpenOrders(a,i,s);else for(u=Object.keys(a),c=0;c<u.length;c++)d=u[c],l=a[d],h=this.markets_by_id[d],s=this.parseOpenOrders(l,h,s);for(p=0;p<s.length;p++)this.orders[s[p].id]=s[p];for(f=this.indexBy(s,"id"),v=Object.keys(this.orders),m=[],y=0;y<v.length;y++)(b=v[y])in f?this.orders[b]=this.extend(this.orders[b],f[b]):"open"===(g=this.orders[b]).status&&("undefined"===typeof(g=this.extend(g,{status:"closed",cost:void 0,filled:g.amount,remaining:0})).cost&&"undefined"!==typeof g.filled&&(g.cost=g.filled*g.price),this.orders[b]=g),k=this.orders[b],i?k.symbol===t&&m.push(k):m.push(k);return e.abrupt("return",this.filterBySinceLimit(m,r,n));case 20:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"fetchOrder",value:(I=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},i=this.safeValue(n,"since"),o=this.safeValue(n,"limit"),a=this.omit(n,["since","limit"]),e.next=7,this.fetchOrders(r,i,o,a);case 7:s=e.sent,u=0;case 9:if(!(u<s.length)){e.next=15;break}if(s[u].id!==t){e.next=12;break}return e.abrupt("return",s[u]);case 12:u++,e.next=9;break;case 15:throw new y(this.id+" order id "+t.toString()+' is not in "open" state and not found in cache');case 16:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"filterOrdersByStatus",value:function(e,t){for(var r=[],n=0;n<e.length;n++)e[n].status===t&&r.push(e[n]);return r}},{key:"fetchOpenOrders",value:(B=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterOrdersByStatus(o,"open"));case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"fetchClosedOrders",value:(E=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,n,i);case 6:return o=e.sent,e.abrupt("return",this.filterOrdersByStatus(o,"closed"));case 8:case"end":return e.stop()}},e,this)})),function(){return E.apply(this,arguments)})},{key:"createOrder",value:(P=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,l,h,p,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=f.length>4&&void 0!==f[4]?f[4]:void 0,a=f.length>5&&void 0!==f[5]?f[5]:{},"market"!==r){e.next=4;break}throw new d(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s="privatePost"+this.capitalize(n),u=this.market(t),o=parseFloat(o),i=parseFloat(i),e.next=12,this[s](this.extend({currencyPair:u.id,rate:this.priceToPrecision(t,o),amount:this.amountToPrecision(t,i)},a));case 12:return c=e.sent,l=this.milliseconds(),h=this.parseOrder(this.extend({timestamp:l,status:"open",type:r,side:n,price:o,amount:i},c),u),p=h.id,this.orders[p]=h,e.abrupt("return",this.extend({info:c},h));case 18:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return P.apply(this,arguments)})},{key:"editOrder",value:(S=o(regeneratorRuntime.mark(function e(t,r,n,i,o){var a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>5&&void 0!==p[5]?p[5]:void 0,s=p.length>6&&void 0!==p[6]?p[6]:{},e.next=4,this.loadMarkets();case 4:return a=parseFloat(a),u={orderNumber:t,rate:this.priceToPrecision(r,a)},"undefined"!==typeof o&&(o=parseFloat(o),u.amount=this.amountToPrecision(r,o)),e.next=9,this.privatePostMoveOrder(this.extend(u,s));case 9:return c=e.sent,d=void 0,t in this.orders?(this.orders[t].status="canceled",l=c.orderNumber,this.orders[l]=this.extend(this.orders[t],{id:l,price:a,status:"open"}),"undefined"!==typeof o&&(this.orders[l].amount=o),d=this.extend(this.orders[l],{info:c})):(h=void 0,r&&(h=this.market(r)),d=this.parseOrder(c,h),this.orders[d.id]=d),e.abrupt("return",d);case 13:case"end":return e.stop()}},e,this)})),function(e,t,r,n,i){return S.apply(this,arguments)})},{key:"cancelOrder",value:(R=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,e.next=8,this.privatePostCancelOrder(this.extend({orderNumber:t},r));case 8:n=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),e.t0 instanceof k&&t in this.orders&&(this.orders[t].status="canceled"),e.t0;case 15:return t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[5,11]])})),function(e){return R.apply(this,arguments)})},{key:"fetchOrderStatus",value:(C=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchOpenOrders(r);case 5:return n=e.sent,i=this.indexBy(n,"id"),e.abrupt("return",t in i?"open":"closed");case 8:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"fetchOrderTrades",value:(_=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostReturnOrderTrades(this.extend({orderNumber:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseTrades(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"createDepositAddress",value:(T=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:{},r=this.currency(t),e.next=4,this.privatePostGenerateNewAddress({currency:r.id});case 4:return n=e.sent,i=void 0,1===n.success&&(i=this.safeString(n,"response")),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,tag:void 0,info:n});case 9:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"fetchDepositAddress",value:(O=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:{},r=this.currency(t),e.next=4,this.privatePostReturnDepositAddresses();case 4:return n=e.sent,i=r.id,o=this.safeString(n,i),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:void 0,info:n});case 9:case"end":return e.stop()}},e,this)})),function(e){return O.apply(this,arguments)})},{key:"withdraw",value:(x=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),s={currency:a.id,amount:r,address:n},i&&(s.paymentId=i),e.next=10,this.privatePostWithdraw(this.extend(s,o));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.response});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return x.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],s=this.extend({command:e},n);return"public"===t?a+="?"+this.urlencode(s):(this.checkRequiredCredentials(),s.nonce=this.nonce(),o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){var a=void 0;try{a=JSON.parse(o)}catch(e){return}if("error"in a){var s=a.error,u=this.id+" "+this.json(a);throw"Invalid order number, or you are not the person who placed the order."===s?new m(u):"Connection timed out. Please try again."===s?new h(u):"Internal error. Please try again."===s?new l(u):"Order not found, or you are not the person who placed it."===s?new m(u):"Invalid API key/secret pair."===s?new p(u):"Please do not make more than 8 API calls per second."===s?new f(u):s.indexOf("Total must be at least")>=0?new b(u):s.indexOf("This account is frozen.")>=0?new g(u):s.indexOf("Not enough")>=0?new v(u):s.indexOf("Nonce must be greater")>=0?new w(u):s.indexOf("You have already called cancelOrder or moveOrder on this order.")>=0?new k(u):new d(this.id+" unknown error "+this.json(a))}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.ExchangeError,l=c.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"quadrigacx",name:"QuadrigaCX",countries:"CA",rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,fetchTickers:!0,CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766825-98a6d0de-5ee7-11e7-9fa4-38e11a2c6f52.jpg",api:"https://api.quadrigacx.com",www:"https://www.quadrigacx.com",doc:"https://www.quadrigacx.com/api_info"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book","ticker","transactions"]},private:{post:["balance","bitcoin_deposit_address","bitcoin_withdrawal","bitcoincash_deposit_address","bitcoincash_withdrawal","bitcoingold_deposit_address","bitcoingold_withdrawal","buy","cancel_order","ether_deposit_address","ether_withdrawal","litecoin_deposit_address","litecoin_withdrawal","lookup_order","open_orders","sell","user_transactions"]}},markets:{"BTC/CAD":{id:"btc_cad",symbol:"BTC/CAD",base:"BTC",quote:"CAD",maker:.005,taker:.005},"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.005,taker:.005},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.002,taker:.002},"ETH/CAD":{id:"eth_cad",symbol:"ETH/CAD",base:"ETH",quote:"CAD",maker:.005,taker:.005},"LTC/CAD":{id:"ltc_cad",symbol:"LTC/CAD",base:"LTC",quote:"CAD",maker:.005,taker:.005},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.005,taker:.005},"BCH/CAD":{id:"bch_cad",symbol:"BCH/CAD",base:"BCH",quote:"CAD",maker:.005,taker:.005},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.005,taker:.005},"BTG/CAD":{id:"btg_cad",symbol:"BTG/CAD",base:"BTG",quote:"CAD",maker:.005,taker:.005},"BTG/BTC":{id:"btg_btc",symbol:"BTG/BTC",base:"BTG",quote:"BTC",maker:.005,taker:.005}},exceptions:{101:l}})}},{key:"fetchBalance",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),i=0;i<n.length;i++)o=n[i],a=o.toLowerCase(),s={free:parseFloat(t[a+"_available"]),used:parseFloat(t[a+"_reserved"]),total:parseFloat(t[a+"_balance"])},r[o]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.publicGetOrderBook(this.extend({book:this.marketId(t)},r));case 4:return n=e.sent,i=1e3*parseInt(n.timestamp),e.abrupt("return",this.parseOrderBook(n,i));case 7:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchTickers",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p,f,v,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:void 0,t=m.length>1&&void 0!==m[1]?m[1]:{},e.next=4,this.publicGetTicker(this.extend({book:"all"},t));case 4:for(r=e.sent,n=Object.keys(r),o={},a=0;a<n.length;a++)s=n[a],u=s,c=void 0,s in this.markets_by_id?(c=this.markets_by_id[s],u=c.symbol):(d=s.split("_"),l=i(d,2),h=l[0],p=l[1],f=h.toUpperCase(),v=p.toUpperCase(),f=this.commonCurrencyCode(f),v=this.commonCurrencyCode(f),c={symbol:u=f+"/"+v}),o[u]=this.parseTicker(r[s],c);return e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchTicker",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({book:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"undefined"!==typeof t&&(r=t.symbol);var n=1e3*parseInt(e.timestamp),i=this.safeFloat(e,"vwap"),o=this.safeFloat(e,"volume"),a=o*i,s=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:i,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:a,info:e}}},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},o=this.market(t),e.next=6,this.publicGetTransactions(this.extend({book:o.id},i));case 6:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"createOrder",value:(v=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},s="privatePost"+this.capitalize(n),u={amount:i,book:this.marketId(t)},"limit"===r&&(u.price=o),e.next=7,this[s](this.extend(u,a));case 7:return c=e.sent,e.abrupt("return",{info:c,id:c.id.toString()});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return v.apply(this,arguments)})},{key:"cancelOrder",value:(f=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchDepositAddress",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="privatePost"+this.getCurrencyName(t)+"DepositAddress",e.next=4,this[n](r);case 4:if(!((i=e.sent).indexOf("rror")>=0)){e.next=7;break}throw new d(this.id+" "+i);case 7:return this.checkAddress(i),e.abrupt("return",{currency:t,address:i,tag:void 0,info:i});case 9:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getCurrencyName",value:function(e){return{ETH:"Ether",BTC:"Bitcoin",LTC:"Litecoin",BCH:"Bitcoincash",BTG:"Bitcoingold"}[e]}},{key:"withdraw",value:(h=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,i=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o={amount:r,address:n},a="privatePost"+this.getCurrencyName(t)+"Withdrawal",e.next=9,this[a](this.extend(o,i));case 9:return s=e.sent,e.abrupt("return",{info:s,id:void 0});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)a+="?"+this.urlencode(n);else{this.checkRequiredCredentials();var s=this.nonce(),u=[s.toString(),this.uid,this.apiKey].join(""),c=this.hmac(this.encode(u),this.encode(this.secret)),d=this.extend({key:this.apiKey,nonce:s,signature:c},n);o=this.json(d),i={"Content-Type":"application/json"}}return{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if("string"===typeof o&&!(o.length<2)&&("{"===o[0]||"["===o[0])){var a=JSON.parse(o),s=this.safeValue(a,"error");if("undefined"!==typeof s){var u=this.safeString(s,"code"),c=this.id+" "+this.json(a),l=this.exceptions;throw u in l?new l[u](c):new d(this.id+' unknown "error" value: '+this.json(a))}}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(67);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"quoinex",name:"QUOINEX",countries:["JP","SG","VN"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/35047114-0e24ad4a-fbaa-11e7-96a9-69c1a756083b.jpg",api:"https://api.quoine.com",www:"https://quoinex.com/",doc:["https://developers.quoine.com","https://developers.quoine.com/v2"],fees:"https://news.quoinex.com/fees/"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"southxchange",name:"SouthXchange",countries:"AR",rateLimit:1e3,has:{CORS:!0,createDepositAddress:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg",api:"https://www.southxchange.com/api",www:"https://www.southxchange.com",doc:"https://www.southxchange.com/Home/Api"},api:{public:{get:["markets","price/{symbol}","prices","book/{symbol}","trades/{symbol}"]},private:{post:["cancelMarketOrders","cancelOrder","generatenewaddress","listOrders","listBalances","placeOrder","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},commonCurrencies:{SMT:"SmartNode",MTC:"Marinecoin"}})}},{key:"fetchMarkets",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i[0],a=i[1],s=this.commonCurrencyCode(o),u=this.commonCurrencyCode(a),d=c=s+"/"+u,r.push({id:d,symbol:c,base:s,quote:u,baseId:o,quoteId:a,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostListBalances();case 5:if(t=e.sent){e.next=8;break}throw new u(this.id+" fetchBalance got an unrecognized response");case 8:for(r={info:t},n=0;n<t.length;n++)i=t[n],o=i.Currency,a=o.toUpperCase(),s=this.currencies_by_id[a],c=s.code,d=parseFloat(i.Available),l=parseFloat(i.Deposited),h=parseFloat(i.Unconfirmed),p=this.sum(l,h),f={free:d,used:p-d,total:p},r[c]=f;return e.abrupt("return",this.parseBalance(r));case 11:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBookSymbol(this.extend({symbol:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"BuyOrders","SellOrders","Price","Amount"));case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"Last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:this.safeFloat(e,"Variation24Hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24Hr"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPrices(t);case 6:for(r=e.sent,n=this.indexBy(r,"Market"),i=Object.keys(n),o={},a=0;a<i.length;a++)s=i[a],u=s,c=void 0,s in this.markets_by_id&&(c=this.markets_by_id[s],u=c.symbol),d=n[s],o[u]=this.parseTicker(d,c);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetPriceSymbol(this.extend({symbol:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=1e3*e.At;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.Type,price:e.Price,amount:e.Amount}}},{key:"fetchTrades",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradesSymbol(this.extend({symbol:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.ListingCurrency+"/"+e.ReferenceCurrency,r=this.safeFloat(e,"LimitPrice"),n=this.safeFloat(e,"OriginalAmount"),i=this.safeFloat(e,"Amount"),o=void 0,a=void 0;"undefined"!==typeof n&&(a=r*n,"undefined"!==typeof i&&(o=n-i));var s=e.Type.toLowerCase();return{info:e,id:e.Code.toString(),timestamp:void 0,datetime:this.iso8601(void 0),lastTradeTimestamp:void 0,symbol:t,type:"limit",side:s,price:r,amount:n,cost:a,filled:o,remaining:i,status:"open",fee:void 0}}},{key:"fetchOpenOrders",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return i=void 0,"undefined"!==typeof t&&(i=this.market(t)),e.next=10,this.privatePostListOrders();case 10:return o=e.sent,e.abrupt("return",this.parseOrders(o,i,r,n));case 12:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={listingCurrency:s.base,referenceCurrency:s.quote,type:n,amount:i},"limit"===r&&(u.limitPrice=o),e.next=9,this.privatePostPlaceOrder(this.extend(u,a));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.toString()});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder(this.extend({orderCode:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"createDepositAddress",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostGeneratenewaddress(this.extend({currency:n.id},r));case 6:return i=e.sent,o=i.split("|"),a=o.length,s=o[0],this.checkAddress(s),u=void 0,a>1&&(u=o[1]),e.abrupt("return",{currency:t,address:s,tag:u,info:i});case 14:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"withdraw",value:(d=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:void 0,o=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(n),a={currency:t,address:n,amount:r},"undefined"!==typeof i&&(a.address=n+"|"+i),e.next=7,this.privatePostWithdraw(this.extend(a,o));case 7:return s=e.sent,e.abrupt("return",{info:s,id:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return d.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce();s=this.extend({key:this.apiKey,nonce:u},s),o=this.json(s),i={"Content-Type":"application/json",Hash:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(11);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"surbitcoin",name:"SurBitcoin",countries:"VE",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991511-f0a50194-6481-11e7-99b5-8f02932424cc.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://surbitcoin.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"1"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y,b;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"therock",name:"TheRockTrading",countries:"MT",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}}})}},{key:"fetchMarkets",value:(b=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetFundsTickers();case 2:for(t=e.sent,r=[],n=0;n<t.tickers.length;n++)i=t.tickers[n],o=i.fund_id,a=o.slice(0,3),s=o.slice(3),u=a+"/"+s,r.push({id:o,symbol:u,base:a,quote:s,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchBalance",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalances();case 5:for(t=e.sent,r=t.balances,n={info:t},i=0;i<r.length;i++)o=r[i],a=o.currency,s=o.trading_balance,u=o.balance,c={free:s,used:u-s,total:u},n[a]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchOrderBook",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetFundsIdOrderbook(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,i=this.parse8601(n.date),e.abrupt("return",this.parseOrderBook(n,i,"bids","asks","price","amount"));case 9:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:this.safeFloat(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_traded"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTickers",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetFundsTickers(t);case 6:for(r=e.sent,n=this.indexBy(r.tickers,"fund_id"),i=Object.keys(n),o={},a=0;a<i.length;a++)s=i[a],u=this.markets_by_id[s],c=u.symbol,d=n[s],o[c]=this.parseTicker(d,u);return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchTicker",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetFundsIdTicker(this.extend({id:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t||(t=this.markets_by_id[e.fund_id]);var r=this.parse8601(e.date);return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetFundsIdTrades(this.extend({id:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a.trades,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createOrder",value:(h=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:return"market"===r&&(o=0),e.next=7,this.privatePostFundsFundIdOrders(this.extend({fund_id:this.marketId(t),side:n,amount:i,price:o},a));case 7:return s=e.sent,e.abrupt("return",{info:s,id:s.id.toString()});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return h.apply(this,arguments)})},{key:"cancelOrder",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteFundsFundIdOrdersId(this.extend({id:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),c=u+a;i={"X-TRT-KEY":this.apiKey,"X-TRT-NONCE":u,"X-TRT-SIGN":this.hmac(this.encode(c),this.encode(this.secret),"sha512")},Object.keys(s).length&&(o=this.json(s),i["Content-Type"]="application/json")}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"public",n=c.length>2&&void 0!==c[2]?c[2]:"GET",i=c.length>3&&void 0!==c[3]?c[3]:{},o=c.length>4&&void 0!==c[4]?c[4]:void 0,a=c.length>5&&void 0!==c[5]?c[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("errors"in(s=e.sent))){e.next=10;break}throw new u(this.id+" "+this.json(s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0),d=c.InsufficientFunds,l=c.OrderNotFound;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,h,p,f,v,m,y,b,g,k,w,x;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"tidebit",name:"TideBit",countries:"HK",rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39034921-e3acf016-4480-11e8-9945-a6086a1082fe.jpg",api:"https://www.tidebit.com/api",www:"https://www.tidebit.com",doc:"https://www.tidebit.com/documents/api_v2"},api:{public:{get:["v2/markets","v2/tickers","v2/tickers/{market}","v2/trades","v2/trades/{market}","v2/order_book","v2/order","v2/k_with_pending_trades","v2/k","v2/depth"],post:[]},private:{get:["v2/deposits","v2/deposit_address","v2/deposit","v2/members/me","v2/addresses/{address}"],post:["v2/order/delete","v2/order","v2/order/multi","v2/order/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:d,2003:l}})}},{key:"fetchDepositAddress",value:(x=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetV2DepositAddress(this.extend({currency:n.id},r));case 6:if(!("success"in(i=e.sent))){e.next=12;break}if(!i.success){e.next=12;break}return o=this.safeString(i,"address"),a=this.safeString(i,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(o),tag:a,info:i});case 12:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"fetchMarkets",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetV2Markets();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)o=t[n],a=o.id,s=o.name,u=s.split("/"),c=i(u,2),d=c[0],l=c[1],h=this.commonCurrencyCode(d),p=this.commonCurrencyCode(l),r.push({id:a,symbol:s,base:h,quote:p,baseId:d,quoteId:l,info:o});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchBalance",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetV2MembersMe();case 5:for(t=e.sent,r=t.accounts,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency,s=a.toUpperCase(),a in this.currencies_by_id&&(s=this.currencies_by_id[a].code),(u={free:parseFloat(o.balance),used:parseFloat(o.locked),total:0}).total=this.sum(u.free,u.used),n[s]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),o={market:i.id},"undefined"===typeof r&&(o.limit=r),o.market=i.id,e.next=10,this.publicGetV2Depth(this.extend(o,n));case 10:return a=e.sent,s=1e3*a.timestamp,e.abrupt("return",this.parseOrderBook(a,s));case 13:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var n=void 0;"undefined"!==typeof t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetV2Tickers(t);case 6:for(r=e.sent,n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=void 0,u=a,a in this.markets_by_id?(s=this.markets_by_id[a],u=s.symbol):(c=a.slice(0,3),d=a.slice(3,6),c=c.toUpperCase(),d=d.toUpperCase(),c=this.commonCurrencyCode(c),d=this.commonCurrencyCode(d),u=c+"/"+d),l=r[a],i[u]=this.parseTicker(l,s);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"fetchTicker",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetV2TickersMarket(this.extend({market:n.id},r));case 6:return i=e.sent,e.abrupt("return",this.parseTicker(i,n));case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:(m=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetV2Trades(this.extend({market:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"1m",n=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:void 0,o=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),i||(i=30),(s={market:a.id,period:this.timeframes[r],limit:i}).timestamp="undefined"!==typeof n?n:18e5,e.next=12,this.publicGetV2K(this.extend(s,o));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,a,r,n,i));case 14:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else{var n=e.market;r=this.markets_by_id[n].symbol}var i=this.parse8601(e.created_at),o=e.state,a=void 0;return"done"===o?a="closed":"wait"===o?a="open":"cancel"===o&&(a="canceled"),{id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:(f=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s={market:this.marketId(t),side:n,volume:i.toString(),ord_type:r},"limit"===r&&(s.price=o.toString()),e.next=8,this.privatePostV2Order(this.extend(s,a));case 8:return u=e.sent,c=this.markets_by_id[u.market],e.abrupt("return",this.parseOrder(u,c));case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return f.apply(this,arguments)})},{key:"cancelOrder",value:(p=o(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostV2OrderDelete({id:t});case 6:if(r=e.sent,n=this.parseOrder(r),"closed"!==(i=n.status)&&"canceled"!==i){e.next=11;break}throw new l(this.id+" "+this.json(n));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"withdraw",value:(h=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return e.next=7,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),sum:r,address:n},i));case 7:return o=e.sent,e.abrupt("return",{info:o,id:void 0});case 9:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n)+".json",s=this.omit(n,this.extractParams(e)),u=this.urls.api+"/"+a;if("public"===t)Object.keys(s).length&&(u+="?"+this.urlencode(s));else{this.checkRequiredCredentials();var c=this.nonce().toString(),d=this.urlencode(this.extend({access_key:this.apiKey,tonce:c},n)),l=r+"|"+a+"|"+d,h=d+"&signature="+this.hmac(this.encode(l),this.encode(this.secret));"GET"===r?u+="?"+h:(o=h,i={"Content-Type":"application/x-www-form-urlencoded"})}return{url:u,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(400===e){var a=JSON.parse(o),s=this.safeValue(a,"error"),u=this.safeString(s,"code"),c=this.id+" "+this.json(a),d=this.exceptions;if(u in d)throw new d[u](c)}}}])&&a(r.prototype,n),c&&a(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(12);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s,u,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"tidex",name:"Tidex",countries:"UK",rateLimit:2e3,version:"3",has:{fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://web.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{MGO:"WMGO",EMGO:"MGO"}})}},{key:"fetchCurrencies",value:(u=regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.webGetCurrency(t);case 3:for(r=e.sent,n={},i=0;i<r.length;i++)o=r[i],a=o.symbol,s=o.amountPoint,u=a.toUpperCase(),u=this.commonCurrencyCode(u),c=!0===o.visible,d=!0===o.withdrawEnable,l=!0===o.depositEnable,d&&l||(c=!1),n[u]={id:a,code:u,name:o.name,active:c,precision:s,funding:{withdraw:{active:d,fee:o.withdrawFee},deposit:{active:l,fee:0}},limits:{amount:{min:void 0,max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0},withdraw:{min:o.withdrawMinAmout,max:void 0},deposit:{min:o.depositMinAmount,max:void 0}},info:o};return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=u.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(){return c.apply(this,arguments)})},{key:"getVersionString",value:function(){return""}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],s=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce();o=this.urlencode(this.extend({nonce:u,method:e},s));var c=this.signBodyWithSecret(o);i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:c}}else"public"===t?(a+=this.getVersionString()+"/"+this.implodeParams(e,n),Object.keys(s).length&&(a+="?"+this.urlencode(s))):(a+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(s).length&&(a+="?"+this.urlencode(s)):Object.keys(s).length&&(o=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}));return{url:a,method:r,body:o,headers:i}}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(11);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"urdubit",name:"UrduBit",countries:"PK",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991453-156bf3ae-6480-11e7-82eb-7295fe1b5bb4.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://urdubit.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"8"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,c,d,l,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"vaultoro",name:"Vaultoro",countries:"CH",rateLimit:1e3,version:"1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766880-f205e870-5ee9-11e7-8fe2-0d5b15880752.jpg",api:"https://api.vaultoro.com",www:"https://www.vaultoro.com",doc:"https://api.vaultoro.com"},commonCurrencies:{GLD:"Gold"},api:{public:{get:["bidandask","buyorders","latest","latesttrades","markets","orderbook","sellorders","transactions/day","transactions/hour","transactions/month"]},private:{get:["balance","mytrades","orders"],post:["buy/{symbol}/{type}","cancel/{id}","sell/{symbol}/{type}","withdraw"]}}})}},{key:"fetchMarkets",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.publicGetMarkets();case 3:return r=e.sent,n=r.data,i=n.MarketCurrency,o=n.BaseCurrency,a=this.commonCurrencyCode(i),s=this.commonCurrencyCode(o),u=a+"/"+s,c=n.MarketName,t.push({id:c,symbol:u,base:a,quote:s,baseId:i,quoteId:o,info:n}),e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"fetchBalance",value:(f=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.data,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency_code.toUpperCase(),s=a,a in this.currencies_by_id[a]&&(s=this.currencies_by_id[a].code),u=o.cash,c=o.reserved,d=this.sum(u,c),l={free:u,used:c,total:d},n[s]=l;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchOrderBook",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(r);case 6:return n=e.sent,i={bids:n.data[0].b,asks:n.data[1].s},e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","Gold_Price","Gold_Amount"));case 9:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"fetchTicker",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetBidandask(r);case 5:return n=e.sent,i=n.bids.length,o=n.bids[i-1],a=n.asks[0],e.next=11,this.publicGetMarkets(r);case 11:return s=e.sent,u=s.data,c=this.milliseconds(),d=this.safeFloat(u,"LastPrice"),e.abrupt("return",{symbol:t,timestamp:c,datetime:this.iso8601(c),high:this.safeFloat(u,"24hHigh"),low:this.safeFloat(u,"24hLow"),bid:o[0],bidVolume:void 0,ask:a[0],askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(u,"24hVolume"),info:u});case 16:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.Time);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:void 0,price:e.Gold_Price,amount:e.Gold_Amount}}},{key:"fetchTrades",value:(l=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTransactionsDay(i);case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"createOrder",value:(d=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u="privatePost"+this.capitalize(n)+"SymbolType",e.next=8,this[u](this.extend({symbol:s.quoteId.toLowerCase(),type:r,gld:i,price:o||1},a));case 8:return c=e.sent,e.abrupt("return",{info:c,id:c.data.Order_ID});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return d.apply(this,arguments)})},{key:"cancelOrder",value:(c=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelId(this.extend({id:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if("public"===t)a+=e;else{this.checkRequiredCredentials();var s=this.nonce();a+=this.version+"/"+this.implodeParams(e,n);var u=this.extend({nonce:s,apikey:this.apiKey},this.omit(n,this.extractParams(e)));a+="?"+this.urlencode(u),i={"Content-Type":"application/json","X-Signature":this.hmac(this.encode(a),this.encode(this.secret))}}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(11);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"vbtc",name:"VBTC",countries:"VN",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991481-1f53d1d8-6481-11e7-884e-21d17e7939db.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://vbtc.exchange",doc:"https://blinktrade.com/docs"},options:{brokerId:"3"}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,c,d,l,h,p,f,v,m,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"virwox",name:"VirWoX",countries:["AT","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766894-6da9d360-5eea-11e7-90aa-41f2711b7405.jpg",api:{public:"http://api.virwox.com/api/json.php",private:"https://www.virwox.com/api/trading.php"},www:"https://www.virwox.com",doc:"https://www.virwox.com/developers.php"},requiredCredentials:{apiKey:!0,secret:!1,login:!0,password:!0},api:{public:{get:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"],post:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"]},private:{get:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"],post:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"]}}})}},{key:"fetchMarkets",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetInstruments();case 2:for(t=e.sent,r=Object.keys(t.result),n=[],i=0;i<r.length;i++)o=t.result[r[i]],a=o.instrumentID,s=o.symbol,u=o.longCurrency,c=o.shortCurrency,n.push({id:a,symbol:s,base:u,quote:c,info:o});return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchBalance",value:(m=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetBalances();case 5:for(t=e.sent,r=t.result.accountList,n={info:r},i=0;i<r.length;i++)o=r[i],a=o.currency,s=o.balance,u={free:s,used:0,total:s},n[a]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchMarketPrice",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicPostGetBestPrices(this.extend({symbols:[t]},r));case 5:return n=e.sent,i=n.result,e.abrupt("return",{bid:this.safeFloat(i[0],"bestBuyPrice"),ask:this.safeFloat(i[0],"bestSellPrice")});case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"fetchOrderBook",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i={symbols:[t]},"undefined"!==typeof r&&(i.buyDepth=r,i.sellDepth=r),e.next=8,this.publicPostGetMarketDepth(this.extend(i,n));case 8:return o=e.sent,a=o.result[0],e.abrupt("return",this.parseOrderBook(a,void 0,"buy","sell","price","volume"));case 11:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchTicker",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c,d,l,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.milliseconds(),i=n-864e5,e.next=7,this.publicGetGetTradedPriceVolume(this.extend({instrument:t,endDate:this.ymdhms(n),startDate:this.ymdhms(i),HLOC:1},r));case 7:return o=e.sent,a=o.result.priceVolumeList,s=Object.keys(a),u=s.length,c=s[u-1],d=a[c],l=this.milliseconds(),h=this.safeFloat(d,"close"),e.abrupt("return",{symbol:t,timestamp:l,datetime:this.iso8601(l),high:this.safeFloat(d,"high"),low:this.safeFloat(d,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(d,"open"),close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(d,"longVolume"),quoteVolume:this.safeFloat(d,"shortVolume"),info:d});case 16:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeInteger(e,"time");return{id:e.tid,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:t,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"vol"),fee:void 0,info:e}}},{key:"fetchTrades",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,s.length>2&&void 0!==s[2]?s[2]:void 0,r=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return n=this.market(t),e.next=8,this.publicGetGetRawTradeData(this.extend({instrument:t,timespan:3600},r));case 8:return i=e.sent,o=i.result,a=o.data,e.abrupt("return",this.parseTrades(a,n));case 12:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"createOrder",value:(l=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:void 0,a=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),u={instrument:s.symbol,orderType:n.toUpperCase(),amount:i},"limit"===r&&(u.price=o),e.next=9,this.privatePostPlaceOrder(this.extend(u,a));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.result.orderID.toString()});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return l.apply(this,arguments)})},{key:"cancelOrder",value:(d=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({orderID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],s={};"private"===t&&(this.checkRequiredCredentials(),s.key=this.apiKey,s.user=this.login,s.pass=this.password);var u=this.nonce();return"GET"===r?a+="?"+this.urlencode(this.extend({method:e,id:u},s,n)):(i={"Content-Type":"application/json"},o=this.json({method:e,params:this.extend(s,n),id:u})),{url:a,method:r,body:o,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,o){if(200===e){if("{"!==o[0]&&"["!==o[0])throw new u(this.id+" returned a non-JSON reply: "+o);var a=JSON.parse(o);if(!("result"in a))throw new u(this.id+" malformed response: no result in response: "+o);var s=a.result;if("errorCode"in s&&"OK"!==s.errorCode)throw new u(this.id+" error returned: "+o)}}}])&&o(r.prototype,n),c&&o(r,c),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(12),s=r(0),u=s.ExchangeError,c=s.InsufficientFunds,d=s.OrderNotFound,l=s.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s,h,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"wex",name:"WEX",countries:"NZ",version:"3",has:{CORS:!1,fetchTickers:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30652751-d74ec8f8-9e31-11e7-98c5-71469fcef03e.jpg",api:{public:"https://wex.nz/api",private:"https://wex.nz/tapi"},www:"https://wex.nz",doc:["https://wex.nz/api/3/docs","https://wex.nz/tapi/docs"],fees:"https://wex.nz/fees"},api:{public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","TransHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001,LTC:.001,NMC:.1,NVC:.1,PPC:.1,DASH:.001,ETH:.003,BCH:.001,ZEC:.001}}},exceptions:{messages:{"bad status":d,"Requests too often":l,"not available":l,"external service unavailable":l}},commonCurrencies:{RUR:"RUB"}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"sell"),bidVolume:void 0,ask:this.safeFloat(e,"buy"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchDepositAddress",value:(h=regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n={coinName:this.commonCurrencyCode(t)},e.next=4,this.privatePostCoinDepositAddress(this.extend(n,r));case 4:return i=e.sent,e.abrupt("return",{currency:t,address:i.return.address,tag:void 0,info:i});case 6:case"end":return e.stop()}},e,this)}),p=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=h.apply(e,t);function o(e,t){try{var o=i[e](t),u=o.value}catch(e){return void n(e)}o.done?r(u):Promise.resolve(u).then(a,s)}function a(e){o("next",e)}function s(e){o("throw",e)}a()})},function(e){return p.apply(this,arguments)})},{key:"handleErrors",value:function(e,t,r,n,i,o){if(200===e){if("{"!==o[0])return;var a=JSON.parse(o);if("success"in a&&!a.success){var s=this.safeString(a,"error");if(!s)throw new u(this.id+" returned a malformed error: "+o);if("no orders"===s)return;var d=this.id+" "+this.json(a),l=this.exceptions.messages;if(s in l)throw new l[s](d);throw s.indexOf("It is not enough")>=0?new c(d):new u(d)}}}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(1),u=r(0),c=u.ExchangeError,d=u.NotSupported,l=u.AuthenticationError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v,m,y,b,g,k;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"xbtce",name:"xBTCe",countries:"RU",rateLimit:2e3,version:"v1",has:{publicAPI:!1,CORS:!1,fetchTickers:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28059414-e235970c-662c-11e7-8c3a-08e31f78684b.jpg",api:"https://cryptottlivewebapi.xbtce.net:8443/api",www:"https://www.xbtce.com",doc:["https://www.xbtce.com/tradeapi","https://support.xbtce.info/Knowledgebase/Article/View/52/25/xbtce-exchange-api"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency","currency/{filter}","level2","level2/{filter}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/level2","quotehistory/{symbol}/ticks","symbol","symbol/{filter}","tick","tick/{filter}","ticker","ticker/{filter}","tradesession"]},private:{get:["tradeserverinfo","tradesession","currency","currency/{filter}","level2","level2/{filter}","symbol","symbol/{filter}","tick","tick/{filter}","account","asset","asset/{id}","position","position/{id}","trade","trade/{id}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/ask/info","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/{periodicity}/bars/bid/info","quotehistory/{symbol}/level2","quotehistory/{symbol}/level2/info","quotehistory/{symbol}/periodicities","quotehistory/{symbol}/ticks","quotehistory/{symbol}/ticks/info","quotehistory/cache/{symbol}/{periodicity}/bars/ask","quotehistory/cache/{symbol}/{periodicity}/bars/bid","quotehistory/cache/{symbol}/level2","quotehistory/cache/{symbol}/ticks","quotehistory/symbols","quotehistory/version"],post:["trade","tradehistory"],put:["trade"],delete:["trade"]}}})}},{key:"fetchMarkets",value:(k=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetSymbol();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)i=t[n],o=i.Symbol,a=i.MarginCurrency,s=i.ProfitCurrency,"DSH"===a&&(a="DASH"),u=a+"/"+s,u=i.IsTradeAllowed?u:o,r.push({id:o,symbol:u,base:a,quote:s,info:i});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchBalance",value:(g=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAsset();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)i=t[n],o=i.Currency,"DSH"===(a=o.toUpperCase())&&(a="DASH"),s={free:i.FreeAmount,used:i.LockedAmount,total:i.Amount},r[a]=s;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"fetchOrderBook",value:(b=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.privateGetLevel2Filter(this.extend({filter:n.id},r));case 7:return i=(i=e.sent)[0],o=i.Timestamp,e.abrupt("return",this.parseOrderBook(i,o,"Bids","Asks","Price","Volume"));case 11:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0,n=void 0;"LastBuyTimestamp"in e&&r<e.LastBuyTimestamp&&(r=e.LastBuyTimestamp,n=e.LastBuyPrice),"LastSellTimestamp"in e&&r<e.LastSellTimestamp&&(r=e.LastSellTimestamp,n=e.LastSellPrice),r||(r=this.milliseconds());var i=void 0;return t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:e.DailyBestBuyPrice,low:e.DailyBestSellPrice,bid:e.BestBid,bidVolume:void 0,ask:e.BestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.DailyTradedTotalVolume,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:(y=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,r=this.indexBy(r,"Symbol"),n=Object.keys(r),i={},o=0;o<n.length;o++)a=n[o],s=void 0,u=void 0,a in this.markets_by_id?(s=this.markets_by_id[a],u=s.symbol):(c=a.slice(0,3),d=a.slice(3,6),"DSH"===c&&(c="DASH"),"DSH"===d&&(d="DASH"),u=c+"/"+d),l=r[a],i[u]=this.parseTicker(l,s);return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"fetchTicker",value:(m=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerFilter(this.extend({filter:n.id},r));case 6:if(i=e.sent,!(i.length<1)){e.next=10;break}throw new c(this.id+" fetchTicker returned empty response, xBTCe public API error");case 10:return i=this.indexBy(i,"Symbol"),o=i[n.id],e.abrupt("return",this.parseTicker(o,n));case 13:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"fetchTrades",value:(v=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:void 0,r=n.length>3&&void 0!==n[3]?n[3]:{},e.next=5,this.loadMarkets();case 5:return e.next=7,this.privateGetTrade(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.Timestamp,e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:(f=i(regeneratorRuntime.mark(function e(t){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:"1m",r.length>2&&void 0!==r[2]?r[2]:void 0,r.length>3&&void 0!==r[3]?r[3]:void 0,r.length>4&&void 0!==r[4]?r[4]:{},new d(this.id+" fetchOHLCV is disabled by the exchange");case 5:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"createOrder",value:(p=i(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new c(this.id+" allows limit orders only");case 6:return e.next=8,this.privatePostTrade(this.extend({pair:this.marketId(t),type:n,amount:i,rate:o},a));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.Id.toString()});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return p.apply(this,arguments)})},{key:"cancelOrder",value:(h=i(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privateDeleteTrade(this.extend({Type:"Cancel",Id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new l(this.id+" requires apiKey for all requests, their public API is always busy");if(!this.uid)throw new l(this.id+" requires uid property for authentication and trading, their public API is always busy");var a=this.urls.api+"/"+this.version;"public"===t&&(a+="/"+t),a+="/"+this.implodeParams(e,n);var s=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(s).length&&(a+="?"+this.urlencode(s));else{this.checkRequiredCredentials(),i={"Accept-Encoding":"gzip, deflate"};var u=this.nonce().toString();"POST"===r&&(Object.keys(s).length?(i["Content-Type"]="application/json",o=this.json(s)):a+="?"+this.urlencode(s));var c=u+this.uid+this.apiKey+r+a;o&&(c+=o);var d=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64"),h=this.uid+":"+this.apiKey+":"+u+":"+this.binaryToString(d);i.Authorization="HMAC "+h}return{url:a,method:r,body:o,headers:i}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var s=r(12),u=r(0),c=u.ExchangeError,d=u.InsufficientFunds,l=u.DDoSProtection;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,u,h,p,f,v;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"yobit",name:"YoBit",countries:"RU",rateLimit:3e3,version:"3",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BLN:"Bulleon",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BTS:"Bitshares2",CAT:"BitClave",CMT:"CometCoin",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CRC:"CryCash",CS:"CryptoSpots",DCT:"Discount",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ERT:"Eristica Token",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",MDT:"Midnight",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PUT",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",XIN:"XINCoin"},options:{fetchOrdersRequiresSymbol:!0}})}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"open"};return e in t?t[e]:e}},{key:"fetchBalance",value:(v=i(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d,l,h,p,f,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,n={info:r},i={free:"funds",total:"funds_incl_orders"},o=Object.keys(i),a=0;a<o.length;a++)if(s=o[a],(u=i[s])in r)for(c=Object.keys(r[u]),d=0;d<c.length;d++)l=c[d],h=l.toUpperCase(),p=this.commonCurrencyCode(h),f=void 0,(f=p in n?n[p]:this.account())[s]=r[u][l],"undefined"!==typeof f.total&&"undefined"!==typeof f.free&&(f.used=f.total-f.free),n[p]=f;return e.abrupt("return",this.parseBalance(n));case 12:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"createDepositAddress",value:(f=i(regeneratorRuntime.mark(function e(t){var r,n,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.fetchDepositAddress(t,this.extend({need_new:1},r));case 3:return n=e.sent,i=this.safeString(n,"address"),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,tag:void 0,info:n.info});case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"fetchDepositAddress",value:(p=i(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),i={coinName:n.id,need_new:0},e.next=7,this.privatePostGetDepositAddress(this.extend(i,r));case 7:return o=e.sent,a=this.safeString(o.return,"address"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:void 0,info:o});case 11:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"withdraw",value:(h=i(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>3&&void 0!==s[3]?s[3]:void 0,i=s.length>4&&void 0!==s[4]?s[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),e.next=8,this.privatePostWithdrawCoinsToAddress(this.extend({coinName:o.id,amount:r,address:n},i));case 8:return a=e.sent,e.abrupt("return",{info:a,id:void 0});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"handleErrors",value:function(e,t,r,n,i,o){if("{"===o[0]){var a=JSON.parse(o);if("success"in a&&!a.success){if("error_log"in a){if(a.error_log.indexOf("Insufficient funds")>=0)throw new d(this.id+" "+this.json(a));if("Requests too often"===a.error_log)throw new l(this.id+" "+this.json(a));if("not available"===a.error_log||"external service unavailable"===a.error_log)throw new l(this.id+" "+this.json(a))}throw new c(this.id+" "+this.json(a))}}}}])&&o(r.prototype,n),u&&o(r,u),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var a=r(21);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"yunbi",name:"YUNBI",countries:"CN",rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28570548-4d646c40-7147-11e7-9cf6-839b93e6d622.jpg",extension:".json",api:"https://yunbi.com",www:"https://yunbi.com",doc:["https://yunbi.com/documents/api/guide","https://yunbi.com/swagger/"]},api:{public:{get:["tickers","tickers/{market}","markets","order_book","k","depth","trades","k_with_pending_trades","timestamp","addresses/{address}","partners/orders/{id}/trades"]},private:{get:["deposits","members/me","deposit","deposit_address","order","orders","trades/my"],post:["order/delete","orders","orders/multi","orders/clear"]}}})}}])&&i(r.prototype,n),s&&i(r,s),t}()},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e,t){try{var r=o[e](t),a=r.value}catch(e){return void i(e)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=r(1),c=r(0).ExchangeError;e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var r,n,d,l,h,p,f,v,m,y,b,g,k,w;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r=t,(n=[{key:"describe",value:function(){return this.deepExtend(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"describe",this).call(this),{id:"zaif",name:"Zaif",countries:"JP",rateLimit:2e3,version:"1",has:{CORS:!1,createMarketOrder:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["http://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:-1e-4,maker:-5e-4}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}}})}},{key:"fetchMarkets",value:(w=o(regeneratorRuntime.mark(function e(){var t,r,n,o,a,s,u,c,d,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairsAll();case 2:for(t=e.sent,r=[],n=0;n<t.length;n++)o=t[n],a=o.currency_pair,s=o.name,u=s.split("/"),c=i(u,2),d=c[0],l=c[1],h={amount:-Math.log10(o.item_unit_step),price:o.aux_unit_point},r.push({id:a,symbol:s,base:d,quote:l,active:!0,precision:h,limits:{amount:{min:this.safeFloat(o,"item_unit_min"),max:void 0},price:{min:this.safeFloat(o,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:o});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"fetchBalance",value:(k=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,n={info:r},i=Object.keys(r.funds),o=0;o<i.length;o++)a=i[o],s=r.funds[a],u=a.toUpperCase(),c={free:s,used:0,total:s},"deposit"in r&&a in r.deposit&&(c.total=r.deposit[a],c.used=c.total-c.free),n[u]=c;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"fetchOrderBook",value:(g=o(regeneratorRuntime.mark(function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepthPair(this.extend({pair:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchTicker",value:(b=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},r));case 5:return n=e.sent,i=this.milliseconds(),o=n.vwap,a=n.volume,s=a*o,u=n.last,e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:n.high,low:n.low,bid:n.bid,bidVolume:void 0,ask:n.ask,askVolume:void 0,vwap:o,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:n});case 12:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.trade_type?"buy":"sell",n=1e3*e.date,i=this.safeString(e,"id");return i=this.safeString(e,"tid",i),t||(t=this.markets_by_id[e.currency_pair]),{id:i.toString(),info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:(y=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,n=s.length>2&&void 0!==s[2]?s[2]:void 0,i=s.length>3&&void 0!==s[3]?s[3]:{},e.next=5,this.loadMarkets();case 5:return o=this.market(t),e.next=8,this.publicGetTradesPair(this.extend({pair:o.id},i));case 8:return a=e.sent,e.abrupt("return",this.parseTrades(a,o,r,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"createOrder",value:(m=o(regeneratorRuntime.mark(function e(t,r,n,i){var o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new c(this.id+" allows limit orders only");case 6:return e.next=8,this.privatePostTrade(this.extend({currency_pair:this.marketId(t),action:"buy"===n?"bid":"ask",amount:i,price:o},a));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.return.order_id.toString()});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,n){return m.apply(this,arguments)})},{key:"cancelOrder",value:(v=o(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({order_id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.action?"buy":"sell",n=1e3*parseInt(e.timestamp);t||(t=this.markets_by_id[e.currency_pair]);var i=e.price,o=e.amount;return{id:e.id.toString(),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:"limit",side:r,price:i,cost:i*o,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=Object.keys(e),o=[],a=0;a<i.length;a++){var s=i[a],u=e[s],c=this.extend(u,{id:s});o.push(this.parseOrder(c,t))}return this.filterBySinceLimit(o,r,n)}},{key:"fetchOpenOrders",value:(f=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.currency_pair=o.id),e.next=11,this.privatePostActiveOrders(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s.return,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"fetchClosedOrders",value:(p=o(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,a={},t&&(o=this.market(t),a.currency_pair=o.id),e.next=11,this.privatePostTradeHistory(this.extend(a,i));case 11:return s=e.sent,e.abrupt("return",this.parseOrders(s.return,o,r,n));case 13:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"withdraw",value:(h=o(regeneratorRuntime.mark(function e(t,r,n){var i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>3&&void 0!==a[3]?a[3]:void 0,i=a.length>4&&void 0!==a[4]?a[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if("JPY"!==t){e.next=7;break}throw new c(this.id+" does not allow "+t+" withdrawals");case 7:return e.next=9,this.privatePostWithdraw(this.extend({currency:t,amount:r,address:n},i));case 9:return o=e.sent,e.abrupt("return",{info:o,id:o.return.txid,fee:o.return.fee});case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return h.apply(this,arguments)})},{key:"nonce",value:function(){var e=parseFloat(this.milliseconds()/1e3);return e.toFixed(8)}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if("public"===t)a+="api/"+this.version+"/"+this.implodeParams(e,n);else if("fapi"===t)a+="fapi/"+this.version+"/"+this.implodeParams(e,n);else{this.checkRequiredCredentials(),a+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";var s=this.nonce();o=this.urlencode(this.extend({method:e,nonce:s},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(o),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:o,headers:i}}},{key:"request",value:(l=o(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"api",n=u.length>2&&void 0!==u[2]?u[2]:"GET",i=u.length>3&&void 0!==u[3]?u[3]:{},o=u.length>4&&void 0!==u[4]?u[4]:void 0,a=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,i,o,a);case 7:if(!("error"in(s=e.sent))){e.next=10;break}throw new c(this.id+" "+s.error);case 10:if(!("success"in s)){e.next=13;break}if(s.success){e.next=13;break}throw new c(this.id+" "+this.json(s));case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}])&&a(r.prototype,n),d&&a(r,d),t}()},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(206),i=r.n(n),o=r(10),a=r.n(o),s=r(29),u=r.n(s);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,r,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return l(n,(r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),Object.defineProperty(h(n),"state",{configurable:!0,enumerable:!0,writable:!0,value:{price:0}}),Object.defineProperty(h(n),"updatePrice",{configurable:!0,enumerable:!0,writable:!0,value:(o=i.a.mark(function e(){var t,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.exchange,r=new u.a[t],e.next=4,r.fetchTicker(n.props.symbol);case 4:o=e.sent,n.setState({price:o.last.toFixed(2)});case 6:case"end":return e.stop()}},e,this)}),a=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=o.apply(e,t);function a(e,t){try{var o=i[e](t),a=o.value}catch(e){return void n(e)}o.done?r(a):Promise.resolve(a).then(s,u)}function s(e){a("next",e)}function u(e){a("throw",e)}s()})},function(){return a.apply(this,arguments)})}),r))}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.updatePrice(),setInterval(this.updatePrice,2e4)}},{key:"render",value:function(){return a.a.createElement("div",null,this.props.exchange.toUpperCase()," ",this.props.symbol," price = $",this.state.price)}}])&&d(r.prototype,n),o&&d(r,o),t}()},function(e,t,r){e.exports=r(207)},function(e,t,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(208),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t,r){(function(e){function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",d="object"===t(e),l=r.regeneratorRuntime;if(l)d&&(e.exports=l);else{(l=r.regeneratorRuntime=d?e.exports:{}).wrap=w;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",m={},y={};y[s]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(I([])));g&&g!==i&&o.call(g,s)&&(y=g);var k=_.prototype=O.prototype=Object.create(y);T.prototype=k.constructor=_,_.constructor=T,_[c]=T.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(k),e},l.awrap=function(e){return{__await:e}},C(R.prototype),R.prototype[u]=function(){return this},l.AsyncIterator=R,l.async=function(e,t,r,n){var i=new R(w(e,t,r,n));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(k),k[c]="Generator",k[s]=function(){return this},k.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=I,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function w(e,t,r,n){var i=t&&t.prototype instanceof O?t:O,o=Object.create(i.prototype),a=new B(n||[]);return o._invoke=function(e,t,r){var n=h;return function(i,o){if(n===f)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw o;return F()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=x(e,t,r);if("normal"===u.type){if(n=r.done?v:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function x(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function O(){}function T(){}function _(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function R(e){var r;this._invoke=function(n,i){function a(){return new Promise(function(r,a){!function r(n,i,a,s){var u=x(e[n],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===t(d)&&o.call(d,"__await")?Promise.resolve(d.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):Promise.resolve(d).then(function(e){c.value=e,a(c)},s)}s(u.arg)}(n,i,r,a)})}return r=r?r.then(a,a):a()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=x(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}).call(t,r(209)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";t.a=function(){if("serviceWorker"in navigator){var e=new URL("/react-crypto-dashboard",window.location);if(e.origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/react-crypto-dashboard","/service-worker.js");n?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}};var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}}]);
//# sourceMappingURL=main.70cea6d6.js.map